import{u as w,r as x,j as e,a as u,C as d,b as m,F as A}from"./index-EUBTzQul.js";import{L as o}from"./label-9rsijxaJ.js";import{I as r}from"./input-BXL43AC-.js";import{T as c}from"./textarea-Dfjbmtdk.js";import{E as P}from"./jspdf.es.min-CJIQpcZG.js";function G(){const y=w(),[n,v]=x.useState({effectiveDate:"",institutionName:"",institutionAddress:"",sponsorName:"",sponsorAddress:"",product:"",protocolTitle:"",principalInvestigator:"",startDate:"",endDate:"",terminationNoticeDays:"30",paymentAmount:"",paymentTerms:"Paid on completion unless otherwise agreed",confidentialityPeriod:"5 years",publicationConsent:"Sponsor approval required prior to publication; except as required by law.",inventionsOwnership:"Ownership determined under applicable patent law; parties will negotiate licences if needed.",dataOwnership:"Institution owns source documents; Sponsor granted non-exclusive license to use data.",indemnityClause:"Sponsor shall indemnify, defend and hold harmless the Institution and its officers, employees and agents from claims arising from the Trial as set out in the Agreement.",subjectInjuryClause:"Sponsor shall pay reasonable medical and hospital expenses for injuries directly attributable to investigational product or study procedures.",useOfNameClause:"Neither party shall use the other’s name, logo, or trademarks in publicity without written consent.",governingLaw:"",amendmentClause:"This Agreement may be amended only by written instrument signed by both Parties.",assignmentClause:"No assignment without prior written consent of the Sponsor.",signInstitutionName:"",signInstitutionTitle:"",signInstitutionDate:"",signSponsorName:"",signSponsorTitle:"",signSponsorDate:""}),[h,j]=x.useState(1),[C,N]=x.useState(!1),s=t=>{const{name:i,value:_}=t.target;v(l=>({...l,[i]:_}))},a=(t,i,_,l)=>{const f=t.internal.pageSize.getWidth(),S=f-40*2,p=(l==null?void 0:l.size)??11;t.setFont("times",l!=null&&l.bold?"bold":"normal"),t.setFontSize(p),t.splitTextToSize(_,S).forEach(g=>{if(i.y>t.internal.pageSize.getHeight()-40&&(t.addPage(),i.y=40),l!=null&&l.center){const b=t.getStringUnitWidth(g)*p/t.internal.scaleFactor,D=(f-b)/2;t.text(g,D,i.y)}else t.text(g,40,i.y);i.y+=p*1.35})},I=()=>{const t=new P({unit:"pt",format:"a4"}),i={y:40};a(t,i,"CLINICAL TRIAL AGREEMENT",{size:14,bold:!0,center:!0}),a(t,i,`
`),a(t,i,`This Clinical Trial Agreement (the “Agreement”) is made effective as of ${n.effectiveDate||"__________"} (the “Effective Date”), by and between ${n.institutionName||"[Institution]"} (the “Institution”) and ${n.sponsorName||"[Sponsor]"} (the “Sponsor”).`),a(t,i,`
1. PARTIES AND SUBJECT MATTER`,{size:12,bold:!0}),a(t,i,`The Sponsor is engaged in research, development and commercialisation of ${n.product||"[Product]"}. The Institution shall conduct a clinical trial (the “Trial”) of the Sponsor’s ${n.product||"[Drug/Device]"} in accordance with the clinical protocol titled "${n.protocolTitle||"[Protocol Title]"}" attached as Exhibit A. ${n.principalInvestigator||"[Principal Investigator]"} shall serve as Principal Investigator.`),a(t,i,`
2. SCOPE OF WORK AND TERM`,{size:12,bold:!0}),a(t,i,"The Principal Investigator shall conduct the Trial in compliance with Good Clinical Practice (GCP), 21 CFR, the approved Protocol and all applicable laws."),a(t,i,`This Agreement commences on ${n.startDate||"__________"} and continues until ${n.endDate||"__________"}, unless earlier terminated. Either Party may terminate with ${n.terminationNoticeDays||"___"} days' written notice.`),a(t,i,`
`),a(t,i,"3. PAYMENT AND CONFIDENTIALITY",{size:12,bold:!0}),a(t,i,`Payment: Sponsor shall pay Institution $${n.paymentAmount||"[Amount]"} in accordance with: ${n.paymentTerms||"[Payment terms]"}. Sponsor shall be responsible for collection costs for delayed payments.`),a(t,i,`
Confidentiality: Institution agrees not to disclose Sponsor confidential information for ${n.confidentialityPeriod||"[period]"} except as required for Trial conduct or by law. Exceptions include information known prior, independently developed, or publicly available.`),a(t,i,`
Publication: Institution shall not publish Trial results or Sponsor confidential information without Sponsor's prior written consent, except as required by law.`),a(t,i,`
4. PROPRIETARY AND INVENTION RIGHTS`,{size:12,bold:!0}),a(t,i,`Inventions: Ownership of inventions arising from the Trial shall be determined under applicable patent law. ${n.inventionsOwnership}`),a(t,i,`
Data and Proprietary Rights: Institution retains ownership of original source documents. Sponsor deliverables remain Sponsor property. Data generated by the Trial shall be the property of the Institution; Sponsor is granted a non-exclusive, royalty-free license to use such data for lawful purposes. ${n.dataOwnership}`),a(t,i,`
5. INDEMNIFICATION AND SUBJECT INJURY`,{size:12,bold:!0}),a(t,i,`${n.indemnityClause}`),a(t,i,`
Subject Injury: ${n.subjectInjuryClause}`),a(t,i,`
6. GENERAL PROVISIONS`,{size:12,bold:!0}),a(t,i,`Use of Name: ${n.useOfNameClause}`),a(t,i,`
Governing Law: This Agreement shall be governed by the laws of ${n.governingLaw||"[State]"}.`),a(t,i,`
Amendment: ${n.amendmentClause}`),a(t,i,`
Assignment: ${n.assignmentClause}`),a(t,i,`
Attorneys' Fees: In legal proceedings to enforce this Agreement, the prevailing party shall be entitled to recover reasonable attorneys' fees and costs.`),a(t,i,`
SIGNATORIES`,{size:12,bold:!0}),a(t,i,"IN WITNESS WHEREOF, the Parties have executed this Clinical Trial Agreement as of the Effective Date first written above."),a(t,i,`

For the Institution:
Name: ${n.signInstitutionName||"_______________________"}
Title: ${n.signInstitutionTitle||"_______________________"}
Date: ${n.signInstitutionDate||"_______________________"}`),a(t,i,`

For the Sponsor:
Name: ${n.signSponsorName||"_______________________"}
Title: ${n.signSponsorTitle||"_______________________"}
Company: ${n.sponsorName||"[Sponsor]"}
Date: ${n.signSponsorDate||"_______________________"}`),t.save("Clinical_Trial_Agreement.pdf"),N(!0)},T=()=>{switch(h){case 1:return e.jsx(d,{children:e.jsxs(m,{className:"space-y-3",children:[e.jsx("div",{className:"mt-3",children:e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>y("/clinical-trial-agreement-info"),className:"text-orange-600 border-orange-200  hover:border-orange-300",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Learn More About Clinical Trial Agreement"]})}),e.jsx("h3",{className:"font-semibold",children:"Parties & Protocol"}),e.jsx(o,{children:"Effective Date"}),e.jsx(r,{name:"effectiveDate",value:n.effectiveDate,onChange:s}),e.jsx("hr",{}),e.jsx("h4",{className:"font-medium",children:"Institution"}),e.jsx(o,{children:"Name"}),e.jsx(r,{name:"institutionName",value:n.institutionName,onChange:s}),e.jsx(o,{children:"Address"}),e.jsx(c,{name:"institutionAddress",value:n.institutionAddress,onChange:s}),e.jsx("hr",{}),e.jsx("h4",{className:"font-medium",children:"Sponsor"}),e.jsx(o,{children:"Name"}),e.jsx(r,{name:"sponsorName",value:n.sponsorName,onChange:s}),e.jsx(o,{children:"Address"}),e.jsx(c,{name:"sponsorAddress",value:n.sponsorAddress,onChange:s}),e.jsx(o,{children:"Product (Drug/Device)"}),e.jsx(r,{name:"product",value:n.product,onChange:s}),e.jsx(o,{children:"Protocol Title"}),e.jsx(r,{name:"protocolTitle",value:n.protocolTitle,onChange:s}),e.jsx(o,{children:"Principal Investigator"}),e.jsx(r,{name:"principalInvestigator",value:n.principalInvestigator,onChange:s})]})});case 2:return e.jsx(d,{children:e.jsxs(m,{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold",children:"Trial Details & Compliance"}),e.jsx(o,{children:"Start Date"}),e.jsx(r,{name:"startDate",value:n.startDate,onChange:s}),e.jsx(o,{children:"End Date"}),e.jsx(r,{name:"endDate",value:n.endDate,onChange:s}),e.jsx(o,{children:"Termination Notice (days)"}),e.jsx(r,{name:"terminationNoticeDays",value:n.terminationNoticeDays,onChange:s}),e.jsx(o,{children:"Payment Amount ($)"}),e.jsx(r,{name:"paymentAmount",value:n.paymentAmount,onChange:s}),e.jsx(o,{children:"Payment Terms"}),e.jsx(c,{name:"paymentTerms",value:n.paymentTerms,onChange:s})]})});case 3:return e.jsx(d,{children:e.jsxs(m,{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold",children:"Confidentiality & IP"}),e.jsx(o,{children:"Confidentiality Period"}),e.jsx(r,{name:"confidentialityPeriod",value:n.confidentialityPeriod,onChange:s}),e.jsx(o,{children:"Publication Consent / Rules"}),e.jsx(c,{name:"publicationConsent",value:n.publicationConsent,onChange:s}),e.jsx(o,{children:"Inventions / Ownership Summary"}),e.jsx(c,{name:"inventionsOwnership",value:n.inventionsOwnership,onChange:s}),e.jsx(o,{children:"Data Ownership & License"}),e.jsx(c,{name:"dataOwnership",value:n.dataOwnership,onChange:s})]})});case 4:return e.jsx(d,{children:e.jsxs(m,{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold",children:"Indemnity, Legal & Signatures"}),e.jsx(o,{children:"Indemnity Clause"}),e.jsx(c,{name:"indemnityClause",value:n.indemnityClause,onChange:s}),e.jsx(o,{children:"Subject Injury Clause"}),e.jsx(c,{name:"subjectInjuryClause",value:n.subjectInjuryClause,onChange:s}),e.jsx(o,{children:"Use of Name Clause"}),e.jsx(c,{name:"useOfNameClause",value:n.useOfNameClause,onChange:s}),e.jsx(o,{children:"Governing Law / State"}),e.jsx(r,{name:"governingLaw",value:n.governingLaw,onChange:s}),e.jsx("hr",{}),e.jsx(o,{children:"Institution - Signatory Name"}),e.jsx(r,{name:"signInstitutionName",value:n.signInstitutionName,onChange:s}),e.jsx(o,{children:"Institution - Title"}),e.jsx(r,{name:"signInstitutionTitle",value:n.signInstitutionTitle,onChange:s}),e.jsx(o,{children:"Institution - Date"}),e.jsx(r,{name:"signInstitutionDate",value:n.signInstitutionDate,onChange:s}),e.jsx(o,{children:"Sponsor - Signatory Name"}),e.jsx(r,{name:"signSponsorName",value:n.signSponsorName,onChange:s}),e.jsx(o,{children:"Sponsor - Title"}),e.jsx(r,{name:"signSponsorTitle",value:n.signSponsorTitle,onChange:s}),e.jsx(o,{children:"Sponsor - Date"}),e.jsx(r,{name:"signSponsorDate",value:n.signSponsorDate,onChange:s})]})});default:return null}};return e.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[T(),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(u,{disabled:h===1,onClick:()=>j(t=>Math.max(1,t-1)),children:"Back"}),h<4?e.jsx(u,{onClick:()=>j(t=>Math.min(4,t+1)),children:"Next"}):e.jsx("div",{className:"space-x-2",children:e.jsx(u,{onClick:I,children:"Generate PDF"})})]}),C&&e.jsx(d,{children:e.jsx(m,{children:e.jsx("div",{className:"text-green-600 font-semibold",children:"Clinical Trial Agreement PDF Generated Successfully"})})})]})}export{G as default};
