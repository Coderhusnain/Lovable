import{u as H,r as p,j as e,C as _,t as w,v as P,w as I,c as z,ad as E,B as h,k as Q,F as K,A as W,_ as X,l as Z,J as $}from"./index-DmiwH21i.js";import{I as d}from"./input-BAgFuN3B.js";import{T as q}from"./textarea-BBDyVfad.js";import{S as D,a as R,b as k,c as L,d as Y}from"./select-CsN3ALin.js";import{L as i}from"./label-QTYrxBzu.js";import{E as ee}from"./jspdf.es.min-9HgYH_OZ.js";import{_ as x}from"./index-CFdxOiWH.js";import{U as te}from"./UserInfoStep-DdXBoRoO.js";import"./index-BdQq_4o_.js";const re=()=>x.getAllCountries(),se=l=>x.getStatesOfCountry(l),ne=l=>{const n=x.getAllCountries().find(c=>c.id.toString()===l);return(n==null?void 0:n.name)||`Country ID: ${l}`},ae=(l,n)=>{const c=x.getAllCountries().find(m=>m.id.toString()===l);if(!c)return`State ID: ${n}`;const u=x.getStatesOfCountry(c.id).find(m=>m.id.toString()===n);return(u==null?void 0:u.name)||`State ID: ${n}`},je=()=>{const l=H(),[n,c]=p.useState(1),[j,u]=p.useState(!1),[m,b]=p.useState(!1),[r,N]=p.useState({country:"",state:"",authorizedPersonName:"",institutionName:"",institutionAddress:"",studentFullName:"",registrationNumber:"",enrollmentNumber:"",departmentName:"",academicYear:"",phoneNumber:"",emailAddress:"",studentAddress:""}),a=(t,s)=>{N(o=>({...o,[t]:s})),t==="country"&&N(o=>({...o,state:""}))},B=t=>{if(!t)return[];const s=parseInt(t.split(":")[0]);return se(s).map(g=>`${g.id}:${g.name}`)},v=()=>{switch(n){case 1:return!!(r.country&&r.state&&r.authorizedPersonName&&r.institutionName&&r.institutionAddress);case 2:return!!(r.studentFullName&&r.registrationNumber&&r.enrollmentNumber&&r.departmentName&&r.academicYear);case 3:return!!(r.phoneNumber&&r.emailAddress&&r.studentAddress);case 4:return!0;default:return!1}},G=()=>{v()&&(n<4?c(n+1):u(!0))},f=()=>{n>1&&c(n-1)},y=()=>{b(!0);try{const t=new ee;t.setFontSize(18),t.setFont("helvetica","bold"),t.text("TRANSCRIPT REQUEST",105,30,{align:"center"});let s=60;t.setFontSize(12),t.setFont("helvetica","normal"),t.text("To",20,s),s+=15,t.text(`Name of Authorized person: ${r.authorizedPersonName}`,20,s),s+=15,t.text(`Name of institution: ${r.institutionName}`,20,s),s+=15;const o=t.splitTextToSize(`Address: ${r.institutionAddress}`,170);t.text(o,20,s),s+=o.length*10+15,t.setFont("helvetica","bold"),t.text("Subject: Transcript Request",20,s),s+=20,t.setFont("helvetica","normal"),t.text("Respected Sir/Madam,",20,s),s+=20;const g=`I, ${r.studentFullName}, bearing Registration Number ${r.registrationNumber}, was a student of ${r.institutionName}, enrolled in the ${r.departmentName} during the academic year ${r.academicYear}, with Enrollment Number ${r.enrollmentNumber}.`,S=t.splitTextToSize(g,170);t.text(S,20,s),s+=S.length*10+15;const C=t.splitTextToSize("I respectfully request that my degree be issued to my authorized representative at your earliest convenience. This request is made due to my inability to collect the degree in person, and I would greatly appreciate your cooperation in facilitating the process.",170);t.text(C,20,s),s+=C.length*10+15,s>200&&(t.addPage(),s=30);const A=t.splitTextToSize("Please do not hesitate to contact me at the address provided above should you require any clarification or further information. If there are any specific documents or procedures necessary to authorize this request, kindly inform me. I am fully committed to providing any required details or documentation promptly to ensure a smooth and efficient degree issuance process.",170);t.text(A,20,s),s+=A.length*10+15;const O=`Additionally, I can be reached at ${r.phoneNumber} or via email at ${r.emailAddress} for any further communication.`,F=t.splitTextToSize(O,170);t.text(F,20,s),s+=F.length*10+15;const T=t.splitTextToSize("Thank you in advance for your support and timely assistance in this matter.",170);t.text(T,20,s),s+=T.length*10+20,s>220&&(t.addPage(),s=30),t.text("Sincerely,",20,s),s+=20,t.text(`Name: ${r.studentFullName}`,20,s),s+=15,t.text("Signatures: _________________________________",20,s),s+=15,t.text(`Address: ${r.studentAddress}`,20,s),t.save("transcript-request.pdf"),$.success("Transcript Request PDF generated successfully!")}catch(t){console.error("Error generating PDF:",t),$.error("Failed to generate Transcript Request PDF")}finally{b(!1)}},U=()=>{switch(n){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"country",children:"Country"}),e.jsxs(D,{value:r.country||"",onValueChange:t=>a("country",t),children:[e.jsx(R,{children:e.jsx(k,{placeholder:"Select country..."})}),e.jsx(L,{children:re().map(t=>e.jsx(Y,{value:`${t.id}:${t.name}`,children:t.name},t.id))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"state",children:"State/Province"}),e.jsxs(D,{value:r.state||"",onValueChange:t=>a("state",t),disabled:!r.country,children:[e.jsx(R,{children:e.jsx(k,{placeholder:"Select state/province..."})}),e.jsx(L,{children:B(r.country).map(t=>{const[s,o]=t.split(":");return e.jsx(Y,{value:t,children:o},s)})})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"authorizedPersonName",children:"Name of Authorized Person"}),e.jsx(d,{id:"authorizedPersonName",value:r.authorizedPersonName,onChange:t=>a("authorizedPersonName",t.target.value),placeholder:"Enter authorized person's name at the institution"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"institutionName",children:"Name of Institution"}),e.jsx(d,{id:"institutionName",value:r.institutionName,onChange:t=>a("institutionName",t.target.value),placeholder:"Enter institution name"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"institutionAddress",children:"Institution Address"}),e.jsx(q,{id:"institutionAddress",value:r.institutionAddress,onChange:t=>a("institutionAddress",t.target.value),placeholder:"Enter complete address of the institution",rows:3})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"studentFullName",children:"Student Full Name"}),e.jsx(d,{id:"studentFullName",value:r.studentFullName,onChange:t=>a("studentFullName",t.target.value),placeholder:"Enter student's full name"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"registrationNumber",children:"Registration Number"}),e.jsx(d,{id:"registrationNumber",value:r.registrationNumber,onChange:t=>a("registrationNumber",t.target.value),placeholder:"Enter registration number"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"enrollmentNumber",children:"Enrollment Number"}),e.jsx(d,{id:"enrollmentNumber",value:r.enrollmentNumber,onChange:t=>a("enrollmentNumber",t.target.value),placeholder:"Enter enrollment number"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"departmentName",children:"Department Name"}),e.jsx(d,{id:"departmentName",value:r.departmentName,onChange:t=>a("departmentName",t.target.value),placeholder:"Enter department name"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"academicYear",children:"Academic Year"}),e.jsx(d,{id:"academicYear",value:r.academicYear,onChange:t=>a("academicYear",t.target.value),placeholder:"Enter academic year (e.g., 2020-2024)"})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"phoneNumber",children:"Phone Number"}),e.jsx(d,{id:"phoneNumber",value:r.phoneNumber,onChange:t=>a("phoneNumber",t.target.value),placeholder:"Enter phone number"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"emailAddress",children:"Email Address"}),e.jsx(d,{id:"emailAddress",type:"email",value:r.emailAddress,onChange:t=>a("emailAddress",t.target.value),placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"studentAddress",children:"Student Address"}),e.jsx(q,{id:"studentAddress",value:r.studentAddress,onChange:t=>a("studentAddress",t.target.value),placeholder:"Enter student's current address",rows:3})]})]});case 4:return e.jsx(te,{onBack:f,onGenerate:y,documentType:"Transcript Request",isGenerating:m});default:return null}},V=()=>{var o;const t=r.country?ne(r.country.split(":")[0]):"",s=r.state?ae(((o=r.country)==null?void 0:o.split(":")[0])||"",r.state.split(":")[0]):"";return e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Location:"}),e.jsx("br",{}),"Country: ",t,e.jsx("br",{}),"State: ",s]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Institution Details:"}),e.jsx("br",{}),"Authorized Person: ",r.authorizedPersonName,e.jsx("br",{}),"Institution: ",r.institutionName,e.jsx("br",{}),"Address: ",r.institutionAddress]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Student Information:"}),e.jsx("br",{}),"Name: ",r.studentFullName,e.jsx("br",{}),"Registration Number: ",r.registrationNumber,e.jsx("br",{}),"Enrollment Number: ",r.enrollmentNumber,e.jsx("br",{}),"Department: ",r.departmentName,e.jsx("br",{}),"Academic Year: ",r.academicYear]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Contact Information:"}),e.jsx("br",{}),"Phone: ",r.phoneNumber,e.jsx("br",{}),"Email: ",r.emailAddress,e.jsx("br",{}),"Address: ",r.studentAddress]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:e.jsx("p",{className:"text-center mb-2",children:"By generating this document, you confirm the accuracy of the information provided. This document will serve as your official Transcript Request."})})]})},J=()=>{switch(n){case 1:return"Location & Institution Details";case 2:return"Student Information";case 3:return"Contact Information";case 4:return"Your Details";default:return""}},M=()=>{switch(n){case 1:return"Select your location and enter institution details";case 2:return"Provide student academic information and numbers";case 3:return"Enter contact details and current address";case 4:return"Provide your contact information to generate the document";default:return""}};return j?e.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm",children:e.jsxs(_,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:[e.jsxs(w,{className:"text-center",children:[e.jsx(P,{className:"text-xl text-green-600",children:"Transcript Request"}),e.jsx(I,{children:"Review your Transcript Request details below before generating the final document."})]}),e.jsx(z,{className:"space-y-4",children:V()}),e.jsxs(E,{className:"flex justify-between",children:[e.jsx(h,{variant:"outline",onClick:()=>{c(1),u(!1),N({country:"",state:"",authorizedPersonName:"",institutionName:"",institutionAddress:"",studentFullName:"",registrationNumber:"",enrollmentNumber:"",departmentName:"",academicYear:"",phoneNumber:"",emailAddress:"",studentAddress:""})},children:"Start Over"}),e.jsxs(h,{onClick:y,children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Generate PDF"]})]})]})}):e.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm p-4",children:e.jsxs(_,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:[e.jsxs(w,{children:[e.jsx(P,{className:"text-xl",children:J()}),e.jsxs(I,{children:[M(),e.jsxs("div",{className:"mt-2 text-sm",children:["Step ",n," of 4"]})]}),n===1&&e.jsx("div",{className:"mt-3",children:e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>l("/transcript-request-info"),className:"text-orange-600 border-orange-200 hover:bg-orange-50 hover:border-orange-300",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Learn More About Transcript Requests"]})})]}),e.jsx(z,{className:"text-black",children:U()}),n!==4&&e.jsxs(E,{className:"flex justify-between",children:[e.jsxs(h,{variant:"outline",onClick:f,disabled:n===1,children:[e.jsx(W,{className:"w-4 h-4 mr-2"})," Back"]}),e.jsx(h,{onClick:G,disabled:!v(),children:n===4?e.jsxs(e.Fragment,{children:["Complete ",e.jsx(X,{className:"w-4 h-4 ml-2"})]}):e.jsxs(e.Fragment,{children:["Next ",e.jsx(Z,{className:"w-4 h-4 ml-2"})]})})]})]})})};export{je as default};
