import{u as te,r as x,j as e,C as P,t as $,v as I,k as se,w as L,c as M,ad as O,B as p,A as k,F as ae,_ as ne,l as re,J as G}from"./index-DmiwH21i.js";import{I as m}from"./input-BAgFuN3B.js";import{T as B}from"./textarea-BBDyVfad.js";import{S as N,a as A,b as R,c as b,d as y}from"./select-CsN3ALin.js";import{L as l}from"./label-QTYrxBzu.js";import{E as oe}from"./jspdf.es.min-9HgYH_OZ.js";import{_ as S}from"./index-CFdxOiWH.js";import{U as le}from"./UserInfoStep-DdXBoRoO.js";import{g as ie}from"./generateGuidePDF-B1ISNkph.js";import{P as ce}from"./plus-BA9OI8a-.js";import{T as de}from"./trash-2-CJ3QIYcc.js";import{f as me}from"./format-iq60aKky.js";import"./index-BdQq_4o_.js";import"./DocumentAboutSidebar-BxT_XvPT.js";import"./accordion-DQN0-TfB.js";import"./scroll-area-C-cgQwHB.js";import"./circle-help-DVUoXd1v.js";import"./en-US-CXXYYhpC.js";const he=()=>S.getAllCountries(),_e=c=>S.getStatesOfCountry(c),U=(c,u)=>{const f=S.getAllCountries().find(g=>g.id.toString()===c);if(!f)return u;const _=S.getStatesOfCountry(f.id).find(g=>g.id.toString()===u);return(_==null?void 0:_.name)||u},Pe=()=>{te();const[c,u]=x.useState(1),[f,j]=x.useState(!1),[_,g]=x.useState(!1),[i,D]=x.useState([{name:"",rentShare:"",depositShare:"",utilities:""},{name:"",rentShare:"",depositShare:"",utilities:""}]),[a,E]=x.useState({country:"",state:"",effectiveDate:"",premisesAddress:"",landlordName:"",rentalAgreementDate:"",leaseStartDate:"",leaseEndDate:"",totalMonthlyRent:"",rentDueDay:"",totalSecurityDeposit:"",petsAllowed:"no",petDetails:""}),d=(t,o)=>{E(n=>({...n,[t]:o})),t==="country"&&E(n=>({...n,state:""}))},v=(t,o,n)=>{const s=[...i];s[t]={...s[t],[o]:n},D(s)},z=()=>{i.length<6&&D([...i,{name:"",rentShare:"",depositShare:"",utilities:""}])},H=t=>{i.length>2&&D(i.filter((o,n)=>n!==t))},W=t=>{if(!t)return[];const o=parseInt(t.split(":")[0]);return _e(o).map(s=>`${s.id}:${s.name}`)},w=()=>{switch(c){case 1:return!!(a.country&&a.state&&a.effectiveDate&&a.premisesAddress);case 2:return!!(a.landlordName&&a.rentalAgreementDate&&a.leaseStartDate&&a.leaseEndDate);case 3:return i.every(t=>t.name&&t.rentShare)&&!!(a.totalMonthlyRent&&a.rentDueDay);case 4:return i.every(t=>t.depositShare)&&!!a.totalSecurityDeposit;case 5:return!0;default:return!1}},V=()=>{w()&&(c<5?u(c+1):j(!0))},C=()=>{c>1&&u(c-1)},Y=()=>{g(!0);try{const t=new oe,o=t.internal.pageSize.getWidth(),n=7;let s=20;const h=(r=25)=>{s>270-r&&(t.addPage(),s=20)};t.setFont("helvetica","bold"),t.setFontSize(16),t.text("ROOMMATE AGREEMENT",o/2,s,{align:"center"}),s+=n*2,t.setFont("helvetica","normal"),t.setFontSize(11);const K=`This Roommate Agreement ("Agreement") is made and entered into as of ${a.effectiveDate||"__________"} ("Effective Date"), by and between the undersigned individuals (collectively referred to as the "Roommates").`;t.splitTextToSize(K,180).forEach(r=>{t.text(r,15,s),s+=n}),s+=n,h(),t.setFont("helvetica","bold"),t.text("RECITALS",15,s),s+=n,t.setFont("helvetica","normal");const Q=`WHEREAS, the Roommates are co-tenants residing at the premises located at ${a.premisesAddress||"__________"} (the "Premises");`;t.splitTextToSize(Q,180).forEach(r=>{t.text(r,15,s),s+=n}),s+=3;const X=a.state?U(a.country.split(":")[0],a.state.split(":")[0]):"__________",Z=`WHEREAS, the Premises are subject to a written lease or rental agreement entered into with ${a.landlordName||"__________"} ("Landlord"), dated ${a.rentalAgreementDate||"__________"} (the "Rental Agreement");`;t.splitTextToSize(Z,180).forEach(r=>{t.text(r,15,s),s+=n}),s+=n,[{title:"1. INCORPORATION OF RENTAL AGREEMENT",content:"All Roommates expressly agree to comply with, and be bound by, all terms, conditions, obligations, and covenants contained in the Rental Agreement. Nothing in this Agreement shall be construed to modify or supersede the Rental Agreement."},{title:"2. TERM",content:`The Roommates shall occupy the Premises for the term specified in the Rental Agreement, commencing on ${a.leaseStartDate||"__________"} and terminating on ${a.leaseEndDate||"__________"}. Upon expiration of the lease term, this Agreement shall continue on a month-to-month basis unless otherwise terminated in writing.`},{title:"3. AMENDMENTS",content:"This Agreement may be amended, modified, or supplemented only by a written instrument executed by all Roommates."},{title:"4. WAIVER",content:"The failure of any Roommate to enforce any provision of this Agreement shall not constitute a waiver of such provision, nor shall it limit that Roommate's right to subsequently enforce strict compliance with all terms of this Agreement."},{title:"5. ARBITRATION",content:"Any dispute, claim, or controversy arising out of or relating to this Agreement shall be resolved exclusively through binding arbitration in accordance with the then-current Commercial Arbitration Rules of the American Arbitration Association."},{title:"6. PERSONAL PROPERTY",content:"No Roommate shall borrow or use another Roommate's personal property without prior consent. Borrowed property shall be used with reasonable care and returned in its original condition."},{title:"7. HOUSEHOLD DUTIES",content:"All Roommates shall equally share responsibility for cleaning and maintaining the common areas of the Premises, including bathrooms, kitchens, and common spaces; disposing of trash; and general upkeep."},{title:"8. ADDITIONAL ROOMMATES",content:"No additional roommate may occupy the Premises without the prior written consent of all existing Roommates and the Landlord."},{title:"9. GOVERNING LAW",content:`This Agreement shall be governed by and construed in accordance with the laws of the State of ${X}.`},{title:"10. SEVERABILITY",content:"If any provision of this Agreement is held to be invalid, illegal, or unenforceable, the remaining provisions shall remain in full force and effect."}].forEach(r=>{h(30),t.setFont("helvetica","bold"),t.text(r.title,15,s),s+=n,t.setFont("helvetica","normal"),t.splitTextToSize(r.content,180).forEach(F=>{h(),t.text(F,15,s),s+=n}),s+=3}),h(40),t.setFont("helvetica","bold"),t.text("11. RENT",15,s),s+=n,t.setFont("helvetica","normal"),t.text(`The total monthly rent for the Premises is $${a.totalMonthlyRent||"__________"}.`,15,s),s+=n,t.text("Each Roommate shall pay the following portion:",15,s),s+=n,i.forEach(r=>{t.text(`${r.name||"__________"}: $${r.rentShare||"__________"}`,20,s),s+=n}),t.text(`Rent shall be due on the ${a.rentDueDay||"__________"} day of each month.`,15,s),s+=n*2,h(40),t.setFont("helvetica","bold"),t.text("12. SECURITY DEPOSIT",15,s),s+=n,t.setFont("helvetica","normal"),t.text(`The total security deposit for the Premises is $${a.totalSecurityDeposit||"__________"}.`,15,s),s+=n,t.text("Each Roommate shall contribute as follows:",15,s),s+=n,i.forEach(r=>{t.text(`${r.name||"__________"}: $${r.depositShare||"__________"}`,20,s),s+=n}),s+=n,h(20),t.setFont("helvetica","bold"),t.text("13. PETS",15,s),s+=n,t.setFont("helvetica","normal"),a.petsAllowed==="yes"?t.text(`Pets are permitted. ${a.petDetails||"Pet-owning Roommates are solely responsible for any damage caused by their pets."}`,15,s):t.text("No pets are permitted on the Premises.",15,s),s+=n*2,h(30),t.setFont("helvetica","bold"),t.text("14. UTILITIES",15,s),s+=n,t.setFont("helvetica","normal"),t.text("Each Roommate shall be responsible for timely payment of assigned utilities:",15,s),s+=n,i.forEach(r=>{r.utilities&&(t.text(`${r.name||"__________"}: ${r.utilities}`,20,s),s+=n)}),s+=n,h(60),t.setFont("helvetica","bold"),t.text("IN WITNESS WHEREOF",15,s),s+=n,t.setFont("helvetica","normal"),t.text("The Roommates have executed this Agreement as of the Effective Date first written above.",15,s),s+=n*2,t.text("Roommate Signatures:",15,s),s+=n*2,i.forEach((r,F)=>{h(25),t.text(`Name: ${r.name||"__________"}`,15,s),s+=n,t.text("Signature: ____________________________",15,s),s+=n,t.text("Date: ____________________________",15,s),s+=n*2});const T=me(new Date,"yyyyMMdd_HHmmss");t.save(`roommate_agreement_${T}.pdf`);const ee=ie({documentId:"roommate-agreement",documentTitle:"Roommate Agreement"});setTimeout(()=>{ee.save(`roommate_agreement_guide_${T}.pdf`)},500),G.success("Roommate Agreement and Guide PDF generated successfully!")}catch(t){console.error("Error generating PDF:",t),G.error("Failed to generate Roommate Agreement")}finally{g(!1)}},q=()=>{switch(c){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"country",children:"Country"}),e.jsxs(N,{value:a.country||"",onValueChange:t=>d("country",t),children:[e.jsx(A,{children:e.jsx(R,{placeholder:"Select country..."})}),e.jsx(b,{children:he().map(t=>e.jsx(y,{value:`${t.id}:${t.name}`,children:t.name},t.id))})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"state",children:"State/Province"}),e.jsxs(N,{value:a.state||"",onValueChange:t=>d("state",t),disabled:!a.country,children:[e.jsx(A,{children:e.jsx(R,{placeholder:"Select state..."})}),e.jsx(b,{children:W(a.country).map(t=>e.jsx(y,{value:t,children:t.split(":")[1]},t))})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"effectiveDate",children:"Effective Date"}),e.jsx(m,{type:"date",value:a.effectiveDate,onChange:t=>d("effectiveDate",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"premisesAddress",children:"Premises Address"}),e.jsx(B,{placeholder:"Enter the full address of the shared premises",value:a.premisesAddress,onChange:t=>d("premisesAddress",t.target.value)})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"landlordName",children:"Landlord Name"}),e.jsx(m,{placeholder:"Enter landlord's full name",value:a.landlordName,onChange:t=>d("landlordName",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"rentalAgreementDate",children:"Rental Agreement Date"}),e.jsx(m,{type:"date",value:a.rentalAgreementDate,onChange:t=>d("rentalAgreementDate",t.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"leaseStartDate",children:"Lease Start Date"}),e.jsx(m,{type:"date",value:a.leaseStartDate,onChange:t=>d("leaseStartDate",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"leaseEndDate",children:"Lease End Date"}),e.jsx(m,{type:"date",value:a.leaseEndDate,onChange:t=>d("leaseEndDate",t.target.value)})]})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"totalMonthlyRent",children:"Total Monthly Rent ($)"}),e.jsx(m,{type:"number",placeholder:"e.g., 2000",value:a.totalMonthlyRent,onChange:t=>d("totalMonthlyRent",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"rentDueDay",children:"Rent Due Day of Month"}),e.jsx(m,{type:"number",min:"1",max:"31",placeholder:"e.g., 1",value:a.rentDueDay,onChange:t=>d("rentDueDay",t.target.value)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(l,{className:"text-lg font-semibold",children:"Roommates & Rent Shares"}),i.length<6&&e.jsxs(p,{type:"button",variant:"outline",size:"sm",onClick:z,children:[e.jsx(ce,{className:"h-4 w-4 mr-1"})," Add Roommate"]})]}),i.map((t,o)=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"font-medium",children:["Roommate ",o+1]}),i.length>2&&e.jsx(p,{type:"button",variant:"ghost",size:"sm",onClick:()=>H(o),children:e.jsx(de,{className:"h-4 w-4 text-red-500"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(l,{children:"Full Name"}),e.jsx(m,{placeholder:"Enter roommate's name",value:t.name,onChange:n=>v(o,"name",n.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Rent Share ($)"}),e.jsx(m,{type:"number",placeholder:"e.g., 1000",value:t.rentShare,onChange:n=>v(o,"rentShare",n.target.value)})]})]})]},o))]})]});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"totalSecurityDeposit",children:"Total Security Deposit ($)"}),e.jsx(m,{type:"number",placeholder:"e.g., 4000",value:a.totalSecurityDeposit,onChange:t=>d("totalSecurityDeposit",t.target.value)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(l,{className:"text-lg font-semibold",children:"Deposit & Utility Shares"}),i.map((t,o)=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsx("span",{className:"font-medium",children:t.name||`Roommate ${o+1}`}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(l,{children:"Deposit Share ($)"}),e.jsx(m,{type:"number",placeholder:"e.g., 2000",value:t.depositShare,onChange:n=>v(o,"depositShare",n.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Assigned Utilities"}),e.jsx(m,{placeholder:"e.g., Electric, Internet",value:t.utilities,onChange:n=>v(o,"utilities",n.target.value)})]})]})]},o))]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{children:"Are Pets Allowed?"}),e.jsxs(N,{value:a.petsAllowed,onValueChange:t=>d("petsAllowed",t),children:[e.jsx(A,{children:e.jsx(R,{})}),e.jsxs(b,{children:[e.jsx(y,{value:"no",children:"No"}),e.jsx(y,{value:"yes",children:"Yes"})]})]}),a.petsAllowed==="yes"&&e.jsxs("div",{children:[e.jsx(l,{children:"Pet Details"}),e.jsx(B,{placeholder:"Describe pets and any specific rules",value:a.petDetails,onChange:t=>d("petDetails",t.target.value)})]})]})]});case 5:return e.jsx(le,{onBack:C,onGenerate:()=>j(!0),documentType:"Roommate Agreement",isGenerating:_});default:return null}},J=()=>{switch(c){case 1:return"Location & Premises";case 2:return"Lease Information";case 3:return"Rent Details";case 4:return"Deposits & Utilities";case 5:return"Your Information";default:return""}};return f?e.jsxs(P,{className:"w-full max-w-4xl mx-auto",children:[e.jsxs($,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-t-lg",children:[e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-6 w-6"}),"Roommate Agreement Ready"]}),e.jsx(L,{className:"text-orange-100",children:"Your agreement is ready to be generated"})]}),e.jsx(M,{className:"p-6",children:e.jsx("div",{className:"space-y-4 text-black",children:e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agreement Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," ",a.state?U(a.country.split(":")[0],a.state.split(":")[0]):"Not specified"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Premises:"})," ",a.premisesAddress]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Landlord:"})," ",a.landlordName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Lease Period:"})," ",a.leaseStartDate," to ",a.leaseEndDate]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Total Rent:"})," $",a.totalMonthlyRent,"/month"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Security Deposit:"})," $",a.totalSecurityDeposit]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Roommates:"})," ",i.filter(t=>t.name).length]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pets:"})," ",a.petsAllowed==="yes"?"Allowed":"Not Allowed"]})]})]})]})})}),e.jsxs(O,{className:"flex justify-between p-6 bg-gray-50",children:[e.jsxs(p,{variant:"outline",onClick:()=>j(!1),children:[e.jsx(k,{className:"mr-2 h-4 w-4"})," Edit"]}),e.jsxs(p,{onClick:Y,disabled:_,className:"bg-orange-500 hover:bg-orange-600",children:[_?"Generating...":"Generate PDF",e.jsx(ae,{className:"ml-2 h-4 w-4"})]})]})]}):e.jsxs(P,{className:"w-full max-w-4xl mx-auto",children:[e.jsxs($,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-t-lg",children:[e.jsx(I,{children:"Roommate Agreement"}),e.jsxs(L,{className:"text-orange-100",children:["Step ",c," of 5: ",J()]})]}),e.jsx(M,{className:"p-6",children:q()}),e.jsxs(O,{className:"flex justify-between p-6 bg-gray-50",children:[e.jsxs(p,{variant:"outline",onClick:C,disabled:c===1,children:[e.jsx(k,{className:"mr-2 h-4 w-4"})," Back"]}),e.jsxs(p,{onClick:V,disabled:!w(),className:"bg-orange-500 hover:bg-orange-600",children:[c===5?"Complete":"Next",c===5?e.jsx(ne,{className:"ml-2 h-4 w-4"}):e.jsx(re,{className:"ml-2 h-4 w-4"})]})]})]})};export{Pe as default};
