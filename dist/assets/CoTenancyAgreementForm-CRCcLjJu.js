import{u as z,r as y,j as e,C,c as N,k as J,B as x,A as w,t as U,U as H,v as M,w as V,l as q,J as S}from"./index-DmiwH21i.js";import{I as m}from"./input-BAgFuN3B.js";import{T as Y}from"./textarea-BBDyVfad.js";import{S as D,a as A,b as E,c as F,d as L}from"./select-CsN3ALin.js";import{L as c}from"./label-QTYrxBzu.js";import{E as K}from"./jspdf.es.min-9HgYH_OZ.js";import{_ as R}from"./index-CFdxOiWH.js";import{U as Q}from"./UserInfoStep-DdXBoRoO.js";import"./index-BdQq_4o_.js";const f=()=>R.getAllCountries(),$=l=>R.getStatesOfCountry(l),X=l=>{const r=f().find(h=>h.id.toString()===l);return(r==null?void 0:r.name)||l},Z=(l,r)=>{const h=f().find(d=>d.id.toString()===l);if(!h)return r;const g=$(h.id).find(d=>d.id.toString()===r);return(g==null?void 0:g.name)||r},me=()=>{const l=z(),[r,h]=y.useState(1),[g,d]=y.useState(!1),[k,b]=y.useState(!1),[a,v]=y.useState({country:"",state:"",effectiveDate:"",coTenants:"",landlordName:"",propertyAddress:"",leaseStartDate:"",leaseEndDate:"",securityDeposit:"",monthlyRent:"",rentAllocations:"",repairThreshold:""}),i=(t,_)=>{v(s=>({...s,[t]:_})),t==="country"&&v(s=>({...s,state:""}))},G=()=>a.country?$(parseInt(a.country)):[],T=()=>{switch(r){case 1:return!!(a.country&&a.state&&a.effectiveDate);case 2:return!!(a.coTenants&&a.landlordName&&a.propertyAddress);case 3:return!!(a.leaseStartDate&&a.leaseEndDate&&a.monthlyRent);case 4:return!!a.securityDeposit;case 5:return!0;default:return!1}},P=()=>{T()&&(r<5?h(r+1):d(!0))},j=()=>{r>1&&h(r-1)},I=()=>{b(!0);try{const t=new K,_=t.internal.pageSize.getWidth(),s=7;let n=20;const u=(o=25)=>{n>270-o&&(t.addPage(),n=20)};t.setFont("helvetica","bold"),t.setFontSize(16),t.text("CO-TENANCY AGREEMENT",_/2,n,{align:"center"}),n+=s*2,t.setFont("helvetica","normal"),t.setFontSize(11);const W=`This Co-Tenancy Agreement (the "Agreement") is made and entered into on ${a.effectiveDate||"__________"} (the "Effective Date"), by and among the following individuals:`;t.splitTextToSize(W,180).forEach(o=>{t.text(o,15,n),n+=s}),n+=s,t.text(`Co-Tenants: ${a.coTenants||"__________"}`,15,n),n+=s*2,t.setFont("helvetica","bold"),t.text("RECITALS",15,n),n+=s,t.setFont("helvetica","normal"),`WHEREAS, the Co-Tenants have entered into a lease agreement dated ${a.leaseStartDate||"__________"} (the "Lease") with ${a.landlordName||"__________"} (the "Landlord") for the residential property located at ${a.propertyAddress||"__________"} (the "Dwelling"), for a term commencing on ${a.leaseStartDate||"__________"} and expiring on ${a.leaseEndDate||"__________"};

WHEREAS, pursuant to the Lease, a security or damage deposit in the amount of $${a.securityDeposit||"__________"} was paid to the Landlord or the Landlord's agent, and monthly rent in the amount of $${a.monthlyRent||"__________"} is due and payable;

NOW, THEREFORE, in consideration of the mutual covenants and agreements contained herein, the Co-Tenants agree as follows:`.split(`
`).forEach(o=>{u(),t.splitTextToSize(o,175).forEach(p=>{t.text(p,15,n),n+=s})}),n+=s,[{title:"1. Compliance With Lease and Rules",content:"Each Co-Tenant agrees to comply fully with all terms, conditions, rules, and obligations set forth in the Lease, any related agreements executed with the Landlord, and all applicable local laws, ordinances, and regulations governing the Dwelling."},{title:"2. Allocation of Rent",content:`The Co-Tenants agree to share responsibility for rent as follows:

${a.rentAllocations||"Each Co-Tenant shall pay their proportionate share."}

Each Co-Tenant shall timely pay his or her respective share of rent prior to the due date specified in the Lease. Any late fees, penalties, or charges resulting from a Co-Tenant's failure to timely pay his or her share shall be borne solely by the defaulting Co-Tenant.`},{title:"3. Utilities and Services",content:`The Co-Tenants shall be responsible for payment of the following utilities and services associated with the Dwelling:
• Electricity
• Water and sewer
• Gas
• Heating
• Garbage and trash disposal
• Janitorial services
• Telephone service

The Co-Tenants acknowledge that certain utilities or services may be billed directly by service providers or through the Landlord.`},{title:"4. Other Shared Expenses",content:`The Co-Tenants agree to allocate the following expenses as set forth below:

Groceries: Each Co-Tenant shall be responsible for his or her own groceries.

General Damages: The cost of repairing damages not attributable to a specific Co-Tenant or guest shall be shared equally. A Co-Tenant shall be solely responsible for any damage caused by that Co-Tenant or his or her guests.

General Maintenance and Upkeep: Shared as mutually agreed by the Co-Tenants.`},{title:"5. Termination of Co-Tenancy",content:`Each Co-Tenant agrees to remain in occupancy for the full Lease term and to continue paying his or her obligations under this Agreement unless one of the following occurs:

a. A departing Co-Tenant (the "Outgoing Co-Tenant") secures a replacement tenant acceptable to both the remaining Co-Tenants and the Landlord. The replacement tenant must execute this Agreement prior to occupancy; or

b. The remaining Co-Tenants provide written consent releasing the Outgoing Co-Tenant from this Agreement.`},{title:"6. Security Deposit",content:"Any refund of the security deposit received from the Landlord shall be divided among the Co-Tenants on a pro rata basis, unless otherwise agreed in writing."},{title:"7. Joint and Several Liability; Indemnification",content:`The Co-Tenants acknowledge that they are jointly and severally liable to the Landlord under the Lease. Accordingly, the Landlord may pursue any or all Co-Tenants for unpaid rent, damages, or other charges.

Each Co-Tenant agrees to indemnify and hold harmless the other Co-Tenants from any losses, penalties, or charges resulting from his or her own acts or omissions.`},{title:"8. Long-Distance Telephone Charges",content:"Each Co-Tenant shall be solely responsible for his or her own long-distance telephone charges."},{title:"9. Repairs and Improvements",content:`No repairs, alterations, or improvements exceeding $${a.repairThreshold||"__________"} shall be undertaken without the prior written consent of all Co-Tenants.`},{title:"10. Pets",content:"All Co-Tenants shall comply with the pet policies established by the Landlord and applicable law. Any Co-Tenant who owns or keeps a pet shall be solely responsible for all damages, fees, or charges arising from such pet."},{title:"11. Relationship to Lease",content:"This Agreement does not modify or amend the Lease and is intended solely to govern the rights and obligations among the Co-Tenants."},{title:"12. Payments and Reimbursement",content:"If a Co-Tenant pays more than his or her allocated share of any expense under this Agreement, such Co-Tenant shall be entitled to reimbursement from the other Co-Tenants."},{title:"13. Survival and Amendment",content:`This Agreement shall remain in effect notwithstanding a breach by any Co-Tenant unless terminated in accordance with this Agreement. Any amendment or cancellation must be in writing and signed by all current Co-Tenants.

Nothing herein authorizes the removal of any Co-Tenant from the Dwelling without due process of law.`},{title:"14. Governing Law",content:`This Agreement shall be governed by and construed in accordance with the laws of ${Z(a.country,a.state)||"__________"}, ${X(a.country)||"__________"}.`},{title:"15. Prior Agreements",content:"All prior co-tenancy agreements between the Co-Tenants are hereby superseded; however, any outstanding financial obligations under such agreements shall remain enforceable."}].forEach(o=>{u(40),t.setFont("helvetica","bold"),t.text(o.title,15,n),n+=s,t.setFont("helvetica","normal"),o.content.split(`
`).forEach(p=>{u(),t.splitTextToSize(p,175).forEach(B=>{t.text(B,15,n),n+=s})}),n+=s/2}),u(60),t.setFont("helvetica","bold"),t.text("SIGNATURES",_/2,n,{align:"center"}),n+=s*2,t.setFont("helvetica","normal"),t.text("IN WITNESS WHEREOF, the Co-Tenants have executed this Agreement as of the Effective Date.",15,n),n+=s*2,a.coTenants.split(",").map(o=>o.trim()).filter(o=>o).forEach((o,p)=>{u(25),t.setFont("helvetica","bold"),t.text(`CO-TENANT ${p+1}:`,15,n),n+=s,t.setFont("helvetica","normal"),t.text(`Name: ${o}`,15,n),n+=s,t.text("Signature: _________________________",15,n),n+=s,t.text("Date: _________________________",15,n),n+=s*2}),t.save("Co_Tenancy_Agreement.pdf"),S.success("PDF generated successfully!"),d(!0)}catch(t){console.error("Error generating PDF:",t),S.error("Failed to generate PDF")}finally{b(!1)}},O=()=>{switch(r){case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Jurisdiction / Location"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Select the country and state/province that will govern this agreement."}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"country",children:"Country"}),e.jsxs(D,{value:a.country,onValueChange:t=>i("country",t),children:[e.jsx(A,{className:"bg-gray-800 border-gray-700",children:e.jsx(E,{placeholder:"Select country"})}),e.jsx(F,{children:f().map(t=>e.jsx(L,{value:t.id.toString(),children:t.name},t.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"state",children:"State/Province"}),e.jsxs(D,{value:a.state,onValueChange:t=>i("state",t),disabled:!a.country,children:[e.jsx(A,{className:"bg-gray-800 border-gray-700",children:e.jsx(E,{placeholder:"Select state"})}),e.jsx(F,{children:G().map(t=>e.jsx(L,{value:t.id.toString(),children:t.name},t.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"effectiveDate",children:"Effective Date"}),e.jsx(m,{type:"date",id:"effectiveDate",value:a.effectiveDate,onChange:t=>i("effectiveDate",t.target.value),className:"bg-gray-800 border-gray-700"})]})]})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Lease Details"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"leaseStartDate",children:"Lease Start Date"}),e.jsx(m,{type:"date",id:"leaseStartDate",value:a.leaseStartDate,onChange:t=>i("leaseStartDate",t.target.value),className:"bg-gray-800 border-gray-700"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"leaseEndDate",children:"Lease End Date"}),e.jsx(m,{type:"date",id:"leaseEndDate",value:a.leaseEndDate,onChange:t=>i("leaseEndDate",t.target.value),className:"bg-gray-800 border-gray-700"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"monthlyRent",children:"Monthly Rent ($)"}),e.jsx(m,{type:"number",id:"monthlyRent",value:a.monthlyRent,onChange:t=>i("monthlyRent",t.target.value),placeholder:"Total monthly rent",className:"bg-gray-800 border-gray-700"})]})]})]});case 4:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Financial Terms"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"securityDeposit",children:"Security Deposit ($)"}),e.jsx(m,{type:"number",id:"securityDeposit",value:a.securityDeposit,onChange:t=>i("securityDeposit",t.target.value),placeholder:"Total security deposit",className:"bg-gray-800 border-gray-700"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"repairThreshold",children:"Repair Approval Threshold ($)"}),e.jsx(m,{type:"number",id:"repairThreshold",value:a.repairThreshold,onChange:t=>i("repairThreshold",t.target.value),placeholder:"Amount requiring approval",className:"bg-gray-800 border-gray-700"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"rentAllocations",children:"Rent Allocations (Optional)"}),e.jsx(Y,{id:"rentAllocations",value:a.rentAllocations,onChange:t=>i("rentAllocations",t.target.value),placeholder:"John Doe: $500/month, Jane Smith: $600/month...",className:"bg-gray-800 border-gray-700 min-h-[100px]"})]})]});case 5:return e.jsx(Q,{onBack:j,onGenerate:I,documentType:"Co-Tenancy Agreement",isGenerating:k});default:return null}};return g?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-6 flex items-center justify-center",children:e.jsx(C,{className:"bg-gray-800 border-gray-700 max-w-md w-full",children:e.jsxs(N,{className:"pt-6 text-center",children:[e.jsx(J,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Document Generated!"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Your Co-Tenancy Agreement has been created and downloaded."}),e.jsx(x,{onClick:()=>l("/documents"),className:"w-full bg-purple-600 hover:bg-purple-700",children:"Back to Documents"})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(x,{variant:"ghost",onClick:()=>l("/documents"),className:"mb-6 text-gray-400 hover:text-white",children:[e.jsx(w,{className:"w-4 h-4 mr-2"})," Back to Documents"]}),e.jsxs(C,{className:"bg-gray-800 border-gray-700",children:[e.jsx(U,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:e.jsx(H,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(M,{className:"text-white",children:"Co-Tenancy Agreement"}),e.jsx(V,{className:"text-gray-400",children:"Create an agreement between roommates sharing a rental property"})]})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:[1,2,3,4,5].map(t=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${r>=t?"bg-purple-600 text-white":"bg-gray-700 text-gray-400"}`,children:t}),t<5&&e.jsx("div",{className:`w-12 md:w-24 h-1 mx-2 ${r>t?"bg-purple-600":"bg-gray-700"}`})]},t))}),e.jsxs("div",{className:"flex justify-between mb-8 text-xs text-gray-400",children:[e.jsx("span",{children:"Location"}),e.jsx("span",{children:"Co-Tenants"}),e.jsx("span",{children:"Lease"}),e.jsx("span",{children:"Financial"}),e.jsx("span",{children:"Generate"})]}),e.jsx("div",{className:"min-h-[400px]",children:O()}),r<5&&e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsxs(x,{variant:"outline",onClick:j,disabled:r===1,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[e.jsx(w,{className:"w-4 h-4 mr-2"})," Previous"]}),e.jsxs(x,{onClick:P,disabled:!T(),className:"bg-purple-600 hover:bg-purple-700",children:["Next ",e.jsx(q,{className:"w-4 h-4 ml-2"})]})]})]})]})]})})};export{me as default};
