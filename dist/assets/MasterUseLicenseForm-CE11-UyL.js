import{r as m,j as e,C as S,t as T,v,k as I,w as y,ad as w,B as o,c as U,A as W,l as B,af as G,F as $}from"./index-DmiwH21i.js";import{E as O}from"./jspdf.es.min-9HgYH_OZ.js";import{I as c}from"./input-BAgFuN3B.js";import{T as H}from"./textarea-BBDyVfad.js";import{L as l}from"./label-QTYrxBzu.js";const K=()=>{const[d,g]=m.useState(1),[u,j]=m.useState(!1),[C,p]=m.useState(!1),[n,L]=m.useState({licensor:"",licensee:"",workTitle:"",licenseDate:"",territory:"",term:"",usageTerms:"",licensorSignName:"",licenseeSignName:""}),i=t=>{const{name:h,value:a}=t.target;L(r=>({...r,[h]:a}))},E=()=>g(t=>Math.min(4,t+1)),b=()=>g(t=>Math.max(1,t-1)),f=()=>{j(!0);try{const t=new O({unit:"pt",format:"a4"}),h=t.internal.pageSize.getWidth(),a=40;let r=a;const k=14,s=(D,N=11,M=!1,R=!1)=>{t.setFont("helvetica",M?"bold":"normal"),t.setFontSize(N);const F=h-a*2;t.splitTextToSize(D||"",F).forEach(x=>{if(r>t.internal.pageSize.getHeight()-a&&(t.addPage(),r=a),R){const P=t.getStringUnitWidth(x)*N/t.internal.scaleFactor,_=(h-P)/2;t.text(x,_,r)}else t.text(x,a,r);r+=k*1.2}),r+=5};s("MASTER USE LICENSE AGREEMENT",16,!0,!0),s(`
`),s(`This Master Use License Agreement ("Agreement") is made and entered into as of ${n.licenseDate||"__________"} (the "Effective Date"), by and between:`),s(`LICENSOR: ${n.licensor||"[Licensor Name]"} ("Licensor")`),s(`LICENSEE: ${n.licensee||"[Licensee Name]"} ("Licensee")`),s(`
`),s("1. SUBJECT MASTER",12,!0),s(`The Licensor controls the master recording(s) embodying the performance known as "${n.workTitle||"[Work Title]"}" (the "Master").`),s(`
`),s("2. GRANT OF RIGHTS",12,!0),s("Licensor hereby grants to Licensee a non-exclusive license to use the Master as follows:"),s(`Territory: ${n.territory||"Worldwide"}`),s(`Term: ${n.term||"Perpetual"}`),s(`Permitted Usage: ${n.usageTerms||"As agreed upon by parties."}`),s(`
`),s("3. REPRESENTATIONS & WARRANTIES",12,!0),s("Licensor warrants that it owns or controls all rights in the Master necessary to grant this license and that the use of the Master as permitted herein will not infringe upon the rights of any third party."),s(`
`),s("4. MISCELLANEOUS",12,!0),s("This Agreement constitutes the entire understanding between the parties and shall be governed by the laws of the applicable jurisdiction."),s(`
`),r+=20,s("IN WITNESS WHEREOF, the parties have executed this Agreement as of the date first above written."),r+=20,s("Licensor:",11,!0),s(`By: ${n.licensorSignName||n.licensor}`),t.line(a,r,a+200,r),r+=20,s("Licensee:",11,!0),s(`By: ${n.licenseeSignName||n.licensee}`),t.line(a,r,a+200,r),t.save("Master_Use_License_Agreement.pdf"),p(!0)}catch(t){console.error(t),alert("Failed to generate PDF")}finally{j(!1)}},A=()=>{switch(d){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Parties"}),e.jsxs("div",{children:[e.jsx(l,{children:"Licensor (Owner of Master)"}),e.jsx(c,{name:"licensor",value:n.licensor,onChange:i,placeholder:"e.g. Record Label or Artist Name"})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Licensee (Party Licensing Master)"}),e.jsx(c,{name:"licensee",value:n.licensee,onChange:i,placeholder:"e.g. Production Company"})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Work Title (Song/Recording Name)"}),e.jsx(c,{name:"workTitle",value:n.workTitle,onChange:i,placeholder:"e.g. 'Bohemian Rhapsody'"})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"License Details"}),e.jsxs("div",{children:[e.jsx(l,{children:"License Date"}),e.jsx(c,{type:"date",name:"licenseDate",value:n.licenseDate,onChange:i})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Territory"}),e.jsx(c,{name:"territory",value:n.territory,onChange:i,placeholder:"e.g. North America, Worldwide"})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Term (Duration)"}),e.jsx(c,{name:"term",value:n.term,onChange:i,placeholder:"e.g. 5 Years, Perpetuity"})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Usage Terms"}),e.jsxs("div",{children:[e.jsx(l,{children:"Permitted Usage Description"}),e.jsx(H,{name:"usageTerms",value:n.usageTerms,onChange:i,placeholder:"Describe how the track will be used (e.g., Background music in a film, TV commercial, etc.)",rows:6})]})]});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Signatures"}),e.jsxs("div",{children:[e.jsx(l,{children:"Licensor Signature Name"}),e.jsx(c,{name:"licensorSignName",value:n.licensorSignName,onChange:i,placeholder:"Print Name"})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Licensee Signature Name"}),e.jsx(c,{name:"licenseeSignName",value:n.licenseeSignName,onChange:i,placeholder:"Print Name"})]})]});default:return null}};return C?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs(S,{className:"max-w-md w-full text-center",children:[e.jsxs(T,{children:[e.jsxs(v,{className:"text-green-600 flex items-center justify-center gap-2",children:[e.jsx(I,{className:"h-6 w-6"})," Generated"]}),e.jsx(y,{children:"Master Use License Agreement Ready"})]}),e.jsxs(w,{className:"flex justify-center gap-4",children:[e.jsx(o,{variant:"outline",onClick:()=>p(!1),children:"Back"}),e.jsx(o,{onClick:f,children:"Download Again"})]})]})}):e.jsx("div",{className:"max-w-3xl mx-auto p-6 min-h-screen bg-gray-50",children:e.jsxs(S,{children:[e.jsxs(T,{children:[e.jsx(v,{children:"Master Use License Form"}),e.jsxs(y,{children:["Step ",d," of 4"]})]}),e.jsx(U,{children:A()}),e.jsxs(w,{className:"flex justify-between",children:[e.jsxs(o,{variant:"outline",onClick:b,disabled:d===1,children:[e.jsx(W,{className:"mr-2 h-4 w-4"})," Back"]}),d<4?e.jsxs(o,{onClick:E,children:["Next ",e.jsx(B,{className:"ml-2 h-4 w-4"})]}):e.jsxs(o,{onClick:f,disabled:u,children:[u?e.jsx(G,{className:"animate-spin mr-2 h-4 w-4"}):e.jsx($,{className:"mr-2 h-4 w-4"}),"Generate Agreement"]})]})]})})};export{K as default};
