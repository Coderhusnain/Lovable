import{r as u,j as t,J as g}from"./index-DmiwH21i.js";import{F as b}from"./FormWizard-CpdIiFYI.js";import{I as i}from"./input-BAgFuN3B.js";import{L as o}from"./label-QTYrxBzu.js";import{T as h}from"./textarea-BBDyVfad.js";import{S as y,a as v,b as j,c as f,d as N}from"./select-CsN3ALin.js";import{E as P}from"./jspdf.es.min-9HgYH_OZ.js";import{_ as C}from"./index-CFdxOiWH.js";import"./index-BdQq_4o_.js";const x=()=>C.getAllCountries(),S=a=>C.getStatesOfCountry(a),$=a=>{const c=x().find(_=>_.id.toString()===a);return(c==null?void 0:c.name)||a},O=(a,c)=>{const _=x().find(r=>r.id.toString()===a);if(!_)return c;const l=S(_.id).find(r=>r.id.toString()===c);return(l==null?void 0:l.name)||c},G={country:"",state:"",effectiveDate:"",companyName:"",companyAddress:"",composerName:"",composerAddress:"",pictureTitle:"",termEndDate:"",deliveryDate:"",fixedFee:"",royaltyPercentage:"",additionalTerms:""};function U(){const[a,c]=u.useState(G),[_,l]=u.useState(!1),r=(e,m)=>{c(n=>({...n,[e]:m})),e==="country"&&c(n=>({...n,state:""}))},F=()=>a.country?S(parseInt(a.country)):[],E=()=>{l(!0);try{const e=new P,m=e.internal.pageSize.getWidth(),n=7;let s=20;const p=(d=25)=>{s>270-d&&(e.addPage(),s=20)};e.setFont("helvetica","bold"),e.setFontSize(16),e.text("COMPOSER AGREEMENT",m/2,s,{align:"center"}),s+=n*2,e.setFont("helvetica","normal"),e.setFontSize(11);const A=`This Composer Agreement ("Agreement") is made and entered into as of ${a.effectiveDate||"__________"} ("Effective Date"), by and between:`;e.splitTextToSize(A,180).forEach(d=>{e.text(d,15,s),s+=n}),s+=n,e.setFont("helvetica","bold"),e.text("Company:",15,s),s+=n,e.setFont("helvetica","normal"),e.text(`Name: ${a.companyName||"__________"}`,20,s),s+=n,e.text(`Address: ${a.companyAddress||"__________"}`,20,s),s+=n*2,e.setFont("helvetica","bold"),e.text("Composer:",15,s),s+=n,e.setFont("helvetica","normal"),e.text(`Name: ${a.composerName||"__________"}`,20,s),s+=n,e.text(`Address: ${a.composerAddress||"__________"}`,20,s),s+=n*2,[{title:"1. ENGAGEMENT",content:`The Company hereby engages the Composer to compose original musical compositions for the motion picture entitled "${a.pictureTitle||"__________"}" (the "Picture").`},{title:"2. TERM",content:`The term shall commence on the Effective Date and continue until ${a.termEndDate||"__________"}.`},{title:"3. COMPENSATION",content:`The Composer shall receive a fixed fee of $${a.fixedFee||"__________"}.`},{title:"4. ROYALTIES",content:`Company shall pay royalties equal to ${a.royaltyPercentage||"__________"}% of net U.S. sales of soundtrack albums.`},{title:"5. GOVERNING LAW",content:`Governed by the laws of ${O(a.country,a.state)}, ${$(a.country)}.`}].forEach(d=>{p(30),e.setFont("helvetica","bold"),e.text(d.title,15,s),s+=n,e.setFont("helvetica","normal"),e.splitTextToSize(d.content,175).forEach(D=>{e.text(D,15,s),s+=n}),s+=n/2}),p(60),e.setFont("helvetica","bold"),e.text("SIGNATURES",m/2,s,{align:"center"}),s+=n*2,e.text("COMPANY",15,s),e.text("COMPOSER",110,s),s+=n,e.setFont("helvetica","normal"),e.text("__________________________",15,s),e.text("__________________________",110,s),s+=n,e.text(`Name: ${a.companyName}`,15,s),e.text(`Name: ${a.composerName}`,110,s),e.save("Composer_Agreement.pdf"),g.success("PDF generated successfully!")}catch(e){console.error("Error generating PDF:",e),g.error("Failed to generate PDF")}finally{l(!1)}},T=[{label:"Location & Date",content:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"Country"}),t.jsxs(y,{value:a.country,onValueChange:e=>r("country",e),children:[t.jsx(v,{children:t.jsx(j,{placeholder:"Select country"})}),t.jsx(f,{children:x().map(e=>t.jsx(N,{value:e.id.toString(),children:e.name},e.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"State/Province"}),t.jsxs(y,{value:a.state,onValueChange:e=>r("state",e),disabled:!a.country,children:[t.jsx(v,{children:t.jsx(j,{placeholder:"Select state"})}),t.jsx(f,{children:F().map(e=>t.jsx(N,{value:e.id.toString(),children:e.name},e.id))})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"Effective Date"}),t.jsx(i,{type:"date",value:a.effectiveDate,onChange:e=>r("effectiveDate",e.target.value)})]})]})},{label:"Parties",content:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"Company Name"}),t.jsx(i,{value:a.companyName,onChange:e=>r("companyName",e.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"Company Address"}),t.jsx(h,{value:a.companyAddress,onChange:e=>r("companyAddress",e.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"Composer Name"}),t.jsx(i,{value:a.composerName,onChange:e=>r("composerName",e.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"Composer Address"}),t.jsx(h,{value:a.composerAddress,onChange:e=>r("composerAddress",e.target.value)})]})]})},{label:"Project & Terms",content:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"Motion Picture Title"}),t.jsx(i,{value:a.pictureTitle,onChange:e=>r("pictureTitle",e.target.value)})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"Term End Date"}),t.jsx(i,{type:"date",value:a.termEndDate,onChange:e=>r("termEndDate",e.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"Delivery Date"}),t.jsx(i,{type:"date",value:a.deliveryDate,onChange:e=>r("deliveryDate",e.target.value)})]})]})]})},{label:"Financials",content:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"Fixed Fee ($)"}),t.jsx(i,{type:"number",value:a.fixedFee,onChange:e=>r("fixedFee",e.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"Royalty Percentage (%)"}),t.jsx(i,{type:"number",value:a.royaltyPercentage,onChange:e=>r("royaltyPercentage",e.target.value)})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"Additional Terms"}),t.jsx(h,{value:a.additionalTerms,onChange:e=>r("additionalTerms",e.target.value)})]})]})}];return t.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Composer Agreement"}),t.jsx(b,{steps:T,onFinish:E})]})}export{U as default};
