import{r as j,j as e,C as I,k as te,l as ae,m as ne,b as M,n as re,a as d,F as ze,A as Fe,S as Ee,d as $e,J as D,e as De,i as se,ak as ie}from"./index-BAEAUopf.js";import{I as v}from"./input-DnI_Xo94.js";import{T as Ge}from"./textarea-BT3hIsff.js";import{S as Le,a as Be,b as Oe,c as Ie,d as Me}from"./select-DKAljqaC.js";import{R as Re,a as He}from"./radio-group-ChW54edW.js";import{L as _}from"./label-BeQ78mSL.js";import{E as Qe}from"./jspdf.es.min-CPP5zEfz.js";import{P as oe,a as le,b as ce,C as _e}from"./popover-HE7mUwHc.js";import{_ as z}from"./index-BV7iVDwO.js";import{U as Ve}from"./UserInfoStep-D-Ji-2BO.js";import{T as R}from"./trash-2-BeqTb1S5.js";import{P as H}from"./plus-CP1xFFuf.js";import{f as G}from"./format-BEMO4FpZ.js";import"./chevron-left-B3KxxXjI.js";const Je=()=>z.getAllCountries(),Q=l=>z.getStatesOfCountry(l),Ue=l=>{const h=z.getAllCountries().find(n=>n.id.toString()===l);return(h==null?void 0:h.name)||`Country ID: ${l}`},T=(l,h)=>{const n=z.getAllCountries().find(C=>C.id.toString()===l);if(!n)return`State ID: ${h}`;const N=z.getStatesOfCountry(n.id).find(C=>C.id.toString()===h);return(N==null?void 0:N.name)||`State ID: ${h}`},V={location_selection:{id:"location_selection",title:"Location Selection",description:"Select the country and state/province where this authorization will be executed",questions:["country","state"],nextSectionId:"parties"},parties:{id:"parties",title:"Parties Information",description:"Enter information about the parents/guardians",questions:["parent_names","parent_address","parent_phones","parent_emails"],nextSectionId:"caretakers"},caretakers:{id:"caretakers",title:"Caretaker Information",description:"Enter information about the caretakers",questions:["caretaker_names","caretaker_address","caretaker_phones","caretaker_relationship"],nextSectionId:"children"},children:{id:"children",title:"Subject Children",description:"Enter information about the children",questions:["children_info"],nextSectionId:"duration"},duration:{id:"duration",title:"Duration of Authorization",description:"Specify the time period for this authorization",questions:["start_date","end_date"],nextSectionId:"emergency"},emergency:{id:"emergency",title:"Emergency Contact Information",description:"Provide emergency contact details",questions:["primary_emergency","secondary_emergency"],nextSectionId:"governing"},governing:{id:"governing",title:"Governing Law",description:"Specify the governing state",questions:["governing_state"],nextSectionId:"notary"},notary:{id:"notary",title:"Notary Information (Optional)",description:"Notary acknowledgment details if required",questions:["notary_state","notary_county"],nextSectionId:"user_info_step"},user_info_step:{id:"user_info_step",title:"Contact Information",description:"Provide your contact information to generate the document",questions:["user_info_step"],nextSectionId:"confirmation"},confirmation:{id:"confirmation",title:"Confirmation",description:"Review and confirm your information",questions:["confirmation"]}},We={country:{id:"country",type:"select",text:"Select the country where this authorization will be executed:",options:[],defaultNextId:"state"},state:{id:"state",type:"select",text:"Select the state/province where this authorization will be executed:",options:[],defaultNextId:"parent_names"},parent_names:{id:"parent_names",type:"parent",text:"Parent(s)/Guardian(s) Names:",defaultNextId:"parent_address"},parent_address:{id:"parent_address",type:"textarea",text:"Parent(s)/Guardian(s) Address:",defaultNextId:"parent_phones"},parent_phones:{id:"parent_phones",type:"text",text:"Parent(s)/Guardian(s) Phone Number(s):",defaultNextId:"parent_emails"},parent_emails:{id:"parent_emails",type:"text",text:"Parent(s)/Guardian(s) Email(s):",defaultNextId:"caretaker_names"},caretaker_names:{id:"caretaker_names",type:"caretaker",text:"Caretaker(s) Names:",defaultNextId:"caretaker_address"},caretaker_address:{id:"caretaker_address",type:"textarea",text:"Caretaker(s) Address:",defaultNextId:"caretaker_phones"},caretaker_phones:{id:"caretaker_phones",type:"text",text:"Caretaker(s) Phone Number(s):",defaultNextId:"caretaker_relationship"},caretaker_relationship:{id:"caretaker_relationship",type:"text",text:"Relationship to Child(ren):",defaultNextId:"children_info"},children_info:{id:"children_info",type:"children",text:"Children Information:",defaultNextId:"start_date"},start_date:{id:"start_date",type:"date",text:"Authorization Start Date:",defaultNextId:"end_date"},end_date:{id:"end_date",type:"date",text:"Authorization End Date:",defaultNextId:"primary_emergency"},primary_emergency:{id:"primary_emergency",type:"emergency",text:"Primary Emergency Contact:",defaultNextId:"secondary_emergency"},secondary_emergency:{id:"secondary_emergency",type:"emergency",text:"Secondary Emergency Contact:",defaultNextId:"governing_state"},governing_state:{id:"governing_state",type:"select",text:"Governing State/Province:",options:[],defaultNextId:"notary_state"},notary_state:{id:"notary_state",type:"select",text:"Notary State/Province (Optional):",options:[],defaultNextId:"notary_county"},notary_county:{id:"notary_county",type:"text",text:"Notary County (Optional):",defaultNextId:"user_info_step"},user_info_step:{id:"user_info_step",type:"text",text:"Please provide your contact information to generate the document.",defaultNextId:"confirmation"},confirmation:{id:"confirmation",type:"confirmation",text:"Thank you for providing the information. We will generate your Child Care Authorization Agreement based on your answers."}},jt=()=>{const[l,h]=j.useState("location_selection"),[n,L]=j.useState({}),[N,C]=j.useState(["location_selection"]),[de,J]=j.useState(!1),[b,F]=j.useState([{fullName:"",dateOfBirth:""}]),[x,E]=j.useState([{name:""}]),[u,$]=j.useState([{name:""}]),[f,U]=j.useState({name:"",phone:"",email:""}),[y,W]=j.useState({name:"",phone:"",email:""}),[me,K]=j.useState(!1),p=V[l],he=()=>{try{const t=p==null?void 0:p.nextSectionId;if(!t){J(!0);return}V[t]?(C([...N,t]),h(t)):(console.error(`Next section ${t} does not exist`),D.error("Navigation error. Please try again."))}catch(t){console.error("Error in handleNext:",t),D.error("An error occurred. Please try again.")}},X=()=>{if(N.length>1){const t=[...N];t.pop(),C(t),h(t[t.length-1])}},g=(t,a)=>{L({...n,[t]:a})},xe=()=>{F([...b,{fullName:"",dateOfBirth:""}])},ue=t=>{b.length>1&&F(b.filter((a,r)=>r!==t))},Y=(t,a,r)=>{const m=[...b];m[t][a]=r,F(m)},pe=()=>{E([...x,{name:""}])},ge=t=>{x.length>1&&E(x.filter((a,r)=>r!==t))},fe=(t,a)=>{const r=[...x];r[t].name=a,E(r)},ye=()=>{$([...u,{name:""}])},je=t=>{u.length>1&&$(u.filter((a,r)=>r!==t))},ve=(t,a)=>{const r=[...u];r[t].name=a,$(r)},B=(t,a,r)=>{t==="primary"?U({...f,[a]:r}):W({...y,[a]:r})},Ne=t=>{var r;const a=We[t];switch(a.type){case"text":return e.jsxs("div",{className:"mb-4",children:[e.jsx(_,{htmlFor:t,className:"block text-sm font-medium text-black mb-1",children:a.text}),e.jsx(v,{id:t,value:n[t]||"",onChange:s=>g(t,s.target.value),placeholder:"Type your answer",className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm"})]});case"number":return e.jsxs("div",{className:"mb-4",children:[e.jsx(_,{htmlFor:t,className:"block text-sm font-medium text-black mb-1",children:a.text}),e.jsx(v,{id:t,type:"number",value:n[t]||"",onChange:s=>g(t,s.target.value),placeholder:"Enter a number",className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm"})]});case"email":return e.jsxs("div",{className:"mb-4",children:[e.jsx(_,{htmlFor:t,className:"block text-sm font-medium text-black mb-1",children:a.text}),e.jsx(v,{id:t,type:"email",value:n[t]||"",onChange:s=>g(t,s.target.value),placeholder:"Enter email address",className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm"})]});case"phone":return e.jsxs("div",{className:"mb-4",children:[e.jsx(_,{htmlFor:t,className:"block text-sm font-medium text-black mb-1",children:a.text}),e.jsx(v,{id:t,type:"tel",value:n[t]||"",onChange:s=>g(t,s.target.value),placeholder:"Enter phone number",className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm"})]});case"date":return e.jsxs("div",{className:"mb-4",children:[e.jsx(_,{htmlFor:t,className:"block text-sm font-medium text-black mb-1",children:a.text}),e.jsxs(oe,{children:[e.jsx(le,{asChild:!0,children:e.jsxs(d,{variant:"outline",className:se("w-full justify-start text-left font-normal",!n[t]&&"text-muted-foreground"),children:[e.jsx(ie,{className:"mr-2 h-4 w-4"}),n[t]?n[t]:e.jsx("span",{children:"Select a date"})]})}),e.jsx(ce,{className:"w-auto p-0 bg-white rounded-lg shadow-sm",children:e.jsx(_e,{mode:"single",selected:n[t]?new Date(n[t]):void 0,onSelect:s=>g(t,s?G(s,"yyyy-MM-dd"):""),initialFocus:!0,className:"p-3 pointer-events-auto bg-white rounded-lg shadow-sm"})})]})]});case"select":let m=[];if(t==="country")m=Je().map(o=>({value:o.id.toString(),label:o.name}));else if(t==="state"&&n.country){const s=parseInt(n.country);m=Q(s).map(c=>({value:c.id.toString(),label:c.name}))}else if(t==="governing_state"&&n.country){const s=parseInt(n.country);m=Q(s).map(c=>({value:c.id.toString(),label:c.name}))}else if(t==="notary_state"&&n.country){const s=parseInt(n.country),o=Q(s);m=[{value:"None",label:"None"},...o.map(c=>({value:c.id.toString(),label:c.name}))]}else a.options&&(m=a.options.map(s=>({value:s,label:s})));return e.jsxs("div",{className:"mb-4",children:[e.jsx(_,{htmlFor:t,className:"block text-sm font-medium text-black mb-1",children:a.text}),e.jsxs(Le,{value:n[t]||"",onValueChange:s=>{g(t,s),t==="country"&&(n.state&&g("state",""),n.governing_state&&g("governing_state",""),n.notary_state&&g("notary_state",""))},disabled:(t==="state"||t==="governing_state"||t==="notary_state")&&!n.country,children:[e.jsx(Be,{className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm",children:e.jsx(Oe,{placeholder:(t==="state"||t==="governing_state"||t==="notary_state")&&!n.country?"Please select a country first":"Select an option"})}),e.jsx(Ie,{className:"bg-white rounded-lg shadow-sm",children:m.map(s=>e.jsx(Me,{value:s.value,children:s.label},s.value))})]})]});case"radio":return e.jsxs("div",{className:"mb-4",children:[e.jsx(_,{className:"block text-sm font-medium text-black mb-2",children:a.text}),e.jsx(Re,{value:n[t]||"",onValueChange:s=>g(t,s),className:"mt-2 space-y-2 text-black",children:(r=a.options)==null?void 0:r.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{value:s,id:`${t}-${s}`}),e.jsx(_,{htmlFor:`${t}-${s}`,children:s})]},s))})]});case"textarea":return e.jsxs("div",{className:"mb-4",children:[e.jsx(_,{htmlFor:t,className:"block text-sm font-medium text-black mb-1",children:a.text}),e.jsx(Ge,{id:t,value:n[t]||"",onChange:s=>g(t,s.target.value),placeholder:"Type your answer",className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm",rows:3})]});case"parent":return e.jsxs("div",{className:"mb-4",children:[e.jsx(_,{className:"block text-sm font-medium text-black mb-2",children:a.text}),e.jsxs("div",{className:"space-y-2",children:[x.map((s,o)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:s.name,onChange:c=>fe(o,c.target.value),placeholder:`Parent/Guardian ${o+1} name`,className:"flex-1 text-black"}),x.length>1&&e.jsx(d,{type:"button",variant:"outline",size:"sm",onClick:()=>ge(o),children:e.jsx(R,{className:"h-4 w-4"})})]},o)),e.jsxs(d,{type:"button",variant:"outline",size:"sm",onClick:pe,className:"w-full",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Add Another Parent/Guardian"]})]})]});case"caretaker":return e.jsxs("div",{className:"mb-4",children:[e.jsx(_,{className:"block text-sm font-medium text-black mb-2",children:a.text}),e.jsxs("div",{className:"space-y-2",children:[u.map((s,o)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:s.name,onChange:c=>ve(o,c.target.value),placeholder:`Caretaker ${o+1} name`,className:"flex-1 text-black"}),u.length>1&&e.jsx(d,{type:"button",variant:"outline",size:"sm",onClick:()=>je(o),children:e.jsx(R,{className:"h-4 w-4"})})]},o)),e.jsxs(d,{type:"button",variant:"outline",size:"sm",onClick:ye,className:"w-full",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Add Another Caretaker"]})]})]});case"children":return e.jsxs("div",{className:"mb-4",children:[e.jsx(_,{className:"block text-sm font-medium text-black mb-2",children:a.text}),e.jsxs("div",{className:"space-y-4",children:[b.map((s,o)=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"font-medium",children:["Child ",o+1]}),b.length>1&&e.jsx(d,{type:"button",variant:"outline",size:"sm",onClick:()=>ue(o),children:e.jsx(R,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-sm",children:"Full Name"}),e.jsx(v,{value:s.fullName,onChange:c=>Y(o,"fullName",c.target.value),placeholder:"Enter full name",className:"text-black"})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-sm",children:"Date of Birth"}),e.jsxs(oe,{children:[e.jsx(le,{asChild:!0,children:e.jsxs(d,{variant:"outline",className:se("w-full justify-start text-left font-normal",!s.dateOfBirth&&"text-muted-foreground"),children:[e.jsx(ie,{className:"mr-2 h-4 w-4"}),s.dateOfBirth?s.dateOfBirth:e.jsx("span",{children:"Select date"})]})}),e.jsx(ce,{className:"w-auto p-0 bg-white rounded-lg shadow-sm",children:e.jsx(_e,{mode:"single",selected:s.dateOfBirth?new Date(s.dateOfBirth):void 0,onSelect:c=>Y(o,"dateOfBirth",c?G(c,"yyyy-MM-dd"):""),initialFocus:!0,className:"p-3 pointer-events-auto bg-white rounded-lg shadow-sm"})})]})]})]})]},o)),e.jsxs(d,{type:"button",variant:"outline",size:"sm",onClick:xe,className:"w-full",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Add Another Child"]})]})]});case"emergency":const S=t==="secondary_emergency",P=S?y:f;return e.jsxs("div",{className:"mb-4",children:[e.jsx(_,{className:"block text-sm font-medium text-black mb-2",children:a.text}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-sm",children:"Name"}),e.jsx(v,{value:P.name,onChange:s=>B(S?"secondary":"primary","name",s.target.value),placeholder:"Enter contact name",className:"text-black"})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-sm",children:"Phone"}),e.jsx(v,{value:P.phone,onChange:s=>B(S?"secondary":"primary","phone",s.target.value),placeholder:"Enter phone number",className:"text-black"})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-sm",children:"Email"}),e.jsx(v,{value:P.email,onChange:s=>B(S?"secondary":"primary","email",s.target.value),placeholder:"Enter email address",className:"text-black"})]})]})]});case"confirmation":return e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx(De,{className:"h-12 w-12 text-green-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-black",children:a.text})]});default:return null}},be=()=>(console.log("Current section:",l,"Questions:",p==null?void 0:p.questions),p.questions.map(t=>Ne(t))),Ce=()=>l==="confirmation"?!0:l==="location_selection"?n.country&&n.state:l==="parties"?x.some(a=>a.name.trim())&&n.parent_address&&n.parent_phones&&n.parent_emails:l==="caretakers"?u.some(a=>a.name.trim())&&n.caretaker_address&&n.caretaker_phones&&n.caretaker_relationship:l==="children"?b.some(a=>a.fullName.trim()&&a.dateOfBirth):l==="duration"?n.start_date&&n.end_date:l==="emergency"?f.name&&f.phone:l==="governing"?n.governing_state:l==="notary"?!0:l==="user_info_step"?n.user_info_step:p.questions.filter(a=>!a.includes("notary")&&!a.includes("user_info_step")).every(a=>!!n[a]),Z=()=>{K(!0);try{console.log("Generating Child Care Authorization Agreement PDF...");const t=new Qe;t.setFont("helvetica","bold"),t.setFontSize(16),t.text("Child Care Authorization Agreement",105,20,{align:"center"}),t.setFont("helvetica","normal"),t.setFontSize(11);let a=35;const r=6,m=280,S=G(new Date,"yyyy-MM-dd"),P=x.map(i=>i.name).filter(i=>i.trim()).join(" and "),s=u.map(i=>i.name).filter(i=>i.trim()).join(" and "),o=`This Child Care Authorization Agreement ("Agreement") is entered into on ${S}, by and between ${P||"_______________"} ("Parent(s)/Guardian(s)"), and ${s||"_______________"} ("Caretaker(s)").`;t.splitTextToSize(o,170).forEach(i=>{t.text(i,15,a),a+=r}),a+=r,t.setFont("helvetica","bold"),t.text("Parent(s)/Guardian(s) Information.",15,a),a+=r,t.setFont("helvetica","normal");const we=`The Parent(s)/Guardian(s) hereby authorize(s) the care of the child(ren) listed below. Parent(s)/Guardian(s) contact information: Address: ${n.parent_address||"_______________________________________________"}, Phone: ${n.parent_phones||"_______________"}, Email: ${n.parent_emails||"_______________________________________________"}.`;t.splitTextToSize(we,170).forEach(i=>{t.text(i,15,a),a+=r}),a+=r,t.setFont("helvetica","bold"),t.text("Caretaker(s) Information.",15,a),a+=r,t.setFont("helvetica","normal");const Se=`The Caretaker(s) agree(s) to provide care for the child(ren) as specified in this Agreement. Caretaker(s) contact information: Address: ${n.caretaker_address||"_______________________________________________"}, Phone: ${n.caretaker_phones||"_______________"}, Relationship to Child(ren): ${n.caretaker_relationship||"_______________"}.`;t.splitTextToSize(Se,170).forEach(i=>{t.text(i,15,a),a+=r}),a+=r,t.setFont("helvetica","bold"),t.text("Subject Child(ren).",15,a),a+=r,t.setFont("helvetica","normal");let O="This Agreement applies to the following child(ren): ";const q=b.filter(i=>i.fullName.trim()||i.dateOfBirth);if(q.length>0){const i=q.map(A=>`${A.fullName||"_______________"} (DOB: ${A.dateOfBirth||"_______________"})`).join(", ");O+=i+"."}else O+="Name: _______________, Date of Birth: _______________.";t.splitTextToSize(O,170).forEach(i=>{t.text(i,15,a),a+=r}),a+=r,t.setFont("helvetica","bold"),t.text("Duration of Authorization.",15,a),a+=r,t.setFont("helvetica","normal");const Pe=`This authorization shall be effective from ${n.start_date||"____ day of ___________, 20__"} ("Start Date") and shall remain in effect until ${n.end_date||"____ day of ___________, 20__"} ("End Date"), unless terminated earlier in accordance with the terms of this Agreement.`;t.splitTextToSize(Pe,170).forEach(i=>{t.text(i,15,a),a+=r}),a+=r,a>m-40&&(t.addPage(),a=20),t.setFont("helvetica","bold"),t.text("Emergency Contact Information.",15,a),a+=r,t.setFont("helvetica","normal");let k="In case of emergency, the following contacts should be notified: ";k+=`Primary Contact: ${f.name||"_______________"} (Phone: ${f.phone||"_______________"}`,f.email&&(k+=`, Email: ${f.email}`),k+="). ",y.name||y.phone?(k+=`Secondary Contact: ${y.name||"_______________"} (Phone: ${y.phone||"_______________"}`,y.email&&(k+=`, Email: ${y.email}`),k+=")."):k+="Secondary Contact: _______________ (Phone: _______________).",t.splitTextToSize(k,170).forEach(i=>{t.text(i,15,a),a+=r}),a+=r,t.setFont("helvetica","bold"),t.text("Authorization Powers.",15,a),a+=r,t.setFont("helvetica","normal"),t.splitTextToSize("The Parent(s)/Guardian(s) hereby authorize(s) the Caretaker(s) to make decisions regarding the daily care, supervision, and welfare of the child(ren), including but not limited to medical care in case of emergency, educational decisions, and general supervision. This authorization does not extend to major medical procedures or decisions that require parental consent under state law.",170).forEach(i=>{t.text(i,15,a),a+=r}),a+=r,t.setFont("helvetica","bold"),t.text("Governing Law.",15,a),a+=r,t.setFont("helvetica","normal");const Ae=`This Agreement shall be governed by and construed in accordance with the laws of the State/Province of ${n.governing_state&&n.country?T(n.country,n.governing_state):"_______________"}.`;if(t.splitTextToSize(Ae,170).forEach(i=>{t.text(i,15,a),a+=r}),a+=r+10,a>m-80&&(t.addPage(),a=20),t.setFont("helvetica","bold"),t.text("Signatures.",15,a),a+=r+5,t.setFont("helvetica","normal"),t.text("The Parent(s)/Guardian(s):",15,a),a+=r+5,x.forEach((i,A)=>{t.text("____________________________",15,a),a+=r,t.text(`${i.name||"_______________"} (Printed Name)`,15,a),a+=r+5}),a+=5,t.text("The Caretaker(s):",15,a),a+=r+5,u.forEach((i,A)=>{t.text("____________________________",15,a),a+=r,t.text(`${i.name||"_______________"} (Printed Name)`,15,a),a+=r+5}),a+=5,t.text("Date: _________________",15,a),n.notary_state&&n.notary_state!=="None"||n.notary_county){a>m-60?(t.addPage(),a=20):a+=20,t.setFont("helvetica","bold"),t.text("Notary Acknowledgment.",15,a),a+=r+2,t.setFont("helvetica","normal");const i=n.notary_state&&n.notary_state!=="None"&&n.country?T(n.country,n.notary_state):"_____________________";t.text(`State/Province of ${i}`,15,a),a+=r,t.text(`County of ${n.notary_county||"___________________"}`,15,a),a+=r+3;const Te=`On this ____ day of __________, 20__, before me personally appeared ${[...x.map(w=>w.name),...u.map(w=>w.name)].filter(w=>w.trim()).join(" and ")||"_______________________________________________"}, who proved to me on the basis of satisfactory evidence to be the person(s) whose name(s) is/are subscribed to the within instrument and acknowledged to me that he/she/they executed the same in his/her/their authorized capacity, and that by his/her/their signature(s) on the instrument the person(s), or the entity upon behalf of which the person(s) acted, executed the instrument.`;t.splitTextToSize(Te,170).forEach(w=>{t.text(w,15,a),a+=r}),a+=r,t.text("______________________________",15,a),a+=r,t.text("Notary Public Signature",15,a),a+=r+3,t.text("My commission expires: _______________",15,a)}const ee=`child_care_authorization_${G(new Date,"yyyyMMdd_HHmmss")}.pdf`;return console.log("Saving PDF with filename:",ee),t.save(ee),D.success("Child Care Authorization Agreement successfully generated!"),t}catch(t){return console.error("Error generating PDF:",t),D.error("Failed to generate Child Care Authorization Agreement"),null}finally{K(!1)}},ke=()=>e.jsxs("div",{className:"space-y-4 text-black",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Child Care Authorization Agreement Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm",children:"General Information"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Country:"})," ",n.country?Ue(n.country):"Not provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"State/Province:"})," ",n.state&&n.country?T(n.country,n.state):"Not provided"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm",children:"Parents/Guardians"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Names:"})," ",x.map(t=>t.name).filter(t=>t.trim()).join(", ")||"Not provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",n.parent_address||"Not provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",n.parent_phones||"Not provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",n.parent_emails||"Not provided"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm",children:"Caretakers"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Names:"})," ",u.map(t=>t.name).filter(t=>t.trim()).join(", ")||"Not provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",n.caretaker_address||"Not provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",n.caretaker_phones||"Not provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Relationship:"})," ",n.caretaker_relationship||"Not provided"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm",children:"Children"}),b.filter(t=>t.fullName.trim()||t.dateOfBirth).map((t,a)=>e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",t.fullName||"Not provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"DOB:"})," ",t.dateOfBirth||"Not provided"]})]},a))]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm",children:"Duration"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Start:"})," ",n.start_date||"Not provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"End:"})," ",n.end_date||"Not provided"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm",children:"Emergency Contacts"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Primary:"})," ",f.name||"Not provided"," - ",f.phone||"Not provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Secondary:"})," ",y.name||"Not provided"," - ",y.phone||"Not provided"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm",children:"Governing Law"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Governing State/Province:"})," ",n.governing_state&&n.country?T(n.country,n.governing_state):"Not provided"]}),n.notary_state&&n.notary_state!=="None"&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notary State/Province:"})," ",n.notary_state&&n.country?T(n.country,n.notary_state):"Not provided"]}),n.notary_county&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notary County:"})," ",n.notary_county]})]})]})]}),e.jsx("div",{className:"border rounded-lg p-4 bg-green-50 dark:bg-green-900/10",children:e.jsx("p",{className:"text-center mb-2",children:"By generating this document, you confirm the accuracy of the information provided. This document will serve as your official Child Care Authorization Agreement."})})]});return de?e.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm",children:e.jsxs(I,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:[e.jsxs(te,{className:"text-center",children:[e.jsx(ae,{className:"text-xl text-green-600",children:"Child Care Authorization Agreement"}),e.jsx(ne,{children:"Review your agreement details below before generating the final document."})]}),e.jsx(M,{className:"space-y-4",children:ke()}),e.jsxs(re,{className:"flex justify-between",children:[e.jsx(d,{variant:"outline",onClick:()=>{L({}),C(["location_selection"]),h("location_selection"),J(!1),F([{fullName:"",dateOfBirth:""}]),E([{name:""}]),$([{name:""}]),U({name:"",phone:"",email:""}),W({name:"",phone:"",email:""})},children:"Start Over"}),e.jsx(d,{onClick:Z,children:"Generate Agreement"})]})]})}):p?l==="user_info_step"?e.jsx(Ve,{onBack:X,onGenerate:Z,documentType:"Child Care Authorization",isGenerating:me}):e.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm p-4",children:e.jsxs(I,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:[e.jsxs(te,{children:[e.jsx(ae,{className:"text-xl",children:p.title}),e.jsxs(ne,{children:[p.description,e.jsxs("div",{className:"mt-2 text-sm",children:["Step ",N.length," of ",Object.keys(V).length]})]}),l==="location_selection"&&e.jsx("div",{className:"mt-2",children:e.jsxs(d,{variant:"outline",onClick:()=>window.open("/child-care-authorization-info","_blank"),className:"text-bright-orange-600 border-bright-orange-600 hover:bg-bright-orange-50",children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),"Learn More About Child Care Authorization"]})})]}),e.jsx(M,{className:"text-black",children:e.jsx("div",{className:"grid grid-cols-1 gap-y-2",children:be()})}),l!=="user_info_step"&&e.jsxs(re,{className:"flex justify-between",children:[e.jsxs(d,{variant:"outline",onClick:X,disabled:N.length<=1,children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"})," Back"]}),e.jsx(d,{onClick:()=>he(),disabled:!Ce(),children:l==="confirmation"?e.jsxs(e.Fragment,{children:["Complete ",e.jsx(Ee,{className:"w-4 h-4 ml-2"})]}):e.jsxs(e.Fragment,{children:["Next ",e.jsx($e,{className:"w-4 h-4 ml-2"})]})})]})]})}):e.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm p-4",children:e.jsx(I,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:e.jsxs(M,{className:"text-center p-4",children:[e.jsx("p",{className:"text-red-500",children:"An error occurred. Please refresh the page."}),e.jsx(d,{onClick:()=>{h("location_selection"),C(["location_selection"])},className:"mt-4",children:"Start Over"})]})})})};export{jt as default};
