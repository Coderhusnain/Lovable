import{u as J,r as g,j as e,C as A,t as P,v as F,k as Q,c as I,ad as $,B as j,A as w,F as K,w as X,_ as Z,l as ee,J as L}from"./index-DmiwH21i.js";import{I as l}from"./input-BAgFuN3B.js";import{T as h}from"./textarea-BBDyVfad.js";import{S as f,a as C,b as y,c as S,d as o}from"./select-CsN3ALin.js";import{C as te}from"./checkbox-Djx90BaC.js";import{L as r}from"./label-QTYrxBzu.js";import{E as se}from"./jspdf.es.min-9HgYH_OZ.js";import{_ as B}from"./index-CFdxOiWH.js";import{U as ie}from"./UserInfoStep-DdXBoRoO.js";import{g as re}from"./generateGuidePDF-B1ISNkph.js";import{f as ae}from"./format-iq60aKky.js";import"./index-BdQq_4o_.js";import"./DocumentAboutSidebar-BxT_XvPT.js";import"./accordion-DQN0-TfB.js";import"./scroll-area-C-cgQwHB.js";import"./circle-help-DVUoXd1v.js";import"./en-US-CXXYYhpC.js";const k=()=>B.getAllCountries(),G=d=>B.getStatesOfCountry(d),ne=(d,u)=>{const p=k().find(m=>m.id.toString()===d);if(!p)return u;const v=G(p.id).find(m=>m.id.toString()===u);return(v==null?void 0:v.name)||u},Te=()=>{J();const[d,u]=g.useState(1),[p,v]=g.useState(!1),[m,T]=g.useState(!1),[s,N]=g.useState({country:"",state:"",effectiveDate:"",clientName:"",clientAddress:"",clientPhone:"",clientEmail:"",providerName:"",providerCompany:"",providerAddress:"",providerPhone:"",providerEmail:"",eventDate:"",eventLocation:"",eventType:"",guestCount:"",serviceType:"",cuisineType:"",servicesIncluded:[],totalCost:"",depositAmount:"",depositDueDate:"",finalPaymentDue:"",menuDescription:"",dietaryAccommodations:"",setupTime:"",serviceStartTime:"",serviceEndTime:"",additionalNotes:""}),R=["Food preparation","Food service/waitstaff","Beverage service","Bar service","Table setup","Tableware/dishes provided","Linens provided","Cleanup services","Chef on-site","Menu planning consultation","Food tasting session","Cake/dessert service"],a=(t,c)=>{N(n=>({...n,[t]:c})),t==="country"&&N(n=>({...n,state:""}))},M=t=>{N(c=>({...c,servicesIncluded:c.servicesIncluded.includes(t)?c.servicesIncluded.filter(n=>n!==t):[...c.servicesIncluded,t]}))},O=t=>t?G(parseInt(t.split(":")[0])).map(c=>`${c.id}:${c.name}`):[],E=()=>{switch(d){case 1:return!!(s.country&&s.state&&s.effectiveDate);case 2:return!!(s.clientName&&s.providerName);case 3:return!!(s.eventDate&&s.eventLocation&&s.guestCount);case 4:return!!(s.totalCost&&s.servicesIncluded.length>0);case 5:return!0;default:return!1}},V=()=>{E()&&(d<5?u(d+1):v(!0))},D=()=>{d>1&&u(d-1)},z=()=>{T(!0);try{const t=new se,c=t.internal.pageSize.getWidth(),n=7;let i=20;const x=(_=25)=>{i>270-_&&(t.addPage(),i=20)};t.setFont("helvetica","bold"),t.setFontSize(16),t.text("FOOD SERVICE AGREEMENT",c/2,i,{align:"center"}),i+=n*2,t.setFont("helvetica","normal"),t.setFontSize(11);const U=`This Food Service Agreement ("Agreement") is made and entered into as of ${s.effectiveDate||"__________"} ("Effective Date"), by and between:`;t.splitTextToSize(U,180).forEach(_=>{t.text(_,15,i),i+=n}),i+=n,t.setFont("helvetica","bold"),t.text("Client:",15,i),i+=n,t.setFont("helvetica","normal"),t.text(`Name: ${s.clientName||"__________"}`,20,i),i+=n,t.text(`Address: ${s.clientAddress||"__________"}`,20,i),i+=n,t.text(`Phone: ${s.clientPhone||"__________"} | Email: ${s.clientEmail||"__________"}`,20,i),i+=n*2,t.setFont("helvetica","bold"),t.text("Food Service Provider:",15,i),i+=n,t.setFont("helvetica","normal"),t.text(`Name: ${s.providerName||"__________"}`,20,i),i+=n,s.providerCompany&&(t.text(`Company: ${s.providerCompany}`,20,i),i+=n),t.text(`Address: ${s.providerAddress||"__________"}`,20,i),i+=n,t.text(`Phone: ${s.providerPhone||"__________"} | Email: ${s.providerEmail||"__________"}`,20,i),i+=n*2,[{title:"1. EVENT DETAILS",content:`Event Date: ${s.eventDate||"__________"}
Event Type: ${s.eventType||"__________"}
Location: ${s.eventLocation||"__________"}
Guest Count: ${s.guestCount||"__________"}`},{title:"2. SERVICE TIMES",content:`Setup Time: ${s.setupTime||"As agreed"}
Service Start: ${s.serviceStartTime||"__________"}
Service End: ${s.serviceEndTime||"__________"}`},{title:"3. SERVICES PROVIDED",content:`Service Type: ${s.serviceType||"Full Catering"}
Cuisine: ${s.cuisineType||"As specified"}

Services included:
${s.servicesIncluded.map(_=>`• ${_}`).join(`
`)||"• As agreed upon"}`},{title:"4. MENU",content:s.menuDescription||"Menu to be finalized with Client prior to event."},{title:"5. DIETARY ACCOMMODATIONS",content:s.dietaryAccommodations||"Provider will accommodate reasonable dietary restrictions with advance notice."},{title:"6. PAYMENT TERMS",content:`Total Cost: $${s.totalCost||"__________"}
Deposit: $${s.depositAmount||"__________"} due by ${s.depositDueDate||"signing"}
Final Payment: Due ${s.finalPaymentDue||"7 days before event"}`},{title:"7. PROVIDER RESPONSIBILITIES",content:"The Provider agrees to: Prepare and serve food according to agreed menu, Provide adequate staff for service, Maintain food safety and hygiene standards, Arrive on time for setup and service, Clean up food service areas after event."},{title:"8. CLIENT RESPONSIBILITIES",content:"The Client agrees to: Provide accurate guest count and dietary requirements, Ensure adequate space and facilities for food service, Make timely payments as agreed, Provide access to venue for setup."},{title:"9. CANCELLATION",content:"Cancellation 14+ days before event: Full refund minus deposit. Cancellation 7-14 days: 50% refund. Cancellation less than 7 days: No refund."},{title:"10. LIABILITY",content:"Provider carries appropriate food service liability insurance. Client is responsible for ensuring guest safety at venue."},{title:"11. GOVERNING LAW",content:`This Agreement shall be governed by the laws of ${s.state?ne(s.country.split(":")[0],s.state.split(":")[0]):"__________"}.`}].forEach(_=>{x(30),t.setFont("helvetica","bold"),t.text(_.title,15,i),i+=n,t.setFont("helvetica","normal"),t.splitTextToSize(_.content,180).forEach(q=>{x(),t.text(q,15,i),i+=n}),i+=3}),s.additionalNotes&&(x(30),t.setFont("helvetica","bold"),t.text("12. ADDITIONAL TERMS",15,i),i+=n,t.setFont("helvetica","normal"),t.splitTextToSize(s.additionalNotes,180).forEach(_=>{x(),t.text(_,15,i),i+=n}),i+=3),x(50),t.setFont("helvetica","bold"),t.text("SIGNATURES",15,i),i+=n*2,t.setFont("helvetica","normal"),t.text(`Client: ${s.clientName||"__________"}`,15,i),i+=n,t.text("Signature: ____________________________ Date: ____________",15,i),i+=n*2,t.text(`Provider: ${s.providerName||"__________"}`,15,i),i+=n,t.text("Signature: ____________________________ Date: ____________",15,i);const b=ae(new Date,"yyyyMMdd_HHmmss");t.save(`food_service_agreement_${b}.pdf`);const Y=re({documentId:"food-service-agreement",documentTitle:"Food Service Agreement"});setTimeout(()=>Y.save(`food_service_guide_${b}.pdf`),500),L.success("Food Service Agreement and Guide PDF generated!")}catch(t){console.error("Error:",t),L.error("Failed to generate PDF")}finally{T(!1)}},H=()=>{switch(d){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Country"}),e.jsxs(f,{value:s.country,onValueChange:t=>a("country",t),children:[e.jsx(C,{children:e.jsx(y,{placeholder:"Select..."})}),e.jsx(S,{children:k().map(t=>e.jsx(o,{value:`${t.id}:${t.name}`,children:t.name},t.id))})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"State/Province"}),e.jsxs(f,{value:s.state,onValueChange:t=>a("state",t),disabled:!s.country,children:[e.jsx(C,{children:e.jsx(y,{placeholder:"Select..."})}),e.jsx(S,{children:O(s.country).map(t=>e.jsx(o,{value:t,children:t.split(":")[1]},t))})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Agreement Date"}),e.jsx(l,{type:"date",value:s.effectiveDate,onChange:t=>a("effectiveDate",t.target.value)})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsx("h3",{className:"font-semibold",children:"Client Information"}),e.jsxs("div",{children:[e.jsx(r,{children:"Client Name *"}),e.jsx(l,{value:s.clientName,onChange:t=>a("clientName",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Address"}),e.jsx(h,{value:s.clientAddress,onChange:t=>a("clientAddress",t.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Phone"}),e.jsx(l,{value:s.clientPhone,onChange:t=>a("clientPhone",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Email"}),e.jsx(l,{type:"email",value:s.clientEmail,onChange:t=>a("clientEmail",t.target.value)})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsx("h3",{className:"font-semibold",children:"Food Service Provider Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Provider Name *"}),e.jsx(l,{value:s.providerName,onChange:t=>a("providerName",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Company/Business Name"}),e.jsx(l,{value:s.providerCompany,onChange:t=>a("providerCompany",t.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Address"}),e.jsx(h,{value:s.providerAddress,onChange:t=>a("providerAddress",t.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Phone"}),e.jsx(l,{value:s.providerPhone,onChange:t=>a("providerPhone",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Email"}),e.jsx(l,{type:"email",value:s.providerEmail,onChange:t=>a("providerEmail",t.target.value)})]})]})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Event Date *"}),e.jsx(l,{type:"date",value:s.eventDate,onChange:t=>a("eventDate",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Event Type"}),e.jsxs(f,{value:s.eventType,onValueChange:t=>a("eventType",t),children:[e.jsx(C,{children:e.jsx(y,{placeholder:"Select..."})}),e.jsxs(S,{children:[e.jsx(o,{value:"Wedding",children:"Wedding"}),e.jsx(o,{value:"Corporate Event",children:"Corporate Event"}),e.jsx(o,{value:"Birthday Party",children:"Birthday Party"}),e.jsx(o,{value:"Private Dinner",children:"Private Dinner"}),e.jsx(o,{value:"Graduation",children:"Graduation"}),e.jsx(o,{value:"Holiday Party",children:"Holiday Party"}),e.jsx(o,{value:"Other",children:"Other"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Event Location *"}),e.jsx(h,{placeholder:"Full venue address",value:s.eventLocation,onChange:t=>a("eventLocation",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Estimated Guest Count *"}),e.jsx(l,{type:"number",value:s.guestCount,onChange:t=>a("guestCount",t.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Setup Time"}),e.jsx(l,{type:"time",value:s.setupTime,onChange:t=>a("setupTime",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Service Start Time"}),e.jsx(l,{type:"time",value:s.serviceStartTime,onChange:t=>a("serviceStartTime",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Service End Time"}),e.jsx(l,{type:"time",value:s.serviceEndTime,onChange:t=>a("serviceEndTime",t.target.value)})]})]})]});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Service Type"}),e.jsxs(f,{value:s.serviceType,onValueChange:t=>a("serviceType",t),children:[e.jsx(C,{children:e.jsx(y,{placeholder:"Select..."})}),e.jsxs(S,{children:[e.jsx(o,{value:"Full Service Catering",children:"Full Service Catering"}),e.jsx(o,{value:"Drop-off Catering",children:"Drop-off Catering"}),e.jsx(o,{value:"Buffet Service",children:"Buffet Service"}),e.jsx(o,{value:"Plated Service",children:"Plated Service"}),e.jsx(o,{value:"Food Truck",children:"Food Truck"})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Cuisine Type"}),e.jsx(l,{placeholder:"e.g., Italian, BBQ, Mexican",value:s.cuisineType,onChange:t=>a("cuisineType",t.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Services Included *"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:R.map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{id:t,checked:s.servicesIncluded.includes(t),onCheckedChange:()=>M(t)}),e.jsx(r,{htmlFor:t,className:"text-sm cursor-pointer",children:t})]},t))})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Menu Description"}),e.jsx(h,{placeholder:"Describe the menu items...",value:s.menuDescription,onChange:t=>a("menuDescription",t.target.value),rows:4})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Dietary Accommodations"}),e.jsx(h,{placeholder:"Any dietary restrictions to accommodate",value:s.dietaryAccommodations,onChange:t=>a("dietaryAccommodations",t.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Total Cost ($) *"}),e.jsx(l,{type:"number",value:s.totalCost,onChange:t=>a("totalCost",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Deposit Amount ($)"}),e.jsx(l,{type:"number",value:s.depositAmount,onChange:t=>a("depositAmount",t.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Additional Notes"}),e.jsx(h,{value:s.additionalNotes,onChange:t=>a("additionalNotes",t.target.value)})]})]});case 5:return e.jsx(ie,{onBack:D,onGenerate:()=>v(!0),documentType:"Food Service Agreement",isGenerating:m});default:return null}};if(p)return e.jsxs(A,{className:"w-full max-w-4xl mx-auto",children:[e.jsx(P,{className:"bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-t-lg",children:e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-6 w-6"}),"Food Service Agreement Ready"]})}),e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"border rounded-lg p-4 text-black",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Client:"})," ",s.clientName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Provider:"})," ",s.providerName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Event Date:"})," ",s.eventDate]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Service Type:"})," ",s.serviceType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Guests:"})," ",s.guestCount]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total:"})," $",s.totalCost]})]})]})]})}),e.jsxs($,{className:"flex justify-between p-6 bg-gray-50",children:[e.jsxs(j,{variant:"outline",onClick:()=>v(!1),children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(j,{onClick:z,disabled:m,className:"bg-amber-500 hover:bg-amber-600",children:[m?"Generating...":"Generate PDF",e.jsx(K,{className:"ml-2 h-4 w-4"})]})]})]});const W=["","Location","Parties","Event Details","Services & Payment","Your Info"];return e.jsxs(A,{className:"w-full max-w-4xl mx-auto",children:[e.jsxs(P,{className:"bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-t-lg",children:[e.jsx(F,{children:"Food Service Agreement"}),e.jsxs(X,{className:"text-amber-100",children:["Step ",d," of 5: ",W[d]]})]}),e.jsx(I,{className:"p-6",children:H()}),e.jsxs($,{className:"flex justify-between p-6 bg-gray-50",children:[e.jsxs(j,{variant:"outline",onClick:D,disabled:d===1,children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Back"]}),e.jsxs(j,{onClick:V,disabled:!E(),className:"bg-amber-500 hover:bg-amber-600",children:[d===5?"Complete":"Next",d===5?e.jsx(Z,{className:"ml-2 h-4 w-4"}):e.jsx(ee,{className:"ml-2 h-4 w-4"})]})]})]})};export{Te as default};
