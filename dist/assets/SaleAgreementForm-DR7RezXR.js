import{u as ve,r as y,j as s,C as M,k as te,l as se,m as ne,b as z,n as ae,a as N,F as we,A as Ne,d as re,J as B,e as je,i as Te,ak as Ee}from"./index-EUBTzQul.js";import{I as C}from"./input-BXL43AC-.js";import{T as ie}from"./textarea-Dfjbmtdk.js";import{S as Be,a as Ce,b as Ae,c as Ie,d as ke}from"./select-fj3w0PNH.js";import{L as u}from"./label-9rsijxaJ.js";import{E as oe}from"./jspdf.es.min-CJIQpcZG.js";import{P as Le,a as Fe,b as Pe,C as De}from"./popover-BqgC3DaQ.js";import{_ as L}from"./index-Cyh42AxN.js";import{U as $e}from"./UserInfoStep-nEfX4EqD.js";import{f as k}from"./format-BEMO4FpZ.js";import"./chevron-left-CJdn5DtI.js";const Re=()=>L.getAllCountries(),We=b=>L.getStatesOfCountry(b),O=b=>{const l=L.getAllCountries().find(g=>g.id.toString()===b);return(l==null?void 0:l.name)||`Country ID: ${b}`},G=(b,l)=>{const g=L.getAllCountries().find(p=>p.id.toString()===b);if(!g)return`State ID: ${l}`;const j=L.getStatesOfCountry(g.id).find(p=>p.id.toString()===l);return(j==null?void 0:j.name)||`State ID: ${l}`},H={location_selection:{id:"location_selection",title:"Location Selection",description:"Select the country and state/province where this Sale Agreement will be executed",questions:["country","state"],nextSectionId:"general_details"},general_details:{id:"general_details",title:"General Details",description:"Enter the basic details of the Sale Agreement",questions:["effective_date","business_name","sale_price"],nextSectionId:"seller_info"},seller_info:{id:"seller_info",title:"Seller Information",description:"Enter details of the party selling the business",questions:["seller_info"],nextSectionId:"buyer_info"},buyer_info:{id:"buyer_info",title:"Buyer Information",description:"Enter details of the party buying the business",questions:["buyer_info"],nextSectionId:"witnesses"},witnesses:{id:"witnesses",title:"Witness Information",description:"Enter witness information for the agreement",questions:["witness1_info","witness2_info"],nextSectionId:"confirmation"},confirmation:{id:"confirmation",title:"Confirmation",description:"Review and confirm your information",questions:["confirmation"],nextSectionId:"user_info_step"},user_info_step:{id:"user_info_step",title:"User Information",description:"Enter your information to generate the document",questions:[]}},Me={country:{id:"country",type:"select",text:"Select the country where this Sale Agreement will be executed:",options:[],defaultNextId:"state"},state:{id:"state",type:"select",text:"Select the state/province where this Sale Agreement will be executed:",options:[],defaultNextId:"effective_date"},effective_date:{id:"effective_date",type:"date",text:"Effective Date of Agreement:",defaultNextId:"business_name"},business_name:{id:"business_name",type:"text",text:"Business Name:",defaultNextId:"sale_price"},sale_price:{id:"sale_price",type:"number",text:"Sale Price:",defaultNextId:"seller_info"},seller_info:{id:"seller_info",type:"party",text:"Seller Information:",defaultNextId:"buyer_info"},buyer_info:{id:"buyer_info",type:"party",text:"Buyer Information:",defaultNextId:"witness1_info"},witness1_info:{id:"witness1_info",type:"witness",text:"Witness 1 Information:",defaultNextId:"witness2_info"},witness2_info:{id:"witness2_info",type:"witness",text:"Witness 2 Information:",defaultNextId:"confirmation"},confirmation:{id:"confirmation",type:"confirmation",text:"Thank you for providing the information. We will generate your Sale Agreement based on your answers."}},bt=()=>{const b=ve(),[l,g]=y.useState("location_selection"),[a,j]=y.useState({}),[p,F]=y.useState(["location_selection"]),[le,U]=y.useState(!1),[ce,Y]=y.useState(!1),[d,J]=y.useState({name:"",cnic:"",address:""}),[h,V]=y.useState({name:"",cnic:"",address:""}),[f,Q]=y.useState({name:"",cnic:""}),[x,K]=y.useState({name:"",cnic:""}),[_,X]=y.useState(),v=H[l],de=()=>{try{const e=v==null?void 0:v.nextSectionId;if(!e){U(!0);return}H[e]?(F([...p,e]),g(e)):(console.error(`Next section ${e} does not exist`),B.error("Navigation error. Please try again."))}catch(e){console.error("Error in handleNext:",e),B.error("An error occurred. Please try again.")}},Z=()=>{if(p.length>1){const e=[...p];e.pop(),F(e),g(e[e.length-1])}},A=(e,t)=>{j({...a,[e]:t})},P=(e,t,n)=>{e==="seller"?J({...d,[t]:n}):V({...h,[t]:n})},q=(e,t,n)=>{e==="witness1"?Q({...f,[t]:n}):K({...x,[t]:n})},he=e=>{const t=Me[e];switch(t.type){case"text":return s.jsxs("div",{className:"mb-4",children:[s.jsx(u,{htmlFor:e,className:"block text-sm font-medium text-black mb-1",children:t.text}),s.jsx(C,{id:e,value:a[e]||"",onChange:r=>A(e,r.target.value),placeholder:"Type your answer",className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm"})]});case"select":let n=[];if(e==="country")n=Re().map(w=>({value:w.id.toString(),label:w.name}));else if(e==="state"&&a.country){const r=parseInt(a.country);n=We(r).map(E=>({value:E.id.toString(),label:E.name}))}else t.options&&(n=t.options.map(r=>({value:r,label:r})));return s.jsxs("div",{className:"mb-4",children:[s.jsx(u,{htmlFor:e,className:"block text-sm font-medium text-black mb-1",children:t.text}),s.jsxs(Be,{value:a[e]||"",onValueChange:r=>{A(e,r),e==="country"&&a.state&&A("state","")},disabled:e==="state"&&!a.country,children:[s.jsx(Ce,{className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm",children:s.jsx(Ae,{placeholder:e==="state"&&!a.country?"Please select a country first":"Select an option"})}),s.jsx(Ie,{className:"bg-white rounded-lg shadow-sm",children:n.map(r=>s.jsx(ke,{value:r.value,children:r.label},r.value))})]})]});case"number":return s.jsxs("div",{className:"mb-4",children:[s.jsx(u,{htmlFor:e,className:"block text-sm font-medium text-black mb-1",children:t.text}),s.jsx(C,{id:e,type:"number",value:a[e]||"",onChange:r=>A(e,r.target.value),placeholder:"Enter amount",className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm"})]});case"textarea":return s.jsxs("div",{className:"mb-4",children:[s.jsx(u,{htmlFor:e,className:"block text-sm font-medium text-black mb-1",children:t.text}),s.jsx(ie,{id:e,value:a[e]||"",onChange:r=>A(e,r.target.value),placeholder:"Enter additional information",className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm",rows:4})]});case"date":return s.jsxs("div",{className:"mb-4",children:[s.jsx(u,{className:"block text-sm font-medium text-black mb-1",children:t.text}),s.jsxs(Le,{children:[s.jsx(Fe,{asChild:!0,children:s.jsxs(N,{variant:"outline",className:Te("w-full justify-start text-left font-normal mt-1",!_&&"text-muted-foreground"),children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),_?k(_,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(Pe,{className:"w-auto p-0 bg-white rounded-lg shadow-sm",children:s.jsx(De,{mode:"single",selected:_,onSelect:X,initialFocus:!0})})]})]});case"party":const m=e==="seller_info",S=m?d:h,o=m?"seller":"buyer";return s.jsxs("div",{className:"mb-4",children:[s.jsx(u,{className:"block text-sm font-medium text-black mb-2",children:t.text}),s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx(u,{className:"text-sm",children:"Full Name"}),s.jsx(C,{value:S.name,onChange:r=>P(o,"name",r.target.value),placeholder:"Enter full name",className:"text-black"})]}),s.jsxs("div",{children:[s.jsx(u,{className:"text-sm",children:"CNIC"}),s.jsx(C,{value:S.cnic,onChange:r=>P(o,"cnic",r.target.value),placeholder:"Enter CNIC number",className:"text-black"})]}),s.jsxs("div",{children:[s.jsx(u,{className:"text-sm",children:"Address (Optional)"}),s.jsx(ie,{value:S.address||"",onChange:r=>P(o,"address",r.target.value),placeholder:"Enter address",className:"text-black",rows:2})]})]})]});case"witness":const c=e==="witness2_info",T=c?x:f,I=c?"witness2":"witness1";return s.jsxs("div",{className:"mb-4",children:[s.jsx(u,{className:"block text-sm font-medium text-black mb-2",children:t.text}),s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx(u,{className:"text-sm",children:"Full Name"}),s.jsx(C,{value:T.name,onChange:r=>q(I,"name",r.target.value),placeholder:"Enter witness full name",className:"text-black"})]}),s.jsxs("div",{children:[s.jsx(u,{className:"text-sm",children:"CNIC"}),s.jsx(C,{value:T.cnic,onChange:r=>q(I,"cnic",r.target.value),placeholder:"Enter CNIC number",className:"text-black"})]})]})]});case"confirmation":return s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx(je,{className:"h-12 w-12 text-green-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-black",children:t.text})]});default:return null}},me=()=>l==="user_info_step"?s.jsx($e,{onBack:Z,onGenerate:fe,documentType:"Sale Agreement",isGenerating:ce}):v.questions.map(e=>he(e)),ue=()=>l==="confirmation"?!0:l==="user_info_step"?!1:l==="location_selection"?a.country&&a.state:l==="general_details"?_&&a.business_name&&a.sale_price:l==="seller_info"?d.name&&d.cnic:l==="buyer_info"?h.name&&h.cnic:l==="witnesses"?f.name&&f.cnic&&x.name&&x.cnic:!0,_e=()=>{try{console.log("Generating Sale Agreement PDF...");const e=new oe;e.setFont("helvetica","bold"),e.setFontSize(16),e.text("SALE AGREEMENT",105,20,{align:"center"}),e.setFont("helvetica","normal"),e.setFontSize(11);let t=35;const n=6,m=280,S=_?k(_,"MMMM dd, yyyy"):"_______________",o=a.country?O(a.country):"_______________",c=a.state&&a.country?G(a.country,a.state):"_______________",T=`This SALE AGREEMENT ("Agreement") is made in ${c}, ${o} on this ${S} ("Effective Date").`;e.splitTextToSize(T,170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n*1.5,e.setFont("helvetica","bold"),e.text("BY AND BETWEEN",15,t),t+=n*1.5,e.setFont("helvetica","normal");const r=`${d.name||"_______________"} (hereinafter referred to as the "Seller", which expression shall, where the context so admits, shall include their respective legal heirs, agents, successors-in-interest and permitted assigns);`;e.splitTextToSize(r,170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n,e.setFont("helvetica","bold"),e.text("AND",15,t),t+=n*1.5,e.setFont("helvetica","normal");const E=`${h.name||"_______________"} (hereinafter referred to as the "Buyer", which expression shall, where the context so admits, shall include their respective legal heirs, agents, successors-in-interest and permitted assigns).`;e.splitTextToSize(E,170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n,e.splitTextToSize('(The Seller and Buyers may individually be referred to as "Party" or collectively as "Parties").',170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n*1.5,t>m-80&&(e.addPage(),t=20),e.setFont("helvetica","bold"),e.text("RECITALS",15,t),t+=n*1.5,e.setFont("helvetica","normal");const ye=`WHEREAS, the Seller hereby warrants and represents that he is the absolute, rightful and lawful owner of business named as "${a.business_name||"_______________"}" hereinafter referred as ("Business") plus all amenities, laboratories, pharmacies, appurtenances and/or other articles attached to the Sold Business;`;e.splitTextToSize(ye,170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n,e.splitTextToSize("WHEREAS, the Seller is desirous of selling the Business to the Buyers and the Buyers is desirous of purchasing the Business, free from and/or any and all Encumbrances, mortgages, charges, liens, pledges, tenancies and or other restraints likely to impede the transfer of title from Seller to Buyers;",170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n,e.splitTextToSize("AND WHEREAS, the Parties have agreed to the terms and conditions on which the sale of Business from Seller to Buyers shall take place, and each of them wishes to reduce the same in writing.",170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n*1.5,t>m-60&&(e.addPage(),t=20),e.setFont("helvetica","bold"),e.text("NOW, THEREFORE, THIS SALE DEED WITNESSTH AS FOLLOWS:",15,t),t+=n*2,e.text("THE SALE TRANSACTION",15,t),t+=n*1.5,e.setFont("helvetica","normal");const ge=`The Sold Business is valued ${a.sale_price||"_______________"} ("Sale Price") being the full and final Sale Price of the Business;`;e.splitTextToSize(ge,170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n,e.splitTextToSize("The Buyers under this Sale Deed, hereby affirms that, Pursuant to this sale Agreement the Seller has made payment of Sale Price for abovementioned Business in kind vide the execution of this Sale Deed, and the Seller acknowledges the same.",170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n,e.splitTextToSize("In consideration of the Sale Price paid by the Buyers to the Seller, the Seller hereby grants, conveys and assigns by way of absolute sale unto the Buyers the Sold Business.",170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n*1.5,t>m-60&&(e.addPage(),t=20),e.setFont("helvetica","bold"),e.text("REPRESENTATIONS AND WARRANTIES",15,t),t+=n*1.5,e.text("Of Seller:",15,t),t+=n,e.setFont("helvetica","normal"),e.splitTextToSize("in addition to applicable undertakings under Sale Agreement, the Seller hereby represents and warrants that:",170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n,["The Seller has all requisite power and authority to execute and deliver the Sale Deed, and to perform its obligations under its terms and conditions;","The Seller has good, valid, complete and marketable title and goodwill therein, and no one other than the Seller possesses any title, right, share or interest in or relating to the Sold Business, whether paramount, competing or otherwise, and that the Sold Business is free from all or any Encumbrances, mortgages, charges, liens, pledges, tenancies or other restraints (including the ability of the Buyers to further sell the Sold Business without any Encumbrances) whatsoever, including without limitation, claims, litigation, attachments, taxes, cesses, rates, bills for amenities or any other levy, duty or charge or dues payable to any government authority, banking or financial institution or any other person;","The Seller hereby sells, transfers and conveys all of the estate, title, rights and interests free from Encumbrances in favour of the Buyers against Sale Price to be received from the Buyers;","The Seller is the only owner having undisputed absolute lawful ownership-in-possession of the Sold Business;","The Seller has the lawful power, authority and right to alienate, transfer, sell and convey the Sold Business fully and completely to and/or in favour of the Buyers;","The Sold Business is freehold in nature and the Seller is the only lawful owner of the Sold Business hereby conveyed, sold and transferred and the Seller has not done anything or caused to be done any act or thing (covertly, overtly, directly or indirectly or through any agent or representative or anyone claiming authority on their behalf) whereby the title of the Seller in the Sold Business and/or anything in derogation of the right of the Seller to transfer the Sold Business and/or any act or thing whereby the right of the Seller to sell, transfer, assign and/or convey the Sold Business has been hindered, impaired or prejudiced in any way whatsoever;","The Seller shall not claim any sort of right to or upon or in relation to the Sold Business and shall not interfere, disturb and interrupt the Sold Business;","The Seller has paid or will pay up to the date of this Sale Deed, all rates, taxes, cesses, charges, dues, development charges, assessments by way of business tax or otherwise and any action, claim, loan or liability whatsoever in respect of the Sold Business due and payable to, inter alia, any Government department/agency, or any other local authority or body up to the complete satisfaction of the Buyers;","The Seller hereby indemnifies and shall keep the Buyers indemnified, secured and harmless from and against all losses, claims, and demands, that may be made by the Seller or any other person/persons claiming through the Seller and/or their successor-in-interest. Any fine, penalty or liability imposed or determined by any local body or authority relating to or concerning the Sold Business up to the date of this Sale Deed shall be paid and borne by the Seller;","The Seller shall, at the time of registration of this Sale Deed and thereafter, execute all such documents and papers and do every other reasonable act, deed or thing whatsoever necessary or required by the Buyers to completely and/or more perfectly and effectively secure, assign, transfer and convey the Sold Business and/or electricity, gas, telephone and water connection etc. thereon to the Buyers and shall, in this regard, sign all necessary papers/applications for mutation/transfer of the same in all Government departments/agencies or local bodies or authorities as may be required by the Buyers along with the absolute power of attorney that may be required by the Buyers:","The Seller has handed over quiet, peaceful, vacant physical possession of the Sold Business to the Buyers on the date of this Sale Deed;","From the date of this Sale Deed, the Buyers shall be the sole and exclusive lawful and legal owner of the Sold Business and the Buyers shall enjoy quiet and peaceful possession of the Sold Business and enjoy all its rights, appurtenances, benefits without any let, hindrance, disturbance or interruption of any kind or nature whatsoever by/from the Seller or any other person claiming through them and that the Buyers shall be at liberty to, inter alia, deal with, sell, mortgage, deal with and/or dispose of the Sold Business in any manner desired;","From the date of these presents, the Buyers shall hold, occupy and possess the Sold Business and shall be the sole, absolute, rightful, lawful and exclusive owner of the Sold Business and every part thereof and shall enjoy all profits, emoluments, assessments, privileges without eviction, let, hindrance etc. made or preferred by the Seller or any other person claiming through or under trust of the Seller and that whenever asked by the Buyers or Buyers's successors or representatives, the Seller shall, do, cause, or procure to be done all acts, matters, deeds and things for better assuring and more perfectly assigning the Sold Business to the Buyers, at the cost of the Seller;","The Seller has handed over to the Buyers any and all original title documents, papers and things whatsoever relating to the Business including receipts of evidencing payment of all dues, charges, cesses, rates, assessments, development charges and ground rent up to the date of registration of this Sale Deed and the Parties have executed a separate receipt in this behalf;","The Seller shall always keep the Buyers secured, harmless and indemnified against all losses and detriments occasioned and or suffered by the Buyers or the Buyers's successors or representative owing to any claim, suit, objection, dispute or demand made or preferred by any person, bank, financial institution, local or municipal authority or any government institution concerning the Sold Business or any portion thereof, including pertaining to or in connection with: (a) the Sold Business; (b) sale of the Sold Business to the Buyers; and (c) the original documents of title of the Sold Business up to the date of these presents, and shall make good the same at the cost of the Seller.","The Seller undertakes to have read all terms and conditions of this Sale Deed and explicitly confirms their acceptance of all terms and conditions without any reservation and or confusion."].forEach((i,$)=>{t>m-30&&(e.addPage(),t=20);const R=`${$+1}. ${i}`;e.splitTextToSize(R,165).forEach(W=>{e.text(W,20,t),t+=n}),t+=n*.5}),t>m-80&&(e.addPage(),t=20),e.setFont("helvetica","bold"),e.text("Of Buyers:",15,t),t+=n,e.setFont("helvetica","normal"),e.splitTextToSize("in addition to applicable undertakings under Sale Agreement, the Buyers hereby represents and warrants that:",170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n,["The Buyers have all requisite power and authority to execute and deliver the Sale Deed, and to perform its obligations under its terms and conditions;","The Buyers shall conclude all its payments and/or obligations, whether in cash or in kind, due towards the Sale Price of the Sold Business under this Agreement;","The Buyers undertakes to have read all terms and conditions of this Sale Deed and explicitly confirms their acceptance of all terms and conditions without any reservation and or confusion."].forEach((i,$)=>{t>m-30&&(e.addPage(),t=20);const R=`${$+1}. ${i}`;e.splitTextToSize(R,165).forEach(W=>{e.text(W,20,t),t+=n}),t+=n*.5}),t+=n,e.setFont("helvetica","normal");const pe=`The Parties do hereby declare that they signed this Sale Deed after compliance with the laws of ${c}, ${o}.`;e.splitTextToSize(pe,170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n*2,e.setFont("helvetica","bold"),e.text("GOVERNING LAW AND JURISDICTION",15,t),t+=n*1.5,e.setFont("helvetica","normal");const Se=`This Sale Agreement shall be construed in accordance with and governed by the laws of ${c}, ${o} and the Parties shall ensure compliance thereof.`;e.splitTextToSize(Se,170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n*2,t>m-120&&(e.addPage(),t=20),e.splitTextToSize("IN WITNESS WHEREOF, the Parties hereto have executed this Sale Agreement at the place and on the date hereinabove indicated.",170).forEach(i=>{e.text(i,15,t),t+=n}),t+=n*2,e.setFont("helvetica","bold"),e.text("SELLER:",15,t),e.text("BUYER:",105,t),t+=n*2,e.setFont("helvetica","normal"),e.text(`Name: ${d.name||"_______________"}`,15,t),e.text(`Name: ${h.name||"_______________"}`,105,t),t+=n,e.text(`CNIC: ${d.cnic||"_______________"}`,15,t),e.text(`CNIC: ${h.cnic||"_______________"}`,105,t),t+=n*3,e.text("Witness 1",15,t),e.text("Witness 2",105,t),t+=n,e.text("___________________________",15,t),e.text("___________________________",105,t),t+=n,e.text(`Name: ${f.name||"_______________"}`,15,t),e.text(`Name: ${x.name||"_______________"}`,105,t),t+=n,e.text(`CNIC: ${f.cnic||"_______________"}`,15,t),e.text(`CNIC: ${x.cnic||"_______________"}`,105,t);const ee=`sale_agreement_${k(new Date,"yyyyMMdd_HHmmss")}.pdf`;return console.log("Saving PDF with filename:",ee),e.save(ee),B.success("Sale Agreement successfully generated!"),e}catch(e){return console.error("Error generating PDF:",e),B.error("Failed to generate Sale Agreement"),null}},fe=()=>{Y(!0);try{const e=new oe,t=e.internal.pageSize.width,n=20,m=t-2*n;let S=20;const o=(r,w=11,E=!1)=>{e.setFontSize(w),e.setFont("helvetica",E?"bold":"normal");const D=e.splitTextToSize(r,m);e.text(D,n,S),S+=D.length*w*.4+3},c=(r=5)=>{S+=r};o("SALE AGREEMENT",16,!0),c(),o(`Business Name: ${a.business_name||"[BUSINESS NAME]"}`),o(`Sale Price: $${a.sale_price||"[SALE PRICE]"}`),_&&o(`Effective Date: ${k(_,"MMMM d, yyyy")}`),c();const T=a.country?O(a.country):"[COUNTRY]",I=a.state?G(a.country||"",a.state):"[STATE]";o(`Location: ${I}, ${T}`),c(),o("PARTIES TO THE AGREEMENT",12,!0),c(),o("SELLER:",11,!0),o(`Name: ${d.name||"[SELLER NAME]"}`),o(`CNIC: ${d.cnic||"[SELLER CNIC]"}`),d.address&&o(`Address: ${d.address}`),c(),o("BUYER:",11,!0),o(`Name: ${h.name||"[BUYER NAME]"}`),o(`CNIC: ${h.cnic||"[BUYER CNIC]"}`),h.address&&o(`Address: ${h.address}`),c(),o("TERMS AND CONDITIONS",12,!0),o("1. The Seller agrees to sell and the Buyer agrees to purchase the above-mentioned business for the agreed price."),o("2. All terms and conditions are binding upon both parties."),o("3. This agreement shall be governed by the laws of the specified jurisdiction."),c(),o("WITNESSES",12,!0),o(`Witness 1: ${f.name||"[WITNESS 1 NAME]"} (CNIC: ${f.cnic||"[WITNESS 1 CNIC]"})`),o(`Witness 2: ${x.name||"[WITNESS 2 NAME]"} (CNIC: ${x.cnic||"[WITNESS 2 CNIC]"})`),c(),o("SIGNATURES",12,!0),o("Seller: _______________________ Date: _______"),c(10),o("Buyer: _______________________ Date: _______"),e.save("sale-agreement.pdf"),B.success("Sale Agreement PDF generated successfully!")}catch(e){console.error("Error generating PDF:",e),B.error("Failed to generate document")}finally{Y(!1)}},xe=()=>s.jsxs("div",{className:"space-y-4 text-black",children:[s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sale Agreement Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"General Details"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Country:"})," ",a.country?O(a.country):"Not provided"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"State/Province:"})," ",a.state&&a.country?G(a.country,a.state):"Not provided"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Effective Date:"})," ",_?k(_,"dd/MM/yyyy"):"Not provided"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Business Name:"})," ",a.business_name||"Not provided"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Sale Price:"})," ",a.sale_price||"Not provided"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Seller Information"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",d.name||"Not provided"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"CNIC:"})," ",d.cnic||"Not provided"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",d.address||"Not provided"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Buyer Information"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",h.name||"Not provided"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"CNIC:"})," ",h.cnic||"Not provided"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",h.address||"Not provided"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Witnesses"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Witness 1:"})," ",f.name||"Not provided"," (",f.cnic||"CNIC not provided",")"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Witness 2:"})," ",x.name||"Not provided"," (",x.cnic||"CNIC not provided",")"]})]})]})]}),s.jsx("div",{className:"border rounded-lg p-4 bg-green-50 dark:bg-green-900/10",children:s.jsx("p",{className:"text-center mb-2",children:"By generating this document, you confirm the accuracy of the information provided. This document will serve as your official Sale Agreement."})})]});return le?s.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm",children:s.jsxs(M,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:[s.jsxs(te,{className:"text-center",children:[s.jsx(se,{className:"text-xl text-green-600",children:"Sale Agreement"}),s.jsx(ne,{children:"Review your Sale Agreement details below before generating the final document."})]}),s.jsx(z,{className:"space-y-4",children:xe()}),s.jsxs(ae,{className:"flex justify-between",children:[s.jsx(N,{variant:"outline",onClick:()=>{j({}),F(["location_selection"]),g("location_selection"),U(!1),J({name:"",cnic:"",address:""}),V({name:"",cnic:"",address:""}),Q({name:"",cnic:""}),K({name:"",cnic:""}),X(void 0)},children:"Start Over"}),s.jsx(N,{onClick:_e,children:"Generate Agreement"})]})]})}):v?s.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm",children:s.jsxs(M,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:[s.jsxs(te,{children:[s.jsx(se,{className:"text-xl",children:v.title}),s.jsxs(ne,{children:[v.description,l==="location_selection"&&s.jsx("div",{className:"mt-3 flex left-0",children:s.jsxs(N,{variant:"outline",size:"sm",onClick:()=>b("/sale-agreement-info"),className:"text-orange-600 border-orange-600 hover:bg-orange-50",children:[s.jsx(we,{className:"w-4 h-4 mr-2"}),"Learn More About Sale Agreement"]})}),s.jsxs("div",{className:"mt-2 text-sm",children:["Step ",p.length," of ",Object.keys(H).length]})]})]}),s.jsx(z,{className:"text-black",children:s.jsx("div",{className:"grid grid-cols-1 gap-y-2",children:me()})}),l!=="user_info_step"&&s.jsxs(ae,{className:"flex justify-between",children:[s.jsxs(N,{variant:"outline",onClick:Z,disabled:p.length<=1,children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"})," Back"]}),s.jsx(N,{onClick:()=>de(),disabled:!ue(),children:l==="confirmation"?s.jsxs(s.Fragment,{children:["Next ",s.jsx(re,{className:"w-4 h-4 ml-2"})]}):s.jsxs(s.Fragment,{children:["Next ",s.jsx(re,{className:"w-4 h-4 ml-2"})]})})]})]})}):s.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm",children:s.jsx(M,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:s.jsxs(z,{className:"text-center p-4",children:[s.jsx("p",{className:"text-red-500",children:"An error occurred. Please refresh the page."}),s.jsx(N,{onClick:()=>{g("location_selection"),F(["location_selection"])},className:"mt-4",children:"Start Over"})]})})})};export{bt as default};
