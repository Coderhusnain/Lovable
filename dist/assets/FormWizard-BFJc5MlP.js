import{r as x,j as e,F as S,aF as q,O as A,g as I}from"./index-C8giHVQ3.js";import{I as L}from"./input-ByhS0U14.js";import{L as V}from"./label-DGIpLJ53.js";import{T as B}from"./textarea-BLuxj40z.js";import{S as E,a as R,b as G,c as P,d as W}from"./select-DPDwnfa5.js";import{C as _}from"./circle-check-Dc2HZFfN.js";import{C as H}from"./chevron-left-BPvK5awe.js";const C=n=>"content"in n,ae=({steps:n,onFinish:b,onGenerate:j,title:k,subtitle:f,documentType:F})=>{var w;const[t,h]=x.useState(0),[N,m]=x.useState(!1),[c,y]=x.useState(new Set),[d,$]=x.useState({}),i=t===n.length-1,g=t===0,v=Math.round((t+1)/n.length*100),p=(()=>{const a=n[t];return C(a)?a.validate?a.validate():!0:a.fields.every(s=>!s.required||d[s.name]&&d[s.name].toString().trim()!=="")})(),T=()=>{m(!0),p&&!i?(y(a=>new Set([...a,t])),h(a=>a+1),m(!1)):p&&i&&(y(a=>new Set([...a,t])),j?j(d):b&&b())},D=()=>{g||(h(a=>a-1),m(!1))},z=a=>{(c.has(a)||a<=Math.max(...Array.from(c),-1)+1)&&(h(a),m(!1))},u=(a,s)=>{$(l=>({...l,[a]:s}))},M=a=>{const s=d[a.name]||"",l=N&&a.required&&!s;let o=a.options||[];if(a.dependsOn&&a.getOptions){const r=d[a.dependsOn];r&&(o=a.getOptions(r))}return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(V,{className:l?"text-red-500":"",children:[a.label," ",a.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),a.type==="textarea"?e.jsx(B,{value:s,onChange:r=>u(a.name,r.target.value),placeholder:a.placeholder,className:l?"border-red-500":"",rows:3}):a.type==="select"?e.jsxs(E,{value:s,onValueChange:r=>u(a.name,r),children:[e.jsx(R,{className:l?"border-red-500":"",children:e.jsx(G,{placeholder:`Select ${a.label}`})}),e.jsx(P,{className:"max-h-60",children:o.map(r=>e.jsx(W,{value:r.value,children:r.label},r.value))})]}):e.jsx(L,{type:a.type==="number"?"number":a.type==="date"?"date":a.type==="email"?"email":"text",value:s,onChange:r=>u(a.name,r.target.value),placeholder:a.placeholder,className:l?"border-red-500":""}),l&&e.jsx("p",{className:"text-xs text-red-500",children:"This field is required"})]},a.name)},O=()=>{const a=n[t];return C(a)?a.content:e.jsx("div",{className:"space-y-5",children:a.fields.map(M)})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:"font-semibold text-gray-800",children:k||F||"Document Builder"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",t+1," of ",n.length]}),e.jsxs("span",{className:"text-sm font-semibold text-orange-600",children:[v,"% Complete"]})]})]}),f&&e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:f}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${v}%`}})})]})}),e.jsxs("div",{className:"flex-1 flex max-w-7xl mx-auto w-full",children:[e.jsx("aside",{className:"w-64 bg-white border-r hidden lg:block overflow-y-auto py-6",children:e.jsx("nav",{className:"px-4 space-y-1",children:n.map((a,s)=>{const l=c.has(s),o=s===t,r=l||s<=Math.max(...Array.from(c),-1)+1;return e.jsxs("button",{onClick:()=>r&&z(s),disabled:!r,className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all ${o?"bg-orange-50 text-orange-700 border border-orange-200":l?"text-gray-600 hover:bg-gray-50":r?"text-gray-400 hover:bg-gray-50":"text-gray-300 cursor-not-allowed"}`,children:[e.jsx("div",{className:"flex-shrink-0",children:l?e.jsx(_,{className:"w-5 h-5 text-green-500"}):o?e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-orange-500 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"})}):e.jsx(q,{className:"w-5 h-5 text-gray-300"})}),e.jsx("span",{className:`text-sm font-medium truncate ${o?"text-orange-700":""}`,children:a.label})]},s)})})}),e.jsx("main",{className:"flex-1 p-6 lg:p-10 overflow-y-auto pb-32",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("div",{className:"lg:hidden flex items-center gap-2 mb-6 text-sm text-gray-500 overflow-x-auto pb-2",children:n.slice(Math.max(0,t-1),t+3).map((a,s)=>{const l=Math.max(0,t-1)+s,o=l===t;return e.jsxs("span",{className:`whitespace-nowrap px-2 py-1 rounded ${o?"bg-orange-100 text-orange-700 font-medium":"text-gray-400"}`,children:[l+1,". ",a.label]},l)})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-600 font-medium mb-2",children:[e.jsxs("span",{className:"bg-orange-100 px-2 py-0.5 rounded",children:["Step ",t+1]}),t<n.length-1&&e.jsxs("span",{className:"text-gray-400",children:["â†’ Next: ",(w=n[t+1])==null?void 0:w.label]})]}),e.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:n[t].label})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 lg:p-8",children:O()}),i&&e.jsxs("div",{className:"mt-6 flex items-start gap-3 p-4 bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl border border-orange-100",children:[e.jsx(A,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Almost done!"}),e.jsx("p",{className:"text-sm text-orange-600",children:'Click "Generate Document" below to create your personalized legal document as a PDF.'})]})]})]})})]}),e.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsxs("button",{type:"button",onClick:D,disabled:g,className:`flex items-center gap-2 px-5 py-2.5 rounded-lg font-medium transition-all ${g?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsxs("span",{className:"hidden sm:inline",children:[c.size," of ",n.length," steps completed"]}),e.jsx("div",{className:"flex gap-1",children:n.map((a,s)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${c.has(s)?"bg-green-500":s===t?"bg-orange-500":"bg-gray-200"}`},s))})]}),e.jsx("button",{type:"button",onClick:T,disabled:!p&&N,className:`flex items-center gap-2 px-6 py-2.5 rounded-lg font-semibold transition-all ${i?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white shadow-md":"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white shadow-md"} disabled:opacity-50 disabled:cursor-not-allowed`,children:i?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"w-5 h-5"}),e.jsx("span",{children:"Generate Document"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Continue"}),e.jsx(I,{className:"w-5 h-5"})]})})]})})]})};export{ae as F};
