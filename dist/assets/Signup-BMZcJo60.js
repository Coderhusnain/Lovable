import{u as Y,a4 as B,r as s,j as e,L as R,a3 as $,a1 as J,x as S,a5 as C,g as u,a as O,J as n,s as _}from"./index-BAEAUopf.js";import{I as l}from"./input-DnI_Xo94.js";import{C as H}from"./checkbox-BgJC7UKP.js";import{A as V,a as W}from"./alert-DeA80qd9.js";import{I as G}from"./info-oQZsQSQe.js";import{E as P}from"./eye-off-CB9echu5.js";const se=()=>{const x=Y(),E=B(),[b,A]=s.useState(""),[p,z]=s.useState(""),[c,F]=s.useState(""),[d,L]=s.useState(""),[w,T]=s.useState(""),[g,I]=s.useState(!1),[m,D]=s.useState(!1),[h,q]=s.useState(!1),[f,o]=s.useState(!1),[v,i]=s.useState(""),[N,U]=s.useState(""),j=new URLSearchParams(E.search),y=j.get("redirect"),k=j.get("step"),M=async t=>{if(t.preventDefault(),o(!0),i(""),console.log("Attempting signup with:",{email:c,supabaseUrl:"https://abxrphctohxctpmaozvc.supabase.co",timestamp:new Date().toISOString()}),d!==w){i("Passwords do not match"),n.error("Passwords do not match"),o(!1);return}if(!g){i("You must agree to the Terms of Service and Privacy Policy"),n.error("You must agree to the Terms of Service and Privacy Policy"),o(!1);return}try{console.log("Calling supabase.auth.signUp...");const{data:a,error:r}=await _.auth.signUp({email:c,password:d,options:{data:{first_name:b,last_name:p,phone:N},emailRedirectTo:`${window.location.origin}/`}});if(console.log("Signup response:",{data:a,error:r}),r){console.error("Signup error details:",{message:r.message,status:r.status||"No status",name:r.name||"Unknown error type"}),i(r.message),n.error("Signup failed"),o(!1);return}localStorage.setItem("lastLoginEmail",c),console.log("Signup successful, redirecting to login..."),n.success("Account created successfully! Please log in."),x(y&&k?`/login?redirect=${y}&step=${k}`:"/login")}catch(a){console.error("Signup exception:",a),console.error("Error details:",{name:a.name,message:a.message,stack:a.stack}),i("Network error - please check your connection and try again."),n.error("Network error occurred"),o(!1)}};return e.jsx(R,{children:e.jsxs("div",{className:"w-screen h-screen flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:"/lovable-uploads/067c7b04-b1a2-4236-97eb-2b7cf8b24291.png",alt:"Background",className:"w-full h-full object-cover filter brightness-50"}),e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"})]}),e.jsxs("div",{className:"w-full max-w-md px-4 relative z-10",children:[e.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 text-white",children:"Create Your Account"}),e.jsx("p",{className:"text-white/90 font-medium",children:"Sign up to access legal documents and advice."})]}),e.jsxs("div",{className:"glass-card rounded-xl shadow-xl border border-white/10 p-8 animate-scale-in backdrop-blur-lg bg-white/10",children:[e.jsxs(V,{className:"mb-6 bg-black/20 border-amber-300/30 animate-slide-in",style:{animationDelay:"0.025s"},children:[e.jsx(G,{className:"h-4 w-4 text-white"}),e.jsx(W,{className:"text-xs text-white font-medium",children:"Create an account. Your information is securely stored in Supabase."})]}),e.jsxs("form",{onSubmit:M,className:"space-y-6",children:[v&&e.jsx("div",{className:"p-3 bg-red-500/20 border border-red-400 text-white text-sm rounded-md animate-shake",children:v}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm font-medium text-white mb-1",children:"First Name"}),e.jsx("div",{className:"relative",children:e.jsx(l,{id:"first-name",type:"text",value:b,onChange:t=>A(t.target.value),placeholder:"Enter first name",className:"pl-10 bg-white/10 border-black/20 text-white placeholder:text-white/60 placeholder:font-medium focus:border-black/40 focus:ring-black/20 hover:bg-white/20 transition-all duration-300",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm font-medium text-white mb-1",children:"Last Name"}),e.jsx("div",{className:"relative",children:e.jsx(l,{id:"last-name",type:"text",value:p,onChange:t=>z(t.target.value),placeholder:"Enter last name",className:"pl-10 bg-white/10 border-black/20 text-white placeholder:text-white/60 placeholder:font-medium focus:border-black/40 focus:ring-black/20 hover:bg-white/20 transition-all duration-300",required:!0})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"email",type:"email",value:c,onChange:t=>F(t.target.value),placeholder:"Enter your email",className:"pl-10 bg-white/10 border-black/20 text-white placeholder:text-white/60 placeholder:font-medium focus:border-black/40 focus:ring-black/20 hover:bg-white/20 transition-all duration-300",required:!0}),e.jsx($,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-white mb-1",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"phone",type:"tel",value:N,onChange:t=>U(t.target.value),placeholder:"Enter your phone number",className:"pl-10 bg-white/10 border-black/20 text-white placeholder:text-white/60 placeholder:font-medium focus:border-black/40 focus:ring-black/20 hover:bg-white/20 transition-all duration-300"}),e.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"password",type:m?"text":"password",value:d,onChange:t=>L(t.target.value),placeholder:"Create a password",className:"pl-10 bg-white/10 border-black/20 text-white placeholder:text-white/60 placeholder:font-medium focus:border-black/40 focus:ring-black/20 hover:bg-white/20 transition-all duration-300",required:!0}),e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white hover:text-white/70 transition-colors",onClick:()=>D(!m),children:m?e.jsx(P,{size:16}):e.jsx(C,{size:16})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-white mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"confirm-password",type:h?"text":"password",value:w,onChange:t=>T(t.target.value),placeholder:"Confirm your password",className:"pl-10 bg-white/10 border-black/20 text-white placeholder:text-white/60 placeholder:font-medium focus:border-black/40 focus:ring-black/20 hover:bg-white/20 transition-all duration-300",required:!0}),e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white hover:text-white/70 transition-colors",onClick:()=>q(!h),children:h?e.jsx(P,{size:16}):e.jsx(C,{size:16})})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{id:"agree-terms",checked:g,onCheckedChange:t=>I(!!t),className:"border-white/50 data-[state=checked]:bg-white"}),e.jsxs("label",{htmlFor:"agree-terms",className:"text-sm cursor-pointer text-white hover:text-white/70 transition-colors",children:["I agree to the"," ",e.jsx(u,{to:"/terms",className:"hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx(u,{to:"/privacy",className:"hover:underline",children:"Privacy Policy"})]})]})}),e.jsx(O,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white transition-all duration-300 hover:shadow-lg hover:shadow-orange-300/50 animate-fade-in",style:{animationDelay:"0.5s"},disabled:f,children:f?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"}),e.jsx("div",{className:"relative my-6",children:e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-white/10"})})})]}),e.jsx("div",{className:"mt-8 text-center animate-fade-in",style:{animationDelay:"0.7s"},children:e.jsxs("p",{className:"text-white",children:["Already have an account?"," ",e.jsx(u,{to:"/login",className:"text-white hover:text-white/70 transition-colors hover:underline",children:"Sign in"})]})})]})]})]})})};export{se as default};
