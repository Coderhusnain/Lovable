import{u as Y,r as y,j as e,C as w,t as D,v as R,k as Q,c as T,ad as I,B as N,A as P,F as X,w as Z,_ as ee,l as te,J as $}from"./index-DmiwH21i.js";import{I as c}from"./input-BAgFuN3B.js";import{T as C}from"./textarea-BBDyVfad.js";import{S as g,a as p,b as j,c as f,d}from"./select-CsN3ALin.js";import{C as O}from"./checkbox-Djx90BaC.js";import{L as r}from"./label-QTYrxBzu.js";import{E as ne}from"./jspdf.es.min-9HgYH_OZ.js";import{_ as k}from"./index-CFdxOiWH.js";import{U as se}from"./UserInfoStep-DdXBoRoO.js";import{g as ae}from"./generateGuidePDF-B1ISNkph.js";import{f as re}from"./format-iq60aKky.js";import"./index-BdQq_4o_.js";import"./DocumentAboutSidebar-BxT_XvPT.js";import"./accordion-DQN0-TfB.js";import"./scroll-area-C-cgQwHB.js";import"./circle-help-DVUoXd1v.js";import"./en-US-CXXYYhpC.js";const L=()=>k.getAllCountries(),M=l=>k.getStatesOfCountry(l),ie=(l,u)=>{const v=L().find(_=>_.id.toString()===l);if(!v)return u;const h=M(v.id).find(_=>_.id.toString()===u);return(h==null?void 0:h.name)||u},Ae=()=>{Y();const[l,u]=y.useState(1),[v,h]=y.useState(!1),[_,A]=y.useState(!1),[n,b]=y.useState({country:"",state:"",effectiveDate:"",clientName:"",clientAddress:"",clientPhone:"",clientEmail:"",attorneyName:"",firmName:"",firmAddress:"",firmPhone:"",firmEmail:"",barNumber:"",matterDescription:"",retainerAmount:"",hourlyRate:"",billingFrequency:"monthly",paymentDue:"30",scopeOfServices:[],expenseHandling:"billed separately",conflictCheck:!1,additionalNotes:""}),B=["Legal consultation and advice","Document preparation and review","Negotiation on client's behalf","Court representation","Legal research","Contract drafting","Correspondence with opposing parties","Settlement negotiations","Discovery and depositions","Appeals","Regulatory compliance advice","Transaction support"],i=(t,o)=>{b(a=>({...a,[t]:o})),t==="country"&&b(a=>({...a,state:""}))},G=t=>{b(o=>({...o,scopeOfServices:o.scopeOfServices.includes(t)?o.scopeOfServices.filter(a=>a!==t):[...o.scopeOfServices,t]}))},q=t=>t?M(parseInt(t.split(":")[0])).map(o=>`${o.id}:${o.name}`):[],S=()=>{switch(l){case 1:return!!(n.country&&n.state&&n.effectiveDate);case 2:return!!(n.clientName&&n.attorneyName);case 3:return!!(n.matterDescription&&n.scopeOfServices.length>0);case 4:return!!(n.retainerAmount&&n.hourlyRate);case 5:return!0;default:return!1}},H=()=>{S()&&(l<5?u(l+1):h(!0))},E=()=>{l>1&&u(l-1)},U=()=>{A(!0);try{const t=new ne,o=t.internal.pageSize.getWidth(),a=7;let s=20;const x=(m=25)=>{s>270-m&&(t.addPage(),s=20)};t.setFont("helvetica","bold"),t.setFontSize(16),t.text("RETAINER AGREEMENT",o/2,s,{align:"center"}),s+=a*2,t.setFont("helvetica","normal"),t.setFontSize(11);const W=`This Retainer Agreement ("Agreement") is made and entered into as of ${n.effectiveDate||"__________"} ("Effective Date"), by and between:`;t.splitTextToSize(W,180).forEach(m=>{t.text(m,15,s),s+=a}),s+=a,t.setFont("helvetica","bold"),t.text("Client:",15,s),s+=a,t.setFont("helvetica","normal"),t.text(`Name: ${n.clientName||"__________"}`,20,s),s+=a,t.text(`Address: ${n.clientAddress||"__________"}`,20,s),s+=a,t.text(`Phone: ${n.clientPhone||"__________"} | Email: ${n.clientEmail||"__________"}`,20,s),s+=a*2,t.setFont("helvetica","bold"),t.text("Attorney/Law Firm:",15,s),s+=a,t.setFont("helvetica","normal"),t.text(`Attorney: ${n.attorneyName||"__________"}`,20,s),s+=a,n.firmName&&(t.text(`Firm: ${n.firmName}`,20,s),s+=a),n.barNumber&&(t.text(`Bar Number: ${n.barNumber}`,20,s),s+=a),t.text(`Address: ${n.firmAddress||"__________"}`,20,s),s+=a,t.text(`Phone: ${n.firmPhone||"__________"} | Email: ${n.firmEmail||"__________"}`,20,s),s+=a*2,[{title:"1. MATTER DESCRIPTION",content:n.matterDescription||"Legal matter to be described."},{title:"2. SCOPE OF SERVICES",content:`Attorney agrees to provide the following services:
${n.scopeOfServices.map(m=>`• ${m}`).join(`
`)||"• As agreed upon"}`},{title:"3. RETAINER AND FEES",content:`Initial Retainer: $${n.retainerAmount||"__________"}
Hourly Rate: $${n.hourlyRate||"__________"}/hour
Billing Frequency: ${n.billingFrequency||"Monthly"}
Payment Due: Within ${n.paymentDue||"30"} days of invoice`},{title:"4. EXPENSES",content:`Expenses will be ${n.expenseHandling||"billed separately to Client"}. Expenses may include court filing fees, copying, postage, travel, expert witnesses, and other reasonable costs.`},{title:"5. RETAINER APPLICATION",content:"The retainer will be deposited into Attorney's trust account and applied against fees and expenses as incurred. Client will receive regular statements. Additional retainer may be required if balance is depleted."},{title:"6. ATTORNEY RESPONSIBILITIES",content:"Attorney agrees to: Provide competent legal representation, Keep Client informed of case progress, Respond to Client communications in a timely manner, Maintain client confidentiality, Act in Client's best interest."},{title:"7. CLIENT RESPONSIBILITIES",content:"Client agrees to: Provide truthful and complete information, Cooperate with Attorney's reasonable requests, Appear at scheduled meetings and court dates, Make timely fee payments, Keep Attorney informed of contact information changes."},{title:"8. COMMUNICATION",content:"Attorney will keep Client informed of significant developments. Client may communicate with Attorney during normal business hours. Emergency matters will be handled as appropriate."},{title:"9. TERMINATION",content:"Either party may terminate this Agreement upon written notice. Upon termination: Attorney will refund unused retainer, Client is responsible for fees and expenses incurred through termination, Attorney will assist with transition to new counsel if requested."},{title:"10. DISPUTE RESOLUTION",content:"Any disputes regarding fees shall be subject to binding arbitration if not resolved through direct communication."},{title:"11. GOVERNING LAW",content:`This Agreement shall be governed by the laws of ${n.state?ie(n.country.split(":")[0],n.state.split(":")[0]):"__________"}.`}].forEach(m=>{x(30),t.setFont("helvetica","bold"),t.text(m.title,15,s),s+=a,t.setFont("helvetica","normal"),t.splitTextToSize(m.content,180).forEach(K=>{x(),t.text(K,15,s),s+=a}),s+=3}),n.additionalNotes&&(x(30),t.setFont("helvetica","bold"),t.text("12. ADDITIONAL TERMS",15,s),s+=a,t.setFont("helvetica","normal"),t.splitTextToSize(n.additionalNotes,180).forEach(m=>{x(),t.text(m,15,s),s+=a}),s+=3),x(50),t.setFont("helvetica","bold"),t.text("SIGNATURES",15,s),s+=a*2,t.setFont("helvetica","normal"),t.text(`Client: ${n.clientName||"__________"}`,15,s),s+=a,t.text("Signature: ____________________________ Date: ____________",15,s),s+=a*2,t.text(`Attorney: ${n.attorneyName||"__________"}`,15,s),s+=a,t.text("Signature: ____________________________ Date: ____________",15,s);const F=re(new Date,"yyyyMMdd_HHmmss");t.save(`retainer_agreement_${F}.pdf`);const J=ae({documentId:"retainer-agreement",documentTitle:"Retainer Agreement"});setTimeout(()=>J.save(`retainer_guide_${F}.pdf`),500),$.success("Retainer Agreement and Guide PDF generated!")}catch(t){console.error("Error:",t),$.error("Failed to generate PDF")}finally{A(!1)}},V=()=>{switch(l){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Country"}),e.jsxs(g,{value:n.country,onValueChange:t=>i("country",t),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select..."})}),e.jsx(f,{children:L().map(t=>e.jsx(d,{value:`${t.id}:${t.name}`,children:t.name},t.id))})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"State/Province"}),e.jsxs(g,{value:n.state,onValueChange:t=>i("state",t),disabled:!n.country,children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select..."})}),e.jsx(f,{children:q(n.country).map(t=>e.jsx(d,{value:t,children:t.split(":")[1]},t))})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Agreement Date"}),e.jsx(c,{type:"date",value:n.effectiveDate,onChange:t=>i("effectiveDate",t.target.value)})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsx("h3",{className:"font-semibold",children:"Client Information"}),e.jsxs("div",{children:[e.jsx(r,{children:"Client Name *"}),e.jsx(c,{value:n.clientName,onChange:t=>i("clientName",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Address"}),e.jsx(C,{value:n.clientAddress,onChange:t=>i("clientAddress",t.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Phone"}),e.jsx(c,{value:n.clientPhone,onChange:t=>i("clientPhone",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Email"}),e.jsx(c,{type:"email",value:n.clientEmail,onChange:t=>i("clientEmail",t.target.value)})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsx("h3",{className:"font-semibold",children:"Attorney/Law Firm Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Attorney Name *"}),e.jsx(c,{value:n.attorneyName,onChange:t=>i("attorneyName",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Bar Number"}),e.jsx(c,{value:n.barNumber,onChange:t=>i("barNumber",t.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Law Firm Name"}),e.jsx(c,{value:n.firmName,onChange:t=>i("firmName",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Address"}),e.jsx(C,{value:n.firmAddress,onChange:t=>i("firmAddress",t.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Phone"}),e.jsx(c,{value:n.firmPhone,onChange:t=>i("firmPhone",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Email"}),e.jsx(c,{type:"email",value:n.firmEmail,onChange:t=>i("firmEmail",t.target.value)})]})]})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Matter Description *"}),e.jsx(C,{placeholder:"Describe the legal matter for which you are retaining the attorney...",value:n.matterDescription,onChange:t=>i("matterDescription",t.target.value),rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Scope of Services *"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:B.map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{id:t,checked:n.scopeOfServices.includes(t),onCheckedChange:()=>G(t)}),e.jsx(r,{htmlFor:t,className:"text-sm cursor-pointer",children:t})]},t))})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{id:"conflict",checked:n.conflictCheck,onCheckedChange:t=>i("conflictCheck",!!t)}),e.jsx(r,{htmlFor:"conflict",children:"Attorney has performed conflict check"})]})]});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Initial Retainer ($) *"}),e.jsx(c,{type:"number",value:n.retainerAmount,onChange:t=>i("retainerAmount",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Hourly Rate ($) *"}),e.jsx(c,{type:"number",value:n.hourlyRate,onChange:t=>i("hourlyRate",t.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Billing Frequency"}),e.jsxs(g,{value:n.billingFrequency,onValueChange:t=>i("billingFrequency",t),children:[e.jsx(p,{children:e.jsx(j,{})}),e.jsxs(f,{children:[e.jsx(d,{value:"monthly",children:"Monthly"}),e.jsx(d,{value:"quarterly",children:"Quarterly"}),e.jsx(d,{value:"upon completion",children:"Upon Completion"})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Payment Due (days)"}),e.jsxs(g,{value:n.paymentDue,onValueChange:t=>i("paymentDue",t),children:[e.jsx(p,{children:e.jsx(j,{})}),e.jsxs(f,{children:[e.jsx(d,{value:"15",children:"15 days"}),e.jsx(d,{value:"30",children:"30 days"}),e.jsx(d,{value:"45",children:"45 days"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Expense Handling"}),e.jsxs(g,{value:n.expenseHandling,onValueChange:t=>i("expenseHandling",t),children:[e.jsx(p,{children:e.jsx(j,{})}),e.jsxs(f,{children:[e.jsx(d,{value:"billed separately",children:"Billed Separately"}),e.jsx(d,{value:"included in fees",children:"Included in Fees"}),e.jsx(d,{value:"deducted from retainer",children:"Deducted from Retainer"})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Additional Notes"}),e.jsx(C,{value:n.additionalNotes,onChange:t=>i("additionalNotes",t.target.value)})]})]});case 5:return e.jsx(se,{onBack:E,onGenerate:()=>h(!0),documentType:"Retainer Agreement",isGenerating:_});default:return null}};if(v)return e.jsxs(w,{className:"w-full max-w-4xl mx-auto",children:[e.jsx(D,{className:"bg-gradient-to-r from-slate-700 to-slate-800 text-white rounded-t-lg",children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-6 w-6"}),"Retainer Agreement Ready"]})}),e.jsx(T,{className:"p-6",children:e.jsxs("div",{className:"border rounded-lg p-4 text-black",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Client:"})," ",n.clientName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Attorney:"})," ",n.attorneyName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Matter:"})," ",n.matterDescription.substring(0,50),"..."]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Retainer:"})," $",n.retainerAmount]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Rate:"})," $",n.hourlyRate,"/hour"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Services:"})," ",n.scopeOfServices.length," selected"]})]})]})]})}),e.jsxs(I,{className:"flex justify-between p-6 bg-gray-50",children:[e.jsxs(N,{variant:"outline",onClick:()=>h(!1),children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(N,{onClick:U,disabled:_,className:"bg-slate-700 hover:bg-slate-800",children:[_?"Generating...":"Generate PDF",e.jsx(X,{className:"ml-2 h-4 w-4"})]})]})]});const z=["","Location","Parties","Matter & Scope","Fees","Your Info"];return e.jsxs(w,{className:"w-full max-w-4xl mx-auto",children:[e.jsxs(D,{className:"bg-gradient-to-r from-slate-700 to-slate-800 text-white rounded-t-lg",children:[e.jsx(R,{children:"Retainer Agreement"}),e.jsxs(Z,{className:"text-slate-300",children:["Step ",l," of 5: ",z[l]]})]}),e.jsx(T,{className:"p-6",children:V()}),e.jsxs(I,{className:"flex justify-between p-6 bg-gray-50",children:[e.jsxs(N,{variant:"outline",onClick:E,disabled:l===1,children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Back"]}),e.jsxs(N,{onClick:H,disabled:!S(),className:"bg-slate-700 hover:bg-slate-800",children:[l===5?"Complete":"Next",l===5?e.jsx(ee,{className:"ml-2 h-4 w-4"}):e.jsx(te,{className:"ml-2 h-4 w-4"})]})]})]})};export{Ae as default};
