import{u as K,r as m,j as e,C as w,k as D,l as S,m as C,b as G,n as F,a as _,e as X,F as Y,A as Z,d as T,J as R}from"./index-Domu0QSH.js";import{I as l}from"./input-CjLHh5sm.js";import{T as ee}from"./textarea-DkKSvL28.js";import{S as g,a as u,b as p,c as f,d as c}from"./select-QzbqEC5l.js";import{L as i}from"./label-DHWdGN-p.js";import{E as te}from"./jspdf.es.min-zKH7-O34.js";import{_ as I}from"./index-BI27tdbE.js";import{U as re}from"./UserInfoStep-CfBu40j_.js";import{f as $}from"./format-BEMO4FpZ.js";const ae=()=>I.getAllCountries(),ne=x=>I.getStatesOfCountry(x),ue=()=>{const x=K(),[o,y]=m.useState(1),[U,j]=m.useState(!1),[k,b]=m.useState(!1),[t,v]=m.useState({state:"",country:"",effectiveDate:"",grantorName:"",grantorAddress:"",granteeName:"",granteeAddress:"",propertyDescription:"",territory:"",royaltyAmountPerUnit:"",royaltyPercentage:"",royaltyType:"percentage",paymentFrequency:"quarterly",latePaymentDays:"30",breachCureDays:"30",governingState:"",grantorSignature:"",grantorSignatureDate:"",granteeSignature:"",granteeSignatureDate:""}),s=(r,n)=>{v(d=>({...d,[r]:n})),r==="country"&&v(d=>({...d,state:""}))},q=r=>{if(!r)return[];const n=parseInt(r.split(":")[0]);return ne(n).map(h=>`${h.id}:${h.name}`)},N=()=>{switch(o){case 1:return!!(t.state&&t.country);case 2:return!!(t.effectiveDate&&t.grantorName&&t.grantorAddress&&t.granteeName&&t.granteeAddress);case 3:return!!(t.propertyDescription&&t.territory);case 4:return!!(t.paymentFrequency&&t.latePaymentDays&&t.breachCureDays&&(t.royaltyType==="percentage"?t.royaltyPercentage:t.royaltyAmountPerUnit));case 5:return!!t.governingState;case 6:return!1;default:return!1}},E=()=>{N()&&(o<6?y(o+1):j(!0))},L=()=>{o>1&&y(o-1)},A=()=>{b(!0);try{const r=new te;r.setFont("helvetica","bold"),r.setFontSize(16),r.text("Royalty Agreement",105,20,{align:"center"}),r.setFont("helvetica","normal"),r.setFontSize(11);let n=35;const d=6,h=280,a=(P,J)=>{n>h-40&&(r.addPage(),n=20),P&&(r.setFont("helvetica","bold"),r.text(P,15,n),n+=d+3),r.setFont("helvetica","normal"),r.splitTextToSize(J,170).forEach(Q=>{n>h-20&&(r.addPage(),n=20),r.text(Q,15,n),n+=d}),n+=d+3},O=t.effectiveDate?$(new Date(t.effectiveDate),"MMMM d, yyyy"):"____________";a("",`This Royalty Agreement ("Agreement") is made effective as of ${O}, by and between`),a("",`${t.grantorName||"**_______________________**"}, of ${t.grantorAddress||"****"} (hereinafter referred to as "Grantor"),`),a("","and"),a("",`${t.granteeName||"**_______________________**"}, of ${t.granteeAddress||"**____________**"} (hereinafter referred to as "Grantee").`),a("","Whereas Grantor owns or controls the rights to certain intellectual property described as:"),a("",`${t.propertyDescription||"_________________________________________________________________________"}`),a("",'(hereinafter referred to as the "Property");'),a("","And whereas Grantee wishes to obtain rights from Grantor for the purpose of producing, marketing, or selling products/services incorporating said Property in exchange for royalty compensation;"),a("","Now, therefore, in consideration of the mutual covenants set forth herein, the parties agree as follows:"),a("1. Grant of Rights",`Grantor hereby grants to Grantee the exclusive right and license to use the Property within the territory of ${t.territory||"_________________________"} for the purpose of commercial production, promotion, distribution, and sale.`),a("2. Grantor's Representations and Warranties","Grantor represents and warrants that:"),a("","Grantor owns or controls all rights to the Property and has the authority to grant such rights;"),a("","Grantor has not previously assigned, transferred, or encumbered any rights to the Property that conflict with this Agreement;"),a("","Grantor will indemnify and hold harmless Grantee from any claims, damages, or liabilities arising from breach of the above representations."),a("3. Grantee's Representations and Warranties","Grantee represents and warrants that:"),a("","Grantee will use the Property solely for the purposes outlined in this Agreement;"),a("","Grantee shall comply with all laws and regulations regarding commercialization of the Property;"),a("","Grantee shall maintain the confidentiality of any proprietary information provided by Grantor;"),a("","Grantee will not infringe or misuse any third-party rights in connection with the Property.");const W=t.royaltyType==="per_unit"?`A royalty of $${t.royaltyAmountPerUnit||"_________"} per unit of the product sold, or`:`${t.royaltyPercentage||"_______"}% of gross/net sales revenue derived from the use of the Property.`;a("4. Royalty","As compensation for the rights granted under this Agreement, Grantee agrees to pay Grantor:"),a("",W),a("5. Net Profits",'"The Profits" shall be defined as total revenue received by Grantee from sales of the Property, less:'),a("","Direct manufacturing expenses;"),a("","Shipping and handling costs;"),a("","Sales commissions and taxes."),a("6. Payment of Royalties",`Royalty payments shall be made to Grantor on a ${t.paymentFrequency||"_________"} (monthly/quarterly) basis, along with a detailed report outlining:`),a("","Units sold or services rendered;"),a("","Gross revenue received;"),a("","Royalties owed for the period."),a("7. Grantee Default",""),a("a. Late Payment",`If Grantee fails to make timely payments, Grantor may issue a written notice. If payment is not made within ${t.latePaymentDays||"_______"} days of notice, Grantor may terminate the Agreement.`),a("b. Unauthorized Use","If Grantee uses the Property in an unapproved manner, Grantor may terminate this Agreement immediately and seek damages."),a("8. Indemnity","Each party agrees to indemnify and hold the other harmless from any and all claims, losses, liabilities, or damages arising out of any breach of this Agreement or from use of the Property inconsistent with this Agreement."),a("9. Confidentiality","Each party agrees to maintain the confidentiality of all proprietary, technical, and business information received under this Agreement and not to disclose it to third parties without prior written consent, unless required by law."),a("10. Termination","This Agreement may be terminated by either party with written notice:"),a("","Upon mutual agreement;"),a("",`If either party breaches the Agreement and fails to cure the breach within ${t.breachCureDays||"_______"} days of written notice;`),a("","Upon insolvency or bankruptcy of either party."),a("11. Amendment","No amendment to this Agreement shall be valid unless made in writing and signed by both parties."),a("12. Severability","If any provision of this Agreement is held invalid, the remaining provisions shall continue in full force and effect."),a("13. Governing Law",`This Agreement shall be governed and interpreted under the laws of the State of ${t.governingState||"_________________________"}.`),a("14. Notices","All notices shall be delivered in writing to the addresses set forth above via certified mail or courier service."),a("15. Entire Agreement","This Agreement constitutes the full and final understanding between the parties and supersedes all prior oral or written agreements relating to the subject matter."),a("16. Other Rights","Nothing in this Agreement shall be construed as limiting or waiving any rights not explicitly granted herein."),a("17. Acceptance","The parties acknowledge and agree to the terms set forth in this Agreement by signing below."),a("Grantor:",""),a("",`By: ${t.grantorSignature||"____________________________"}`),a("",`Date: ${t.grantorSignatureDate||"__________________________"}`),a("Grantee:",""),a("",`By: ${t.granteeSignature||"____________________________"}`),a("",`Date: ${t.granteeSignatureDate||"__________________________"}`);const H=`Royalty_Agreement_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.pdf`;r.save(H),R.success("Royalty Agreement generated successfully!")}catch(r){console.error("Error generating PDF:",r),R.error("Failed to generate Royalty Agreement")}finally{b(!1)}},B=()=>{switch(o){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Location Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"country",children:"Country"}),e.jsxs(g,{value:t.country,onValueChange:r=>s("country",r),children:[e.jsx(u,{children:e.jsx(p,{placeholder:"Select a country"})}),e.jsx(f,{children:ae().map(r=>e.jsxs(c,{value:`${r.id}:${r.name}`,children:[r.emoji," ",r.name]},r.id))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"state",children:"State/Province"}),e.jsxs(g,{value:t.state,onValueChange:r=>s("state",r),disabled:!t.country,children:[e.jsx(u,{children:e.jsx(p,{placeholder:"Select a state/province"})}),e.jsx(f,{children:q(t.country).map(r=>{const[n,d]=r.split(":");return e.jsx(c,{value:r,children:d},n)})})]})]})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Agreement Details & Parties"}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"effectiveDate",children:"Effective Date"}),e.jsx(l,{id:"effectiveDate",type:"date",value:t.effectiveDate,onChange:r=>s("effectiveDate",r.target.value),placeholder:"Select effective date"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"grantorName",children:"Grantor Name"}),e.jsx(l,{id:"grantorName",value:t.grantorName,onChange:r=>s("grantorName",r.target.value),placeholder:"Name of party granting rights"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"granteeName",children:"Grantee Name"}),e.jsx(l,{id:"granteeName",value:t.granteeName,onChange:r=>s("granteeName",r.target.value),placeholder:"Name of party receiving rights"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"grantorAddress",children:"Grantor Address"}),e.jsx(l,{id:"grantorAddress",value:t.grantorAddress,onChange:r=>s("grantorAddress",r.target.value),placeholder:"Complete address of grantor"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"granteeAddress",children:"Grantee Address"}),e.jsx(l,{id:"granteeAddress",value:t.granteeAddress,onChange:r=>s("granteeAddress",r.target.value),placeholder:"Complete address of grantee"})]})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Property & Territory"}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"propertyDescription",children:"Property Description"}),e.jsx(ee,{id:"propertyDescription",value:t.propertyDescription,onChange:r=>s("propertyDescription",r.target.value),placeholder:"Detailed description of the intellectual property, including patents, trademarks, copyrights, or other IP being licensed",rows:4})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"territory",children:"Territory"}),e.jsx(l,{id:"territory",value:t.territory,onChange:r=>s("territory",r.target.value),placeholder:"Geographic territory where rights are granted (e.g., United States, North America, Worldwide)"})]})]});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Royalty & Payment Terms"}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"royaltyType",children:"Royalty Type"}),e.jsxs(g,{value:t.royaltyType,onValueChange:r=>s("royaltyType",r),children:[e.jsx(u,{children:e.jsx(p,{placeholder:"Select royalty type"})}),e.jsxs(f,{children:[e.jsx(c,{value:"percentage",children:"Percentage of Revenue"}),e.jsx(c,{value:"per_unit",children:"Fixed Amount Per Unit"})]})]})]}),t.royaltyType==="percentage"?e.jsxs("div",{children:[e.jsx(i,{htmlFor:"royaltyPercentage",children:"Royalty Percentage (%)"}),e.jsx(l,{id:"royaltyPercentage",type:"number",min:"0",max:"100",step:"0.1",value:t.royaltyPercentage,onChange:r=>s("royaltyPercentage",r.target.value),placeholder:"Enter percentage (e.g., 5.5 for 5.5%)"})]}):e.jsxs("div",{children:[e.jsx(i,{htmlFor:"royaltyAmountPerUnit",children:"Royalty Amount Per Unit ($)"}),e.jsx(l,{id:"royaltyAmountPerUnit",type:"number",min:"0",step:"0.01",value:t.royaltyAmountPerUnit,onChange:r=>s("royaltyAmountPerUnit",r.target.value),placeholder:"Enter amount per unit (e.g., 2.50)"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"paymentFrequency",children:"Payment Frequency"}),e.jsxs(g,{value:t.paymentFrequency,onValueChange:r=>s("paymentFrequency",r),children:[e.jsx(u,{children:e.jsx(p,{placeholder:"Select payment frequency"})}),e.jsxs(f,{children:[e.jsx(c,{value:"monthly",children:"Monthly"}),e.jsx(c,{value:"quarterly",children:"Quarterly"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"latePaymentDays",children:"Late Payment Grace Period (Days)"}),e.jsx(l,{id:"latePaymentDays",type:"number",min:"1",value:t.latePaymentDays,onChange:r=>s("latePaymentDays",r.target.value),placeholder:"Number of days before termination for late payment"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"breachCureDays",children:"Breach Cure Period (Days)"}),e.jsx(l,{id:"breachCureDays",type:"number",min:"1",value:t.breachCureDays,onChange:r=>s("breachCureDays",r.target.value),placeholder:"Number of days to cure breach before termination"})]})]})]});case 5:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Legal Terms"}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"governingState",children:"Governing State"}),e.jsx(l,{id:"governingState",value:t.governingState,onChange:r=>s("governingState",r.target.value),placeholder:"Enter the state whose laws will govern this agreement"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Note: Signature and date fields will be left blank in the generated document for manual signing."})]});case 6:return e.jsx(re,{onBack:()=>y(5),onGenerate:A,documentType:"Royalty Agreement",isGenerating:k});default:return null}},z=()=>{const r=t.country?t.country.split(":")[1]:"Not provided",n=t.state?t.state.split(":")[1]:"Not provided";return e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Location:"}),e.jsx("br",{}),"Country: ",r,e.jsx("br",{}),"State/Province: ",n]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Agreement Details:"}),e.jsx("br",{}),"Effective Date: ",t.effectiveDate?$(new Date(t.effectiveDate),"PPP"):"Not provided",e.jsx("br",{}),"Governing State: ",t.governingState||"Not provided"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Parties:"}),e.jsx("br",{}),"Grantor: ",t.grantorName||"Not provided"," (",t.grantorAddress||"Address not provided",")",e.jsx("br",{}),"Grantee: ",t.granteeName||"Not provided"," (",t.granteeAddress||"Address not provided",")"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Property & Territory:"}),e.jsx("br",{}),"Property: ",t.propertyDescription||"Not provided",e.jsx("br",{}),"Territory: ",t.territory||"Not provided"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Royalty Terms:"}),e.jsx("br",{}),"Type: ",t.royaltyType==="percentage"?"Percentage of Revenue":"Fixed Amount Per Unit",e.jsx("br",{}),"Amount: ",t.royaltyType==="percentage"?`${t.royaltyPercentage||"Not provided"}%`:`$${t.royaltyAmountPerUnit||"Not provided"} per unit`,e.jsx("br",{}),"Payment Frequency: ",t.paymentFrequency||"Not provided",e.jsx("br",{}),"Late Payment Grace: ",t.latePaymentDays||"Not provided"," days",e.jsx("br",{}),"Breach Cure Period: ",t.breachCureDays||"Not provided"," days"]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:e.jsx("p",{className:"text-center mb-2",children:"By generating this document, you confirm the accuracy of the information provided. This document will serve as your official Royalty Agreement."})})]})},M=()=>{switch(o){case 1:return"Location Information";case 2:return"Agreement Details & Parties";case 3:return"Property & Territory";case 4:return"Royalty & Payment Terms";case 5:return"Legal Terms";default:return""}},V=()=>{switch(o){case 1:return"Select your country and state/province for this agreement";case 2:return"Enter the effective date and identify the parties involved";case 3:return"Describe the intellectual property and territory";case 4:return"Define royalty rates and payment terms";case 5:return"Specify governing law and legal provisions";default:return""}};return U?e.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm",children:e.jsxs(w,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:[e.jsxs(D,{children:[e.jsx(S,{className:"text-xl",children:"Agreement Complete!"}),e.jsx(C,{children:"Review your agreement details below before generating the final document."})]}),e.jsx(G,{className:"space-y-4",children:z()}),e.jsxs(F,{className:"flex justify-between",children:[e.jsx(_,{variant:"outline",onClick:()=>{y(1),j(!1),v({state:"",country:"",effectiveDate:"",grantorName:"",grantorAddress:"",granteeName:"",granteeAddress:"",propertyDescription:"",territory:"",royaltyAmountPerUnit:"",royaltyPercentage:"",royaltyType:"percentage",paymentFrequency:"quarterly",latePaymentDays:"30",breachCureDays:"30",governingState:"",grantorSignature:"",grantorSignatureDate:"",granteeSignature:"",granteeSignatureDate:""})},children:"Start Over"}),e.jsxs(_,{onClick:A,children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Generate PDF"]})]})]})}):e.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm p-4",children:e.jsxs(w,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:[e.jsxs(D,{children:[e.jsx(S,{className:"text-xl",children:M()}),e.jsxs(C,{children:[V(),e.jsxs("div",{className:"mt-2 text-sm",children:["Step ",o," of 6"]})]}),o===1&&e.jsx("div",{className:"mt-3",children:e.jsxs(_,{variant:"outline",size:"sm",onClick:()=>x("/royalty-agreement-info"),className:"text-orange-600 border-orange-200 hover:bg-orange-50 hover:border-orange-300",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Learn More About Royalty Agreements"]})})]}),e.jsx(G,{className:"text-black",children:B()}),o!==6&&e.jsxs(F,{className:"flex justify-between",children:[e.jsxs(_,{variant:"outline",onClick:L,disabled:o===1,children:[e.jsx(Z,{className:"w-4 h-4 mr-2"})," Back"]}),e.jsx(_,{onClick:E,disabled:!N(),children:o===5?e.jsxs(e.Fragment,{children:["Next ",e.jsx(T,{className:"w-4 h-4 ml-2"})]}):e.jsxs(e.Fragment,{children:["Next ",e.jsx(T,{className:"w-4 h-4 ml-2"})]})})]})]})})};export{ue as default};
