import{u as ne,r as v,j as r,C,k,e as M,l as O,m as R,b as A,a as u,F as L,n as se,A as ie,S as oe,d as _e,J as N,i as le,ak as ce}from"./index-BZJi8bXH.js";import{I as B}from"./input-CIIwscNp.js";import{T as de}from"./textarea-mJfF61_2.js";import{S as me,a as he,b as pe,c as ue,d as xe}from"./select-zbs1mPtn.js";import{L as x}from"./label-DWmcNUUx.js";import{E as ye}from"./jspdf.es.min-Djrbirno.js";import{P as fe,a as ge,b as be,C as ve}from"./popover-ReYWxfXu.js";import{_ as w}from"./index-DRHPEVXe.js";import{U as we}from"./UserInfoStep-5XFeFWqU.js";import{f}from"./format-BEMO4FpZ.js";import"./chevron-left-VHQRYIzX.js";const Ne=()=>w.getAllCountries(),Se=_=>w.getStatesOfCountry(_),je=_=>{const l=w.getAllCountries().find(t=>t.id.toString()===_);return(l==null?void 0:l.name)||`Country ID: ${_}`},Te=(_,l)=>{const t=w.getAllCountries().find(m=>m.id.toString()===_);if(!t)return`State ID: ${l}`;const c=w.getStatesOfCountry(t.id).find(m=>m.id.toString()===l);return(c==null?void 0:c.name)||`State ID: ${l}`},D={location_selection:{id:"location_selection",title:"Jurisdiction Information",description:"Select the country and state where this agreement will be executed",questions:["country","state"],nextSectionId:"party_information"},party_information:{id:"party_information",title:"Party Information",description:"Enter information for both parties to the divorce",questions:["party1_name","party1_address","party1_contact","party2_name","party2_address","party2_contact"],nextSectionId:"marriage_details"},marriage_details:{id:"marriage_details",title:"Marriage and Separation Details",description:"Provide marriage and separation information",questions:["marriage_date","children_status","separation_date"],nextSectionId:"financial_details"},financial_details:{id:"financial_details",title:"Financial Information",description:"Enter income and financial details for both parties",questions:["party1_income","party2_income","has_marital_home","marital_home_address","home_owner"],nextSectionId:"agreement_terms"},agreement_terms:{id:"agreement_terms",title:"Agreement Terms",description:"Specify agreement terms and execution details",questions:["agreement_date","witness_required"],nextSectionId:"confirmation"},confirmation:{id:"confirmation",title:"Confirmation",description:"Review and confirm your information",questions:["confirmation"],nextSectionId:"user_info"},user_info:{id:"user_info",title:"Contact Information",description:"Enter your contact information to generate the document",questions:[]}},Fe={country:{id:"country",type:"select",text:"Select the country where this agreement will be executed:",options:[],defaultNextId:"state"},state:{id:"state",type:"select",text:"Select the state/province where this agreement will be executed:",options:[],defaultNextId:"party1_name"},party1_name:{id:"party1_name",type:"text",text:"Party 1 - Full Legal Name:",defaultNextId:"party1_address"},party1_address:{id:"party1_address",type:"textarea",text:"Party 1 - Full Address:",defaultNextId:"party1_contact"},party1_contact:{id:"party1_contact",type:"text",text:"Party 1 - Contact Information (Phone/Email):",defaultNextId:"party2_name"},party2_name:{id:"party2_name",type:"text",text:"Party 2 - Full Legal Name:",defaultNextId:"party2_address"},party2_address:{id:"party2_address",type:"textarea",text:"Party 2 - Full Address:",defaultNextId:"party2_contact"},party2_contact:{id:"party2_contact",type:"text",text:"Party 2 - Contact Information (Phone/Email):",defaultNextId:"marriage_date"},marriage_date:{id:"marriage_date",type:"date",text:"Date of Marriage:",defaultNextId:"children_status"},children_status:{id:"children_status",type:"radio",text:"Were any children born to this marriage?",options:["no","yes"],defaultNextId:"separation_date"},separation_date:{id:"separation_date",type:"date",text:"Date of Physical Separation:",defaultNextId:"party1_income"},party1_income:{id:"party1_income",type:"text",text:'Party 1 - Monthly Income (enter "0" if no income):',defaultNextId:"party2_income"},party2_income:{id:"party2_income",type:"text",text:'Party 2 - Monthly Income (enter "0" if no income):',defaultNextId:"has_marital_home"},has_marital_home:{id:"has_marital_home",type:"radio",text:"Is there a marital home to be addressed?",options:["yes","no"],defaultNextId:"marital_home_address"},marital_home_address:{id:"marital_home_address",type:"textarea",text:"Marital Home Address (if applicable):",defaultNextId:"home_owner"},home_owner:{id:"home_owner",type:"radio",text:"Who will retain ownership of the marital home?",options:["party1","party2","neither"],defaultNextId:"agreement_date"},agreement_date:{id:"agreement_date",type:"date",text:"Date of Agreement Execution:",defaultNextId:"witness_required"},witness_required:{id:"witness_required",type:"radio",text:"Is a witness required for this agreement?",options:["no","yes"],defaultNextId:"confirmation"},confirmation:{id:"confirmation",type:"confirmation",text:"Thank you for providing the information. We will generate your Divorce Settlement Agreement based on your answers."}},et=()=>{ne();const[_,l]=v.useState("location_selection"),[t,S]=v.useState({}),[c,m]=v.useState(["location_selection"]),[G,E]=v.useState(!1),[j,H]=v.useState(!1),d=D[_],U=()=>{try{if(_==="confirmation"){const a=d==null?void 0:d.nextSectionId;a&&(m([...c,a]),l(a));return}const n=d==null?void 0:d.nextSectionId;if(!n){E(!0);return}D[n]?(m([...c,n]),l(n)):(console.error(`Next section ${n} does not exist`),N.error("Navigation error. Please try again."))}catch(n){console.error("Error in handleNext:",n),N.error("An error occurred. Please try again.")}},I=()=>{if(c.length>1){const n=[...c];n.pop(),m(n),l(n[n.length-1])}},h=(n,a)=>{S({...t,[n]:a})},W=n=>{var e;const a=Fe[n];switch(a.type){case"text":return r.jsxs("div",{className:"mb-4",children:[r.jsx(x,{htmlFor:n,className:"block text-sm font-medium text-black mb-1",children:a.text}),r.jsx(B,{id:n,value:t[n]||"",onChange:i=>h(n,i.target.value),placeholder:"Type your answer",className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm"})]});case"number":return r.jsxs("div",{className:"mb-4",children:[r.jsx(x,{htmlFor:n,className:"block text-sm font-medium text-black mb-1",children:a.text}),r.jsx(B,{id:n,type:"number",min:"0",value:t[n]||"",onChange:i=>h(n,i.target.value),placeholder:"Enter number",className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm"})]});case"textarea":return r.jsxs("div",{className:"mb-4",children:[r.jsx(x,{htmlFor:n,className:"block text-sm font-medium text-black mb-1",children:a.text}),r.jsx(de,{id:n,value:t[n]||"",onChange:i=>h(n,i.target.value),placeholder:"Enter details",className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm",rows:3})]});case"date":return r.jsxs("div",{className:"mb-4",children:[r.jsx(x,{htmlFor:n,className:"block text-sm font-medium text-black mb-1",children:a.text}),r.jsxs(fe,{children:[r.jsx(ge,{asChild:!0,children:r.jsxs(u,{variant:"outline",className:le("w-full justify-start text-left font-normal",!t[n]&&"text-muted-foreground"),children:[r.jsx(ce,{className:"mr-2 h-4 w-4"}),t[n]?t[n]:r.jsx("span",{children:"Select a date"})]})}),r.jsx(be,{className:"w-auto p-0 bg-white rounded-lg shadow-sm",children:r.jsx(ve,{mode:"single",selected:t[n]?new Date(t[n]):void 0,onSelect:i=>h(n,i?f(i,"yyyy-MM-dd"):""),initialFocus:!0,className:"p-3 pointer-events-auto bg-white rounded-lg shadow-sm"})})]})]});case"radio":return r.jsxs("div",{className:"mb-4",children:[r.jsx(x,{className:"block text-sm font-medium text-black mb-2",children:a.text}),r.jsx("div",{className:"space-y-2",children:(e=a.options)==null?void 0:e.map(i=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"radio",id:`${n}_${i}`,name:n,value:i,checked:t[n]===i,onChange:o=>h(n,o.target.value),className:"text-primary"}),r.jsx(x,{htmlFor:`${n}_${i}`,className:"text-black capitalize",children:i==="party1"?"Party 1":i==="party2"?"Party 2":i})]},i))})]});case"select":let s=a.options||[];if(n==="country")s=Ne().map(o=>`${o.id}|${o.name}`);else if(n==="state"&&t.country){const i=t.country.split("|")[0];s=Se(parseInt(i)).map(g=>`${g.id}|${g.name}`)}return r.jsxs("div",{className:"mb-4",children:[r.jsx(x,{htmlFor:n,className:"block text-sm font-medium text-black mb-1",children:a.text}),r.jsxs(me,{value:t[n]||"",onValueChange:i=>{h(n,i),n==="country"&&t.state&&h("state","")},disabled:n==="state"&&!t.country,children:[r.jsx(he,{className:"mt-1 text-black w-full bg-white rounded-lg shadow-sm",children:r.jsx(pe,{placeholder:n==="state"&&!t.country?"Please select a country first":"Select an option"})}),r.jsx(ue,{className:"bg-white rounded-lg shadow-sm",children:s.map(i=>{const[o,g]=i.includes("|")?i.split("|"):[i,i];return r.jsx(xe,{value:i,children:g},o)})})]})]});case"confirmation":return r.jsxs("div",{className:"mt-4 text-center",children:[r.jsx(M,{className:"h-12 w-12 text-green-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-black",children:a.text})]});default:return null}},z=()=>d.questions.map(n=>n==="marital_home_address"&&t.has_marital_home==="no"||n==="home_owner"&&t.has_marital_home==="no"?null:W(n)).filter(Boolean),J=()=>{if(_==="confirmation")return!0;if(_==="location_selection")return t.country&&t.state;if(_==="party_information")return t.party1_name&&t.party1_address&&t.party1_contact&&t.party2_name&&t.party2_address&&t.party2_contact;if(_==="marriage_details")return t.marriage_date&&t.children_status&&t.separation_date;if(_==="financial_details"){const n=t.party1_income!==void 0&&t.party2_income!==void 0&&t.has_marital_home;return t.has_marital_home==="yes"?n&&t.marital_home_address&&t.home_owner:n}return _==="agreement_terms"?t.agreement_date&&t.witness_required:!0},P=async()=>{var n;H(!0);try{console.log("Generating Divorce Settlement Agreement PDF...");const a=new ye;a.setFont("helvetica","bold"),a.setFontSize(16),a.text("DIVORCE SETTLEMENT AGREEMENT",105,20,{align:"center"});let e=35;const s=6,i=280;a.setFont("helvetica","normal"),a.setFontSize(11);const o=(T,p,y,F=180)=>{const ae=a.splitTextToSize(T,F);let b=y;return ae.forEach(re=>{b>i-30&&(a.addPage(),b=20),a.text(re,p,b),b+=s}),b},g=t.country?je(t.country.split("|")[0]):"[COUNTRY]",Ce=t.state?Te(((n=t.country)==null?void 0:n.split("|")[0])||"",t.state.split("|")[0]):"[STATE]",V=`Party 1: ${t.party1_name||"[Insert Full Legal Name]"}, ${t.party1_address||"[Address]"}, ${t.party1_contact||"[Contact Information]"}`;e=o(V,15,e),e+=s;const Y=`Party 2: ${t.party2_name||"[Insert Full Legal Name]"}, ${t.party2_address||"[Address]"}, ${t.party2_contact||"[Contact Information]"}`;e=o(Y,15,e),e+=s*1.5;const Q=`${t.party1_name||"________________________"} and ${t.party2_name||"________________________"}, being duly sworn, do hereby declare that the following statements are true and correct. Except as otherwise expressly stated herein, this Agreement represents a full, final, and complete settlement of all issues arising from the dissolution of the parties' marriage, including but not limited to the division of property, allocation of debts, and spousal support.`;e=o(Q,15,e),e+=s,e=o("The parties mutually agree that this Agreement contains a fair, just, and equitable distribution of assets and liabilities and, subject to approval by the Court, agree as follows:",15,e),e+=s*1.5,a.setFont("helvetica","bold"),a.text("1. MARRIAGE DATE",15,e),e+=s,a.setFont("helvetica","normal");const K=`The parties were lawfully married on ${t.marriage_date?f(new Date(t.marriage_date),"MMMM dd, yyyy"):"_______________________"}.`;e=o(K,15,e),e+=s,t.children_status==="no"?(e=o("No children were born to this marriage.",15,e),e=o("The parties confirm that they are not expecting any children.",15,e)):e=o("Children were born to this marriage. [Provide details.]",15,e),e+=s*1.5,a.setFont("helvetica","bold"),a.text("2. SEPARATION DATE",15,e),e+=s,a.setFont("helvetica","normal");const X=`The parties physically separated on ${t.separation_date?f(new Date(t.separation_date),"MMMM dd, yyyy"):"_______________________"}, and have since lived separate and apart.`;e=o(X,15,e),e+=s*1.5,a.setFont("helvetica","bold"),a.text("3. CAUSE OF DISSOLUTION",15,e),e+=s,a.setFont("helvetica","normal"),e=o("The parties acknowledge that their marriage has irretrievably broken down due to irreconcilable differences and that reconciliation is not possible.",15,e),e+=s*1.5,a.setFont("helvetica","bold"),a.text("4. DISCLOSURE",15,e),e+=s,a.setFont("helvetica","normal"),e=o("Each party affirms that they have made a full and honest disclosure of all assets and debts owned individually or jointly. No assets or liabilities have been concealed, and both parties believe the other to have been truthful in their respective disclosures.",15,e),e+=s*1.5,a.setFont("helvetica","bold"),a.text("5. INCOME",15,e),e+=s,a.setFont("helvetica","normal");const Z=t.party1_income==="0"?"no monthly income":`monthly income of $${t.party1_income||"_______"}`,q=t.party2_income==="0"?"no monthly income":`monthly income of $${t.party2_income||"_______"}`;if(e=o(`${t.party1_name||"________________________"} has ${Z}.`,15,e),e=o(`${t.party2_name||"________________________"} has ${q}.`,15,e),e+=s*1.5,e>i-60&&(a.addPage(),e=20),a.setFont("helvetica","bold"),a.text("6. COOPERATION",15,e),e+=s,a.setFont("helvetica","normal"),e=o("The parties agree to cooperate fully in signing any documents required to finalize this Agreement or to implement any of its terms, including deeds, titles, or other legal instruments. Within ten (10) days of receiving notice of Entry of Judgment, both parties shall execute all necessary documentation to transfer titles or otherwise effectuate the provisions herein. If either party fails to do so, the final Decree of Divorce shall operate to transfer title accordingly.",15,e),e+=s*1.5,a.setFont("helvetica","bold"),a.text("7. DIVISION OF ASSETS",15,e),e+=s,a.setFont("helvetica","normal"),e=o("Each party shall retain all tangible and intangible property currently in their respective possession, including personal effects and household items.",15,e),e+=s,t.has_marital_home==="yes"){a.setFont("helvetica","bold"),a.text("a. Marital Home",15,e),e+=s,a.setFont("helvetica","normal");const T=t.marital_home_address||"______________________";let p="",y="";t.home_owner==="party1"?(p=t.party1_name||"______________________",y=t.party2_name||"______________________"):t.home_owner==="party2"?(p=t.party2_name||"______________________",y=t.party1_name||"______________________"):(p="Neither party",y="Both parties");const F=`The parties agree that ${p} shall retain sole and exclusive possession of the marital home located at ${T}. ${p} shall hold absolute ownership, and ${y} shall not remain liable for any existing or future mortgage obligations on the said property.`;e=o(F,15,e)}e+=s*1.5,a.setFont("helvetica","bold"),a.text("8. FUTURE EARNINGS AND ACQUISITIONS",15,e),e+=s,a.setFont("helvetica","normal"),e=o("All income, earnings, and property received or acquired by either party after the execution of this Agreement shall be deemed the sole and separate property of the receiving or acquiring party. Both parties hereby waive, release, and relinquish any and all rights, title, or interest in the future earnings or property of the other, except to the extent necessary to collect sums due under this Agreement in the event of default.",15,e),e+=s*1.5,a.setFont("helvetica","bold"),a.text("9. DEBTS",15,e),e+=s,a.setFont("helvetica","normal"),e=o("Each party shall be solely responsible for any debts or liabilities incurred in their individual name prior to the marriage, unless otherwise specified herein.",15,e),e+=s;const ee=`Each party shall also be responsible for debts incurred in their individual name after the date of separation, which is ${t.separation_date?f(new Date(t.separation_date),"MMMM dd, yyyy"):"_______________________"}, unless otherwise specified.`;e=o(ee,15,e),e+=s,e=o("Liabilities incurred during the course of the marriage shall be borne individually unless specifically stated to the contrary in this Agreement.",15,e),e+=s*1.5,e>i-80&&(a.addPage(),e=20),a.setFont("helvetica","bold"),a.text("10. SPOUSAL SUPPORT / ALIMONY",15,e),e+=s,a.setFont("helvetica","normal"),e=o("Both parties expressly waive any claim for spousal support, maintenance, or alimony from the other. The Court shall not retain jurisdiction over such matters. Once incorporated into the final Decree of Divorce, this waiver shall be deemed permanent and binding.",15,e),e+=s*1.5,a.setFont("helvetica","bold"),a.text("19. BINDING AGREEMENT",15,e),e+=s,a.setFont("helvetica","normal"),e=o("This Agreement shall be binding upon the parties and their respective heirs, executors, administrators, and personal representatives.",15,e),e+=s*2;const te=t.agreement_date?f(new Date(t.agreement_date),"MMMM dd, yyyy"):"____________, 2025";a.text(`IN WITNESS WHEREOF, the parties have executed this Divorce Settlement Agreement on this ${te}.`,15,e),e+=s*2,a.text(`Party 1: ${t.party1_name||"___________________________"}`,15,e),e+=s,a.text("Signature: ___________________________",15,e),e+=s,a.text("Date: ___________________________",15,e),e+=s*2,a.text(`Party 2: ${t.party2_name||"___________________________"}`,15,e),e+=s,a.text("Signature: ___________________________",15,e),e+=s,a.text("Date: ___________________________",15,e),e+=s*2,t.witness_required==="yes"&&(a.text("Witness: ___________________________",15,e),e+=s,a.text("Signature: ___________________________",15,e),e+=s,a.text("Date: ___________________________",15,e));const $=`divorce_settlement_agreement_${f(new Date,"yyyyMMdd_HHmmss")}.pdf`;return console.log("Saving PDF with filename:",$),a.save($),N.success("Divorce Settlement Agreement successfully generated!"),a}catch(a){return console.error("Error generating PDF:",a),N.error("Failed to generate Divorce Settlement Agreement"),null}};return _==="user_info"?r.jsx(we,{onBack:I,onGenerate:P,documentType:"Divorce Settlement Agreement",isGenerating:j}):G?r.jsxs(C,{className:"w-full max-w-4xl mx-auto",children:[r.jsxs(k,{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(M,{className:"w-6 h-6 text-green-600"})}),r.jsx(O,{className:"text-green-800",children:"Divorce Settlement Agreement Complete!"}),r.jsx(R,{children:"Your document has been generated successfully."})]}),r.jsxs(A,{className:"text-center space-y-4",children:[r.jsxs(u,{onClick:P,className:"bg-green-600 hover:bg-green-700 text-white",disabled:j,children:[r.jsx(L,{className:"w-4 h-4 mr-2"}),j?"Generating...":"Download PDF"]}),r.jsx("div",{children:r.jsx(u,{variant:"outline",onClick:()=>{l("location_selection"),m(["location_selection"]),S({}),E(!1)},children:"Start Over"})})]})]}):d?r.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm",children:r.jsxs(C,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:[r.jsxs(k,{children:[r.jsx(O,{className:"text-xl",children:d.title}),r.jsxs(R,{children:[d.description,r.jsxs("div",{className:"mt-2 text-sm",children:["Step ",c.length," of ",Object.keys(D).length]})]}),_==="location_selection"&&r.jsx("div",{className:"mt-2",children:r.jsxs(u,{variant:"outline",onClick:()=>window.open("/divorce-settlement-agreement-info","_blank"),className:"text-bright-orange-600 border-bright-orange-600 hover:bg-bright-orange-50",children:[r.jsx(L,{className:"w-4 h-4 mr-2"}),"Learn More About Divorce Settlement Agreement"]})})]}),r.jsx(A,{className:"text-black",children:r.jsx("div",{className:"grid grid-cols-1 gap-y-2",children:z()})}),r.jsxs(se,{className:"flex justify-between",children:[r.jsxs(u,{variant:"outline",onClick:I,disabled:c.length<=1,children:[r.jsx(ie,{className:"w-4 h-4 mr-2"})," Back"]}),r.jsx(u,{onClick:()=>U(),disabled:!J(),children:_==="confirmation"?r.jsxs(r.Fragment,{children:["Complete ",r.jsx(oe,{className:"w-4 h-4 ml-2"})]}):r.jsxs(r.Fragment,{children:["Next ",r.jsx(_e,{className:"w-4 h-4 ml-2"})]})})]})]})}):r.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm",children:r.jsx(C,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:r.jsxs(A,{className:"text-center p-4",children:[r.jsx("p",{className:"text-red-500",children:"An error occurred. Please refresh the page."}),r.jsx(u,{onClick:()=>{l("location_selection"),m(["location_selection"])},className:"mt-4",children:"Start Over"})]})})})};export{et as default};
