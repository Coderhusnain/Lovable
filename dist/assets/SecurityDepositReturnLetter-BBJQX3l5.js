import{r as u,j as e,F as V,C as U,t as _,v as H,c as J,B as h,A as M,l as b,J as A}from"./index-DmiwH21i.js";import{I as i}from"./input-BAgFuN3B.js";import{L as a}from"./label-QTYrxBzu.js";import{T as F}from"./textarea-BBDyVfad.js";import{S as W,C as q,a as K}from"./city-B5NRDuuX.js";import{S as m,a as p,b as x,c as g,d as j}from"./select-CsN3ALin.js";import{L as Q}from"./LegalConcernsSection-X5TYESxF.js";import{E as X}from"./jspdf.es.min-9HgYH_OZ.js";import{U as Y}from"./UserInfoStep-DdXBoRoO.js";import"./index-BdQq_4o_.js";import"./alert-oABTVHDJ.js";import"./phone-Df3-aX1O.js";const he=()=>{const[l,y]=u.useState(1),[w,v]=u.useState(!1),[s,c]=u.useState({tenantName:"",leaseDate:"",propertyAddress:"",depositDate:"",securityDepositAmount:"",deductionReason:"",deductionAmount:"",remainingBalance:"",responseDays:"",landlordSignature:"",landlordName:"",landlordTitle:"",letterDate:"",selectedCountry:"",selectedState:"",selectedCity:""}),f=K.getAllCountries(),C=s.selectedCountry?W.getStatesOfCountry(s.selectedCountry):[],T=s.selectedState?q.getCitiesOfState(s.selectedCountry,s.selectedState):[],n=(t,r)=>{c(o=>({...o,[t]:r}))},R=t=>{f.find(r=>r.isoCode===t),c(r=>({...r,selectedCountry:t,selectedState:"",selectedCity:""}))},$=t=>{C.find(r=>r.isoCode===t),c(r=>({...r,selectedState:t,selectedCity:""}))},I=t=>{c(r=>({...r,selectedCity:t}))},L=()=>{v(!0);try{const t=new X,r=t.internal.pageSize.width,o=20,B=6;let d=o;const N=(k,O=10,z=!1)=>{t.setFontSize(O),t.setFont("helvetica",z?"bold":"normal"),t.splitTextToSize(k,r-2*o).forEach(G=>{d>t.internal.pageSize.height-o&&(t.addPage(),d=o),t.text(G,o,d),d+=B})};N("Re: Return of Security Deposit",14,!0),d+=10;const E=`Dear ${s.tenantName||"[Tenant's Name]"},

This letter pertains to the lease agreement dated ${s.leaseDate||"[Insert Date]"}, under which you leased the property located at ${s.propertyAddress||"[Insert Full Address]"} (the "Premises"). On ${s.depositDate||"[Insert Date]"}, you paid a security deposit in the amount of $${s.securityDepositAmount||"[Insert Amount]"}.

Upon inspection of the Premises following the termination of the lease, the following deductions have been made from your security deposit:

Reason for Deduction:
${s.deductionReason||"[Insert Reason]"}

Amount Deducted: $${s.deductionAmount||"[Insert Amount]"}

As a result of the above deduction(s), the remaining balance of your security deposit is $${s.remainingBalance||"0.00"}, which is enclosed with this letter ${s.remainingBalance==="0.00"||!s.remainingBalance?'[or, if nothing is returned: "Accordingly, no balance remains to be returned."]':""}.

If you dispute any of the deductions listed above, you must submit your objection in writing to the address listed above within ${s.responseDays||"[Insert Number]"} days of receipt of this letter. Failure to respond within this time period may be deemed a waiver of any objection.

By my signature below, I certify that this notice has been sent to your last known mailing address.

Sincerely,

${s.landlordSignature||"[Signature]"}

${s.landlordName||"[Printed Name]"}

${s.landlordTitle||"[Title or Role, if applicable]"}

${s.letterDate||"[Date]"}`;N(E),t.save("Security_Deposit_Return_Letter.pdf"),A.success("PDF generated successfully!")}catch(t){console.error("Error generating PDF:",t),A.error("Failed to generate document")}finally{v(!1)}},D=()=>{l<5&&y(l+1)},S=()=>{l>1&&y(l-1)},P=()=>{switch(l){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Step 1: Location Selection"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"country",children:"Country"}),e.jsxs(m,{value:s.selectedCountry,onValueChange:R,children:[e.jsx(p,{children:e.jsx(x,{placeholder:"Select Country"})}),e.jsx(g,{children:f.map(t=>e.jsx(j,{value:t.isoCode,children:t.name},t.isoCode))})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"state",children:"State"}),e.jsxs(m,{value:s.selectedState,onValueChange:$,disabled:!s.selectedCountry,children:[e.jsx(p,{children:e.jsx(x,{placeholder:"Select State"})}),e.jsx(g,{children:C.map(t=>e.jsx(j,{value:t.isoCode,children:t.name},t.isoCode))})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"city",children:"City"}),e.jsxs(m,{value:s.selectedCity,onValueChange:I,disabled:!s.selectedState,children:[e.jsx(p,{children:e.jsx(x,{placeholder:"Select City"})}),e.jsx(g,{children:T.map(t=>e.jsx(j,{value:t.name,children:t.name},t.name))})]})]})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Step 2: Tenant & Lease Information"}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"tenantName",children:"Tenant's Name"}),e.jsx(i,{id:"tenantName",value:s.tenantName,onChange:t=>n("tenantName",t.target.value),placeholder:"Enter tenant's full name"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"leaseDate",children:"Lease Agreement Date"}),e.jsx(i,{type:"date",id:"leaseDate",value:s.leaseDate,onChange:t=>n("leaseDate",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"depositDate",children:"Security Deposit Date"}),e.jsx(i,{type:"date",id:"depositDate",value:s.depositDate,onChange:t=>n("depositDate",t.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"propertyAddress",children:"Property Address"}),e.jsx(F,{id:"propertyAddress",value:s.propertyAddress,onChange:t=>n("propertyAddress",t.target.value),placeholder:"Enter complete property address",rows:3})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"securityDepositAmount",children:"Original Security Deposit Amount ($)"}),e.jsx(i,{id:"securityDepositAmount",value:s.securityDepositAmount,onChange:t=>n("securityDepositAmount",t.target.value),placeholder:"0.00"})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Step 3: Deduction Details"}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"deductionReason",children:"Reason for Deduction"}),e.jsx(F,{id:"deductionReason",value:s.deductionReason,onChange:t=>n("deductionReason",t.target.value),placeholder:"Describe the reason for the security deposit deduction",rows:4})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"deductionAmount",children:"Amount Deducted ($)"}),e.jsx(i,{id:"deductionAmount",value:s.deductionAmount,onChange:t=>n("deductionAmount",t.target.value),placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"remainingBalance",children:"Remaining Balance ($)"}),e.jsx(i,{id:"remainingBalance",value:s.remainingBalance,onChange:t=>n("remainingBalance",t.target.value),placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"responseDays",children:"Response Period (days)"}),e.jsx(i,{id:"responseDays",value:s.responseDays,onChange:t=>n("responseDays",t.target.value),placeholder:"e.g., 30"})]})]});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Step 4: Landlord Information"}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"landlordName",children:"Landlord's Printed Name"}),e.jsx(i,{id:"landlordName",value:s.landlordName,onChange:t=>n("landlordName",t.target.value),placeholder:"Enter landlord's full name"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"landlordTitle",children:"Title or Role (optional)"}),e.jsx(i,{id:"landlordTitle",value:s.landlordTitle,onChange:t=>n("landlordTitle",t.target.value),placeholder:"e.g., Property Manager, Owner"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"landlordSignature",children:"Signature (type name for digital signature)"}),e.jsx(i,{id:"landlordSignature",value:s.landlordSignature,onChange:t=>n("landlordSignature",t.target.value),placeholder:"Type name for digital signature"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"letterDate",children:"Letter Date"}),e.jsx(i,{type:"date",id:"letterDate",value:s.letterDate,onChange:t=>n("letterDate",t.target.value)})]})]});case 5:return e.jsx(Y,{onBack:S,onGenerate:L,documentType:"Security Deposit Return Letter",isGenerating:w});default:return null}};return e.jsx("div",{className:"bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(V,{className:"h-8 w-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Security Deposit Return Letter"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Create a professional letter for returning security deposits with deduction details"}),e.jsx(Q,{})]}),e.jsxs(U,{children:[e.jsx(_,{children:e.jsxs(H,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Security Deposit Return Letter Form"}),e.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["Step ",l," of 5"]})]})}),e.jsxs(J,{children:[P(),l!==5&&e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsxs(h,{type:"button",variant:"outline",onClick:S,disabled:l===1,children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Previous"]}),l<4?e.jsxs(h,{type:"button",onClick:D,children:["Next",e.jsx(b,{className:"w-4 h-4 ml-2"})]}):e.jsxs(h,{type:"button",onClick:D,children:["Next",e.jsx(b,{className:"w-4 h-4 ml-2"})]})]})]})]})]})})};export{he as default};
