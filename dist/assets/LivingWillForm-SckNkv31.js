import{u as we,r as u,j as t,C as O,k as re,l as oe,m as le,b as M,n as de,a as A,F as Te,A as Se,S as Ae,d as Ie,J as $,e as Le}from"./index-BZJi8bXH.js";import{I as x}from"./input-CIIwscNp.js";import{T as ke}from"./textarea-mJfF61_2.js";import{S as V,a as G,b as B,c as Y,d as J}from"./select-zbs1mPtn.js";import{R as Ce,a as Ee}from"./radio-group-CbJ7qjYx.js";import{L as o}from"./label-DWmcNUUx.js";import{E as Fe}from"./jspdf.es.min-Djrbirno.js";import{g as Pe}from"./generateGuidePDF-8xQNrepg.js";import{_ as L}from"./index-DRHPEVXe.js";import{f as De}from"./format-BEMO4FpZ.js";import"./index-7YkXJ8Hr.js";import"./circle-help-DOTuWB7N.js";import"./info-rdOsau5r.js";import"./sparkles-CC7VH7Y_.js";const he=()=>L.getAllCountries(),We=p=>L.getStatesOfCountry(p),ce=p=>{const r=L.getAllCountries().find(f=>f.id.toString()===p);return(r==null?void 0:r.name)||`Country ID: ${p}`},me=(p,r)=>{const f=L.getAllCountries().find(g=>g.id.toString()===p);if(!f)return`State ID: ${r}`;const N=L.getStatesOfCountry(f.id).find(g=>g.id.toString()===r);return(N==null?void 0:N.name)||`State ID: ${r}`},Q={location_selection:{id:"location_selection",title:"Location Selection",description:"Select the country and state/province where this Living Will will be executed",questions:["country","state"],nextSectionId:"declarant"},declarant:{id:"declarant",title:"Declarant Information",description:"Enter information about the person making this Living Will",questions:["declarant_name","declarant_address","declarant_city","declarant_zip"],nextSectionId:"primary_agent"},primary_agent:{id:"primary_agent",title:"Primary Health Care Agent",description:"Designate your primary health care agent",questions:["primary_agent_info"],nextSectionId:"first_alternate"},first_alternate:{id:"first_alternate",title:"First Alternate Agent",description:"Designate your first alternate health care agent",questions:["first_alternate_info"],nextSectionId:"second_alternate"},second_alternate:{id:"second_alternate",title:"Second Alternate Agent",description:"Designate your second alternate health care agent",questions:["second_alternate_info"],nextSectionId:"physician"},physician:{id:"physician",title:"Primary Physician",description:"Enter your primary physician information",questions:["primary_physician_info"],nextSectionId:"medical_treatment"},medical_treatment:{id:"medical_treatment",title:"Medical Treatment",description:"Specify your medical treatment preferences and instructions",questions:["medical_treatment_preference"],nextSectionId:"nutrition"},nutrition:{id:"nutrition",title:"Nutrition and Hydration",description:"Specify your preferences for artificial nutrition and hydration",questions:["nutrition_preference"],nextSectionId:"directions"},directions:{id:"directions",title:"Other Directions",description:"Additional medical or legal instructions/preferences",questions:["other_directions"],nextSectionId:"witnesses"},witnesses:{id:"witnesses",title:"Witness Information",description:"Enter witness information for the document",questions:["witness1_info","witness2_info"],nextSectionId:"additional_witness"},additional_witness:{id:"additional_witness",title:"Additional Witness (Optional)",description:"Required for residents of skilled nursing facility or if applicable",questions:["additional_witness_info"],nextSectionId:"confirmation"},confirmation:{id:"confirmation",title:"Confirmation",description:"Review and confirm your information",questions:["confirmation"]}},$e={country:{id:"country",type:"select",text:"Select your country:",options:he().map(p=>`${p.id}|${p.name}`),defaultNextId:"state"},state:{id:"state",type:"select",text:"Select your state/province:",options:[],defaultNextId:"declarant_name"},declarant_name:{id:"declarant_name",type:"text",text:"Declarant's Full Name:",defaultNextId:"declarant_address"},declarant_address:{id:"declarant_address",type:"text",text:"Declarant's Address:",defaultNextId:"declarant_city"},declarant_city:{id:"declarant_city",type:"text",text:"City:",defaultNextId:"declarant_zip"},declarant_zip:{id:"declarant_zip",type:"text",text:"ZIP Code:",defaultNextId:"primary_agent_info"},primary_agent_info:{id:"primary_agent_info",type:"agent",text:"Primary Health Care Agent Information:",defaultNextId:"first_alternate_info"},first_alternate_info:{id:"first_alternate_info",type:"agent",text:"First Alternate Agent Information:",defaultNextId:"second_alternate_info"},second_alternate_info:{id:"second_alternate_info",type:"agent",text:"Second Alternate Agent Information:",defaultNextId:"primary_physician_info"},primary_physician_info:{id:"primary_physician_info",type:"physician",text:"Primary Physician Information:",defaultNextId:"other_directions"},other_directions:{id:"other_directions",type:"textarea",text:"Other Directions (Additional medical or legal instructions/preferences):",defaultNextId:"witness1_info"},witness1_info:{id:"witness1_info",type:"witness",text:"Witness 1 Information:",defaultNextId:"witness2_info"},witness2_info:{id:"witness2_info",type:"witness",text:"Witness 2 Information:",defaultNextId:"additional_witness_info"},additional_witness_info:{id:"additional_witness_info",type:"witness",text:"Additional Witness Information (Optional):",defaultNextId:"confirmation"},medical_treatment_preference:{id:"medical_treatment_preference",type:"radio",text:"Medical Treatment Instructions - These instructions depict my commitment to decline medical treatment in the circumstances mentioned below: In the event that I am diagnosed with an incurable or irreversible physical or mental condition, from which there is no reasonable prospect of recovery, I hereby instruct my Health Agent to withhold or withdraw any medical interventions that serve solely to prolong the dying process. Such conditions shall include, but are not limited to: (a) a terminal illness; (b) a state of permanent unconsciousness; or (c) a minimally conscious state wherein I am permanently incapable of making informed decisions or communicating my preferences. I instruct that my Health Agent be confined to interventions aimed solely at ensuring my comfort and alleviating pain, including any discomfort that may result from the withholding or withdrawal of life-sustaining treatment. I acknowledge that the law does not obligate me to specify in advance the particular treatments to be limited or declined.",options:["I agree to these medical treatment instructions","I do not agree to these medical treatment instructions"],defaultNextId:"nutrition_preference"},nutrition_preference:{id:"nutrition_preference",type:"radio",text:"Nutrition and Hydration Preference:",options:["TO RECEIVE artificially administered nutrition and hydration","NOT TO RECEIVE artificially administered nutrition and hydration"],defaultNextId:"other_directions"},confirmation:{id:"confirmation",type:"confirmation",text:"Thank you for providing the information. We will generate your Living Will based on your answers."}},pt=()=>{const p=we(),[r,f]=u.useState("location_selection"),[s,N]=u.useState({}),[g,k]=u.useState(["location_selection"]),[xe,Z]=u.useState(!1),[d,U]=u.useState({name:"",address:"",phone:"",designation:"",relation:""}),[c,K]=u.useState({name:"",address:"",phone:"",designation:"",relation:""}),[m,X]=u.useState({name:"",address:"",phone:"",designation:"",relation:""}),[h,q]=u.useState({name:"",address:"",phone:""}),[b,ee]=u.useState({name:"",addressLine1:"",addressLine2:""}),[w,te]=u.useState({name:"",addressLine1:"",addressLine2:""}),[C,ne]=u.useState({name:"",addressLine1:"",addressLine2:""}),y=Q[r],pe=()=>{try{const n=y==null?void 0:y.nextSectionId;if(!n){Z(!0);return}Q[n]?(k([...g,n]),f(n)):(console.error(`Next section ${n} does not exist`),$.error("Navigation error. Please try again."))}catch(n){console.error("Error in handleNext:",n),$.error("An error occurred. Please try again.")}},ue=()=>{if(g.length>1){const n=[...g];n.pop(),k(n),f(n[n.length-1])}},v=(n,e)=>{N({...s,[n]:e})},I=(n,e,i)=>{n==="primary"?U({...d,[e]:i}):n==="first"?K({...c,[e]:i}):X({...m,[e]:i})},H=(n,e)=>{q({...h,[n]:e})},z=(n,e,i)=>{n==="witness1"?ee({...b,[e]:i}):n==="witness2"?te({...w,[e]:i}):ne({...C,[e]:i})},fe=n=>{var i,l;const e=$e[n];switch(e.type){case"text":return t.jsxs("div",{className:"mb-2",children:[t.jsx(o,{htmlFor:n,className:"block text-sm font-medium text-black mb-1",children:e.text}),t.jsx(x,{id:n,value:s[n]||"",onChange:a=>v(n,a.target.value),placeholder:"Type your answer",className:"mt-1 text-black w-full bg-white"})]});case"textarea":return t.jsxs("div",{className:"mb-2",children:[t.jsx(o,{htmlFor:n,className:"block text-sm font-medium text-black mb-1",children:e.text}),t.jsx(ke,{id:n,value:s[n]||"",onChange:a=>v(n,a.target.value),placeholder:"Enter additional directions, preferences, or instructions",className:"mt-1 text-black w-full bg-white",rows:6})]});case"select":if(n==="country")return t.jsxs("div",{className:"mb-2",children:[t.jsx(o,{htmlFor:n,className:"block text-sm font-medium text-black mb-1",children:e.text}),t.jsxs(V,{value:s[n]||"",onValueChange:a=>{v(n,a),s.state&&v("state","")},children:[t.jsx(G,{className:"mt-1 text-black w-full bg-white",children:t.jsx(B,{placeholder:"Select a country"})}),t.jsx(Y,{className:"bg-white",children:he().map(a=>t.jsx(J,{value:`${a.id}`,children:a.name},a.id))})]})]});if(n==="state"){const a=s.country,ie=a?We(parseInt(a)):[];return t.jsxs("div",{className:"mb-2",children:[t.jsx(o,{htmlFor:n,className:"block text-sm font-medium text-black mb-1",children:e.text}),t.jsxs(V,{value:s[n]||"",onValueChange:S=>v(n,S),disabled:!a,children:[t.jsx(G,{className:"mt-1 text-black w-full bg-white",children:t.jsx(B,{placeholder:a?"Select a state/province":"Select a country first"})}),t.jsx(Y,{className:"bg-white",children:ie.map(S=>t.jsx(J,{value:`${S.id}`,children:S.name},S.id))})]})]})}else return t.jsxs("div",{className:"mb-2",children:[t.jsx(o,{htmlFor:n,className:"block text-sm font-medium text-black mb-1",children:e.text}),t.jsxs(V,{value:s[n]||"",onValueChange:a=>v(n,a),children:[t.jsx(G,{className:"mt-1 text-black w-full bg-white",children:t.jsx(B,{placeholder:"Select an option"})}),t.jsx(Y,{className:"bg-white",children:(i=e.options)==null?void 0:i.map(a=>t.jsx(J,{value:a,children:a},a))})]})]});case"radio":return t.jsxs("div",{className:"mb-2",children:[t.jsx(o,{className:"block text-sm font-medium text-black mb-2",children:e.text}),t.jsx(Ce,{value:s[n]||"",onValueChange:a=>v(n,a),className:"mt-2 space-y-2 text-black",children:(l=e.options)==null?void 0:l.map(a=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ee,{value:a,id:`${n}-${a}`}),t.jsx(o,{htmlFor:`${n}-${a}`,children:a})]},a))})]});case"agent":const E=n==="first_alternate_info",F=n==="second_alternate_info",j=E?c:F?m:d,T=E?"first":F?"second":"primary";return t.jsxs("div",{className:"mb-2",children:[t.jsx(o,{className:"block text-sm font-medium text-black mb-2",children:e.text}),t.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[t.jsxs("div",{children:[t.jsx(o,{className:"text-sm",children:"Name"}),t.jsx(x,{value:j.name,onChange:a=>I(T,"name",a.target.value),placeholder:"Enter full name",className:"text-black"})]}),t.jsxs("div",{children:[t.jsx(o,{className:"text-sm",children:"Address"}),t.jsx(x,{value:j.address,onChange:a=>I(T,"address",a.target.value),placeholder:"Enter complete address",className:"text-black"})]}),t.jsxs("div",{children:[t.jsx(o,{className:"text-sm",children:"Phone"}),t.jsx(x,{value:j.phone,onChange:a=>I(T,"phone",a.target.value),placeholder:"Enter phone number",className:"text-black"})]}),t.jsxs("div",{children:[t.jsx(o,{className:"text-sm",children:"Designation"}),t.jsx(x,{value:j.designation,onChange:a=>I(T,"designation",a.target.value),placeholder:"Enter designation (e.g., Spouse, Adult Child, etc.)",className:"text-black"})]}),t.jsxs("div",{children:[t.jsx(o,{className:"text-sm",children:"Relation (if any)"}),t.jsx(x,{value:j.relation,onChange:a=>I(T,"relation",a.target.value),placeholder:"Enter relationship to declarant",className:"text-black"})]})]})]});case"physician":return t.jsxs("div",{className:"mb-2",children:[t.jsx(o,{className:"block text-sm font-medium text-black mb-2",children:e.text}),t.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[t.jsxs("div",{children:[t.jsx(o,{className:"text-sm",children:"Name"}),t.jsx(x,{value:h.name,onChange:a=>H("name",a.target.value),placeholder:"Enter physician's full name",className:"text-black"})]}),t.jsxs("div",{children:[t.jsx(o,{className:"text-sm",children:"Address"}),t.jsx(x,{value:h.address,onChange:a=>H("address",a.target.value),placeholder:"Enter physician's address",className:"text-black"})]}),t.jsxs("div",{children:[t.jsx(o,{className:"text-sm",children:"Phone"}),t.jsx(x,{value:h.phone,onChange:a=>H("phone",a.target.value),placeholder:"Enter physician's phone number",className:"text-black"})]})]})]});case"witness":const R=n==="witness2_info",P=n==="additional_witness_info",D=R?w:P?C:b,W=R?"witness2":P?"additional":"witness1";return t.jsxs("div",{className:"mb-2",children:[t.jsxs(o,{className:"block text-sm font-medium text-black mb-2",children:[e.text,P&&t.jsx("span",{className:"text-sm text-gray-500",children:" (Leave blank if not applicable)"})]}),t.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[t.jsxs("div",{children:[t.jsx(o,{className:"text-sm",children:"Name"}),t.jsx(x,{value:D.name,onChange:a=>z(W,"name",a.target.value),placeholder:"Enter witness name",className:"text-black"})]}),t.jsxs("div",{children:[t.jsx(o,{className:"text-sm",children:"Address Line 1"}),t.jsx(x,{value:D.addressLine1,onChange:a=>z(W,"addressLine1",a.target.value),placeholder:"Enter address line 1",className:"text-black"})]}),t.jsxs("div",{children:[t.jsx(o,{className:"text-sm",children:"Address Line 2"}),t.jsx(x,{value:D.addressLine2,onChange:a=>z(W,"addressLine2",a.target.value),placeholder:"Enter address line 2 (city, state, zip)",className:"text-black"})]})]})]});case"confirmation":return t.jsxs("div",{className:"mt-2 text-center",children:[t.jsx(Le,{className:"h-12 w-12 text-green-500 mx-auto"}),t.jsx("p",{className:"mt-2 text-black",children:e.text})]});default:return null}},ge=()=>y.questions.map(n=>fe(n)),ye=()=>r==="confirmation"?!0:r==="location_selection"?s.country&&s.state:r==="declarant"?s.declarant_name&&s.declarant_address&&s.declarant_city&&s.declarant_zip:r==="primary_agent"?d.name&&d.address&&d.phone:r==="first_alternate"?c.name&&c.address&&c.phone:r==="second_alternate"?m.name&&m.address&&m.phone:r==="physician"?h.name&&h.address&&h.phone:r==="medical_treatment"?s.medical_treatment_preference:r==="nutrition"?s.nutrition_preference:r==="directions"?!0:r==="witnesses"?b.name&&b.addressLine1&&w.name&&w.addressLine1:!0,ve=()=>{try{console.log("Generating Living Will PDF...");const n=new Fe;n.setFont("helvetica","bold"),n.setFontSize(16),n.text("LIVING WILL",105,20,{align:"center"}),n.setFontSize(12),n.text("(Living Will Declaration)",105,30,{align:"center"}),n.setFont("helvetica","normal"),n.setFontSize(11);let e=45;const i=6,l=280;n.setFont("helvetica","bold"),n.text("STATEMENT OF DIRECTIVE",15,e),e+=i+3,n.setFont("helvetica","normal");const E=ce(s.country||""),F=me(s.country||"",s.state||""),j=`I, ${s.declarant_name||"________________"}, residing at ${s.declarant_address||"_____________"}, ${F}, ${E}, ${s.declarant_zip||"___________"}, being of full legal capacity and sound mind, do make this statement as a Directive to be followed in case I become permanently unable to make, or participate in making own medical decisions.`;if(n.splitTextToSize(j,170).forEach(_=>{n.text(_,15,e),e+=i}),e+=i+5,n.setFont("helvetica","bold"),n.text("APPOINTMENT OF HEALTH CARE AGENT",15,e),e+=i+3,n.setFont("helvetica","normal"),n.splitTextToSize("I hereby appoint the following person as my Health Care Agent (hereinafter referred as 'Health Agent') in case I become unable to make my own health care decision as mentioned in Clause 1",170).forEach(_=>{n.text(_,15,e),e+=i}),e+=i+3,n.text(`Name: ${d.name||"____________________"}`,15,e),e+=i,n.text(`Address: ${d.address||"______________________"}`,15,e),e+=i,n.text(`Phone: ${d.phone||"____________________"}`,15,e),e+=i,n.text(`Designation: ${d.designation||"_________________"}`,15,e),e+=i,n.text(`Relation, if any: ${d.relation||"________________"}`,15,e),e+=i+3,e>l-80&&(n.addPage(),e=20),n.splitTextToSize("In case I revoke my Health Agent authority, or if my agent is not willing or unable to undertake the responsibilities stipulated in this Living Will, I designate my First Alternate Agent:",170).forEach(_=>{n.text(_,15,e),e+=i}),e+=i+3,n.setFont("helvetica","bold"),n.text("First Alternate:",15,e),e+=i+5,n.setFont("helvetica","normal"),n.text(`Name: ${c.name||"____________________"}`,15,e),e+=i,n.text(`Address: ${c.address||"______________________"}`,15,e),e+=i,n.text(`Phone: ${c.phone||"____________________"}`,15,e),e+=i,n.text(`Designation: ${c.designation||"_________________"}`,15,e),e+=i,n.text(`Relation, if any: ${c.relation||"________________"}`,15,e),e+=i+3,n.splitTextToSize("If I revoke the authority of my Health Agent of First Alternate, or neither is willing, or unable to undertake the duties stipulated in this Living Will, I designate my Second Alternate Agent:",170).forEach(_=>{n.text(_,15,e),e+=i}),e+=i+3,n.setFont("helvetica","bold"),n.text("Second Alternate Agent:",15,e),e+=i+5,n.setFont("helvetica","normal"),n.text(`Name: ${m.name||"____________________"}`,15,e),e+=i,n.text(`Address: ${m.address||"______________________"}`,15,e),e+=i,n.text(`Phone: ${m.phone||"____________________"}`,15,e),e+=i,n.text(`Designation: ${m.designation||"_________________"}`,15,e),e+=i,n.text(`Relation, if any: ${m.relation||"________________"}`,15,e),e+=i+5,e>l-80&&(n.addPage(),e=20),n.setFont("helvetica","bold"),n.text("MEDICAL TREATMENT",15,e),e+=i+3,n.setFont("helvetica","normal"),n.splitTextToSize("These instructions depict my commitment to decline medical treatment in the circumstances mentioned below:",170).forEach(_=>{n.text(_,15,e),e+=i}),e+=i,n.splitTextToSize("In the event that I am diagnosed with an incurable or irreversible physical or mental condition, from which there is no reasonable prospect of recovery, I hereby instruct my Health Agent to withhold or withdraw any medical interventions that serve solely to prolong the dying process.",170).forEach(_=>{e>l-20&&(n.addPage(),e=20),n.text(_,15,e),e+=i}),e+=i,n.splitTextToSize("Such conditions shall include, but are not limited to: (a) a terminal illness; (b) a state of permanent unconsciousness; or (c) a minimally conscious state wherein I am permanently incapable of making informed decisions or communicating my preferences.",170).forEach(_=>{e>l-20&&(n.addPage(),e=20),n.text(_,15,e),e+=i}),e+=i,n.splitTextToSize("I instruct that my Health Agent be confined to interventions aimed solely at ensuring my comfort and alleviating pain, including any discomfort that may result from the withholding or withdrawal of life-sustaining treatment. I acknowledge that the law does not obligate me to specify in advance the particular treatments to be limited or declined.",170).forEach(_=>{e>l-20&&(n.addPage(),e=20),n.text(_,15,e),e+=i}),e+=i+3,e>l-40&&(n.addPage(),e=20),n.setFont("helvetica","bold"),n.text("NUTRITION AND HYDRATION",15,e),e+=i+3,n.setFont("helvetica","normal"),n.splitTextToSize("If I have a condition state above, it is my preference TO RECEIVE artificially administered nutrition and hydration.",170).forEach(_=>{n.text(_,15,e),e+=i}),e+=i+5,n.setFont("helvetica","bold"),n.text("PRIMARY PHYSICIAN",15,e),e+=i+3,n.setFont("helvetica","normal"),n.text("I designate the following as my Primary Physician:",15,e),e+=i+3,n.text(`Name: ${h.name||"____________________"}`,15,e),e+=i,n.text(`Address: ${h.address||"______________________"}`,15,e),e+=i,n.text(`Phone: ${h.phone||"____________________"}`,15,e),e+=i+3,n.splitTextToSize("If a primary physician is not selected as per Clause 5, then I request that the applicable medical association rules be applied for the identification of my primary physician.",170).forEach(_=>{e>l-20&&(n.addPage(),e=20),n.text(_,15,e),e+=i}),e+=i+5,n.setFont("helvetica","bold"),n.text("OTHER DIRECTIONS",15,e),e+=i+3,n.setFont("helvetica","normal"),n.splitTextToSize("These instructions represent the lawful exercise of my right to refuse medical treatment following the applicable laws. I intend that these directives be honoured and implemented unless I have revoked them through a subsequent written statement or by an unmistakable expression of a change in my wishes:",170).forEach(_=>{e>l-20&&(n.addPage(),e=20),n.text(_,15,e),e+=i}),e+=i,s.other_directions&&s.other_directions.trim())n.splitTextToSize(s.other_directions,170).forEach(_e=>{e>l-20&&(n.addPage(),e=20),n.text(_e,15,e),e+=i}),e+=i;else{for(let _=0;_<6;_++)n.text("______________________________________________________________________",15,e),e+=i,e>l-20&&(n.addPage(),e=20);e+=i}e>l-100&&(n.addPage(),e=20),n.text("Declarant Signature _____________________________________",15,e),e+=i+10,n.text("Date __________________",15,e),e+=i+5,n.text("Address _____________________________________________________________",15,e),e+=i,n.text("____________________________________________________",15,e),e+=i+10,e>l-120&&(n.addPage(),e=20),n.setFont("helvetica","bold"),n.text("STATEMENT OF WITNESS:",15,e),e+=i+3,n.setFont("helvetica","normal"),n.text("I declare under the penalty of perjury under the applicable laws:",15,e),e+=i,["That I am over the age of eighteen (18) and competent to testify to the matters stated herein;","That the Individual signed or acknowledged this advance directive in my presence;","That the individual who signed or acknowledged this advance directive is personally known to me, or that his identity was proven to me through cogent evidence;","That the individual appears to be of sound mind and not under any kind of duress or undue influence;","That I am not the person appointed as a Health Agent by this advance directive","That I am not the individual's Health Care provider, an employee of the Health Care provider, the operator of the community care facility, an employee of the an operator of a community care facility, the operator of a residential care facility for the elderly, nor an employee of an operator of a residential care facility for the elderly;"].forEach(_=>{n.splitTextToSize(_,165).forEach(be=>{e>l-20&&(n.addPage(),e=20),n.text(be,20,e),e+=i}),e+=2}),e+=i,e>l-80&&(n.addPage(),e=20),n.text(`Name of Witness 1:  ${b.name||"___________________________"}`,15,e),e+=i+5,n.text("Signed _____________________________________",15,e),e+=i,n.text("Date __________________",120,e-i),e+=i+5,n.text("Address _____________________________________________________________",15,e),e+=i,n.text("____________________________________________________",15,e),e+=i+10,n.text(`Name of Witness 2: ${w.name||"_________________________"}`,15,e),e+=i+5,n.text("Signed _____________________________________",15,e),e+=i,n.text("Date __________________",120,e-i),e+=i+5,n.text("Address _____________________________________________________________",15,e),e+=i,n.text("____________________________________________________",15,e),e+=i+10,e>l-100&&(n.addPage(),e=20),n.setFont("helvetica","bold"),n.text("ADDITIONAL STATEMENT OF WITNESS:",15,e),e+=i,n.setFontSize(10),n.setFont("helvetica","normal"),n.text("At least one of the above witnesses must also sign the following declaration",15,e),e+=i,n.text("(If you are a resident in a skilled working facility, the patient advocate or ombudsman must sign this statement)",15,e),e+=i+3,n.setFontSize(11),n.splitTextToSize("I further declare under the applicable laws of perjury that I am not related to the individual executing this advance directive by blood, marriage, or adoption, and to the best of my knowledge, I am not entitled to any part of of the individual's estate upon their death under a will or operation of law",170).forEach(_=>{e>l-20&&(n.addPage(),e=20),n.text(_,15,e),e+=i}),e+=i+5,n.text("Witness Signature _____________________________________",15,e),e+=i,n.text("Date __________________",120,e-i),e+=i+5,n.text("Address _____________________________________________________________",15,e),e+=i,n.text("____________________________________________________",15,e);const ae=De(new Date,"yyyyMMdd_HHmmss"),se=`living_will_${ae}.pdf`;console.log("Saving PDF with filename:",se),n.save(se);const Ne=Pe({documentId:"living-will",documentTitle:"Living Will (Advance Directive)"});return setTimeout(()=>{Ne.save(`living_will_guide_${ae}.pdf`)},500),$.success("Living Will and Guide PDF successfully generated!"),n}catch(n){return console.error("Error generating PDF:",n),$.error("Failed to generate Living Will"),null}},je=()=>t.jsxs("div",{className:"space-y-2 text-black",children:[t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Living Will Summary"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm",children:"Declarant Information"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Country:"})," ",s.country?ce(s.country):"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"State/Province:"})," ",s.state?me(s.country||"",s.state):"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Name:"})," ",s.declarant_name||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Address:"})," ",s.declarant_address||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"City:"})," ",s.declarant_city||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"ZIP:"})," ",s.declarant_zip||"Not provided"]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm",children:"Primary Health Care Agent"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Name:"})," ",d.name||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Address:"})," ",d.address||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",d.phone||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Designation:"})," ",d.designation||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Relation:"})," ",d.relation||"Not provided"]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm",children:"First Alternate Agent"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Name:"})," ",c.name||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Address:"})," ",c.address||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",c.phone||"Not provided"]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm",children:"Second Alternate Agent"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Name:"})," ",m.name||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Address:"})," ",m.address||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",m.phone||"Not provided"]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm",children:"Primary Physician"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Name:"})," ",h.name||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Address:"})," ",h.address||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",h.phone||"Not provided"]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm",children:"Witnesses"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Witness 1:"})," ",b.name||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Witness 2:"})," ",w.name||"Not provided"]}),C.name&&t.jsxs("p",{children:[t.jsx("strong",{children:"Additional:"})," ",C.name]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm",children:"Medical Treatment & Nutrition"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Medical Treatment:"})," ",s.medical_treatment_preference||"Not provided"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Nutrition/Hydration:"})," ",s.nutrition_preference||"TO RECEIVE artificially administered nutrition and hydration"]})]})]}),s.other_directions&&t.jsxs("div",{className:"mt-2",children:[t.jsx("h4",{className:"font-medium text-sm",children:"Other Directions"}),t.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:s.other_directions})]})]}),t.jsx("div",{className:"border rounded-lg p-4 bg-green-50 dark:bg-green-900/10",children:t.jsx("p",{className:"text-center mb-2",children:"By generating this document, you confirm the accuracy of the information provided. This document will serve as your official Living Will."})})]});return xe?t.jsx("div",{className:"bg-gray-50 py-2 min-h-0",children:t.jsxs(O,{className:"max-w-4xl mx-auto bg-white px-4 my-2 rounded-lg shadow-sm",children:[t.jsxs(re,{className:"text-center",children:[t.jsx(oe,{className:"text-xl text-green-600",children:"Living Will"}),t.jsx(le,{children:"Review your Living Will details below before generating the final document."})]}),t.jsx(M,{className:"space-y-2",children:je()}),t.jsxs(de,{className:"flex justify-between",children:[t.jsx(A,{variant:"outline",onClick:()=>{N({}),k(["location_selection"]),f("location_selection"),Z(!1),U({name:"",address:"",phone:"",designation:"",relation:""}),K({name:"",address:"",phone:"",designation:"",relation:""}),X({name:"",address:"",phone:"",designation:"",relation:""}),q({name:"",address:"",phone:""}),ee({name:"",addressLine1:"",addressLine2:""}),te({name:"",addressLine1:"",addressLine2:""}),ne({name:"",addressLine1:"",addressLine2:""})},children:"Start Over"}),t.jsx(A,{onClick:ve,children:"Generate Living Will"})]})]})}):y?t.jsx("div",{className:"bg-gray-50 py-2 min-h-0",children:t.jsxs(O,{className:"max-w-4xl mx-auto bg-white px-4 my-2 rounded-lg shadow-sm",children:[t.jsxs(re,{children:[t.jsx(oe,{className:"text-xl",children:y.title}),t.jsxs(le,{children:[y.description,r==="location_selection"&&t.jsx("div",{className:"mt-3 flex left-0",children:t.jsxs(A,{variant:"outline",size:"sm",onClick:()=>p("/living-will-info"),className:"text-orange-600 border-orange-600 hover:bg-orange-50",children:[t.jsx(Te,{className:"w-4 h-4 mr-2"}),"Learn More About Living Will"]})}),t.jsxs("div",{className:"mt-2 text-sm",children:["Step ",g.length," of ",Object.keys(Q).length]})]})]}),t.jsx(M,{className:"text-black",children:t.jsx("div",{className:"grid grid-cols-1 gap-y-2",children:ge()})}),t.jsxs(de,{className:"flex justify-between",children:[t.jsxs(A,{variant:"outline",onClick:ue,disabled:g.length<=1,children:[t.jsx(Se,{className:"w-4 h-4 mr-2"})," Back"]}),t.jsx(A,{onClick:()=>pe(),disabled:!ye(),children:r==="confirmation"?t.jsxs(t.Fragment,{children:["Complete ",t.jsx(Ae,{className:"w-4 h-4 ml-2"})]}):t.jsxs(t.Fragment,{children:["Next ",t.jsx(Ie,{className:"w-4 h-4 ml-2"})]})})]})]})}):t.jsx("div",{className:"bg-gray-50 py-2 min-h-0",children:t.jsx(O,{className:"max-w-4xl mx-auto bg-white px-4 my-2 rounded-lg shadow-sm",children:t.jsxs(M,{className:"text-center p-4",children:[t.jsx("p",{className:"text-red-500",children:"An error occurred. Please refresh the page."}),"          ",t.jsx(A,{onClick:()=>{f("location_selection"),k(["location_selection"])},className:"mt-2",children:"Start Over"})]})})})};export{pt as default};
