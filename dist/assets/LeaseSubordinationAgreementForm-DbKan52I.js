import{r as h,j as e,C as y,t as v,v as A,k as I,w as D,ad as w,B as l,c as B,A as W,l as G,af as H,F as O}from"./index-DmiwH21i.js";import{E as z}from"./jspdf.es.min-9HgYH_OZ.js";import{I as i}from"./input-BAgFuN3B.js";import{T as m}from"./textarea-BBDyVfad.js";import{L as r}from"./label-QTYrxBzu.js";const V=()=>{const[c,j]=h.useState(1),[p,N]=h.useState(!1),[C,T]=h.useState(!1),[n,L]=h.useState({agreementDate:"",mortgageeName:"",mortgageeAddress:"",tenantName:"",tenantAddress:"",leaseDate:"",landlordName:"",landlordAddress:"",legalDescription:"",premisesAddress:"",signMortgageeName:"",signMortgageeTitle:"",signMortgageeDate:"",signTenantName:"",signTenantTitle:"",signTenantDate:""}),s=t=>{const{name:g,value:o}=t.target;L(u=>({...u,[g]:o}))},S=()=>j(t=>Math.min(3,t+1)),M=()=>j(t=>Math.max(1,t-1)),b=()=>{N(!0);try{const t=new z({unit:"pt",format:"a4"}),g=t.internal.pageSize.getWidth(),o=40,u=g-o*2;let d=o;const a=(P,x=11,$=!1,F=!1)=>{t.setFont("times",$?"bold":"normal"),t.setFontSize(x),t.splitTextToSize(P||"",u).forEach(f=>{if(d>t.internal.pageSize.getHeight()-o&&(t.addPage(),d=o),F){const R=t.getStringUnitWidth(f)*x/t.internal.scaleFactor,k=(g-R)/2;t.text(f,k,d)}else t.text(f,o,d);d+=x*1.3}),d+=5};a("LEASE SUBORDINATION AGREEMENT",16,!0,!0),a(`
`),a(`This Lease Subordination Agreement ("Agreement") is made and entered into as of ${n.agreementDate||"[Insert Date]"}, by and between:`),a(`Mortgagee: ${n.mortgageeName||"[Mortgagee Name]"}, of ${n.mortgageeAddress||"[Address]"}.`),a("and"),a(`Tenant: ${n.tenantName||"[Tenant Name]"}, of ${n.tenantAddress||"[Address]"}.`),a(`
`),a("RECITALS",12,!0),a(`WHEREAS, the Tenant entered into a lease agreement (the "Lease") dated ${n.leaseDate||"[Date]"}, with ${n.landlordName||"[Landlord Name]"}, of ${n.landlordAddress||"[Address]"} ("Landlord"), covering certain real property described as follows:`),a(`${n.legalDescription||"[Insert Legal Description of Premises]"},`),a(`commonly known as: ${n.premisesAddress||"[Insert Premises Address]"} ("Premises");`),a('WHEREAS, the Mortgagee has extended a mortgage loan to the Landlord, secured, inter alia, by a mortgage ("Mortgage") recorded against the Premises;'),a("WHEREAS, the Tenant has agreed to subordinate its leasehold interest in the Premises in consideration of the Mortgagee's agreement not to disturb the Tenant's possession thereof under the terms of the Lease, so long as the Tenant remains in compliance with its obligations."),a(`
`),a("NOW, THEREFORE, in consideration of the foregoing and the mutual covenants contained herein, the parties agree as follows:",11,!0),a(`
`),a("1. Subordination",12,!0),a("The Tenant hereby covenants and agrees that the Lease, and all of the Tenant's rights, title, and interest thereunder, shall be and remain subject and subordinate in all respects to the lien, terms, and conditions of the Mortgage, including all renewals, extensions, modifications, consolidations, substitutions, or replacements thereof, and to any future mortgage or mortgages encumbering the Premises that are held by the Mortgagee or its successors or assigns."),a("2. Non-Disturbance",12,!0),a("So long as the Tenant is not in default under the Lease beyond any applicable notice and cure periods, the Mortgagee agrees that the Lease shall not be terminated, nor shall the Tenant's possession, use, or enjoyment of the Premises be disturbed, nor shall the leasehold interest be otherwise affected in the event of foreclosure, or any proceeding to enforce the Mortgage, or if the Mortgagee or any purchaser acquires the Premises."),a('Notwithstanding the foregoing, any party succeeding to the interest of the Landlord (hereinafter, the "Purchaser") as a result of foreclosure or similar action shall not be:'),a("(a) liable for any act or omission of any prior landlord;"),a("(b) subject to any offsets or defenses which the Tenant may have against any prior landlord;"),a("(c) bound by any prepayment of rent for more than one month in advance; or"),a("(d) bound by any modification or amendment to the Lease not expressly approved in writing by the Mortgagee."),a("3. Attornment",12,!0),a("In the event of foreclosure or conveyance in lieu thereof, or if the Mortgagee otherwise succeeds to the interest of the Landlord under the Lease, the Tenant agrees to attorn to and recognize the Purchaser (including Mortgagee, if applicable) as its landlord under the Lease. Such attornment shall be effective automatically and shall not require the execution of any further instrument."),a("From and after such attornment, the Lease shall continue in full force and effect as a direct lease between the Purchaser and the Tenant for the remainder of the term, including any extensions or renewals pursuant to the Lease, and the Purchaser shall assume the obligations of Landlord thereunder arising from and after the date of such succession."),a("4. Binding Effect",12,!0),a("This Agreement shall be binding upon and inure to the benefit of the parties hereto and their respective heirs, executors, legal representatives, successors, and assigns."),a("5. Execution and Counterparts",12,!0),a("This Agreement may be executed in counterparts, each of which shall be deemed an original, and all of which together shall constitute one instrument. Electronic or scanned signatures shall be deemed effective as originals."),a(`
`),d>t.internal.pageSize.getHeight()-150&&(t.addPage(),d=o),a("IN WITNESS WHEREOF, the undersigned have executed this Lease Subordination Agreement as of the date first written above."),a(`
`),a("MORTGAGEE:",11,!0),a(`By: ${n.signMortgageeName}`),a(`Name: ${n.signMortgageeName}`),a(`Title: ${n.signMortgageeTitle}`),a(`Date: ${n.signMortgageeDate}`),a(`
`),a("TENANT:",11,!0),a(`By: ${n.signTenantName}`),a(`Name: ${n.signTenantName}`),a(`Title: ${n.signTenantTitle}`),a(`Date: ${n.signTenantDate}`),t.save("Lease_Subordination_Agreement.pdf"),T(!0)}catch(t){console.error(t),alert("Error generating PDF")}finally{N(!1)}},E=()=>{switch(c){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Agreement & Parties"}),e.jsxs("div",{children:[e.jsx(r,{children:"Agreement Date"}),e.jsx(i,{type:"date",name:"agreementDate",value:n.agreementDate,onChange:s})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Mortgagee Name (Lender)"}),e.jsx(i,{name:"mortgageeName",value:n.mortgageeName,onChange:s})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Mortgagee Address"}),e.jsx(m,{name:"mortgageeAddress",value:n.mortgageeAddress,onChange:s,rows:2})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Tenant Name"}),e.jsx(i,{name:"tenantName",value:n.tenantName,onChange:s})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Tenant Address"}),e.jsx(m,{name:"tenantAddress",value:n.tenantAddress,onChange:s,rows:2})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Lease & Property Details"}),e.jsxs("div",{children:[e.jsx(r,{children:"Original Lease Date"}),e.jsx(i,{type:"date",name:"leaseDate",value:n.leaseDate,onChange:s})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Landlord Name"}),e.jsx(i,{name:"landlordName",value:n.landlordName,onChange:s})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Landlord Address"}),e.jsx(m,{name:"landlordAddress",value:n.landlordAddress,onChange:s,rows:2})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Premises Address (Common Name)"}),e.jsx(i,{name:"premisesAddress",value:n.premisesAddress,onChange:s,placeholder:"e.g. 123 Main St, Suite 400"})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Legal Description of Premises"}),e.jsx(m,{name:"legalDescription",value:n.legalDescription,onChange:s,placeholder:"Lot, Block, and Survey details...",rows:4})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Signatures"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Mortgagee"}),e.jsx(r,{children:"Signatory Name"}),e.jsx(i,{name:"signMortgageeName",value:n.signMortgageeName,onChange:s}),e.jsx(r,{children:"Title"}),e.jsx(i,{name:"signMortgageeTitle",value:n.signMortgageeTitle,onChange:s}),e.jsx(r,{children:"Date"}),e.jsx(i,{type:"date",name:"signMortgageeDate",value:n.signMortgageeDate,onChange:s})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Tenant"}),e.jsx(r,{children:"Signatory Name"}),e.jsx(i,{name:"signTenantName",value:n.signTenantName,onChange:s}),e.jsx(r,{children:"Title"}),e.jsx(i,{name:"signTenantTitle",value:n.signTenantTitle,onChange:s}),e.jsx(r,{children:"Date"}),e.jsx(i,{type:"date",name:"signTenantDate",value:n.signTenantDate,onChange:s})]})]})]});default:return null}};return C?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs(y,{className:"max-w-md w-full text-center",children:[e.jsxs(v,{children:[e.jsxs(A,{className:"text-green-600 flex items-center justify-center gap-2",children:[e.jsx(I,{className:"h-6 w-6"})," Generated"]}),e.jsx(D,{children:"Lease Subordination Agreement Ready"})]}),e.jsxs(w,{className:"flex justify-center gap-4",children:[e.jsx(l,{variant:"outline",onClick:()=>T(!1),children:"Back"}),e.jsx(l,{onClick:b,children:"Download Again"})]})]})}):e.jsx("div",{className:"max-w-3xl mx-auto p-6 min-h-screen bg-gray-50",children:e.jsxs(y,{children:[e.jsxs(v,{children:[e.jsx(A,{children:"Lease Subordination Agreement"}),e.jsxs(D,{children:["Step ",c," of 3"]})]}),e.jsx(B,{children:E()}),e.jsxs(w,{className:"flex justify-between",children:[e.jsxs(l,{variant:"outline",onClick:M,disabled:c===1,children:[e.jsx(W,{className:"mr-2 h-4 w-4"})," Back"]}),c<3?e.jsxs(l,{onClick:S,children:["Next ",e.jsx(G,{className:"ml-2 h-4 w-4"})]}):e.jsxs(l,{onClick:b,disabled:p,children:[p?e.jsx(H,{className:"animate-spin mr-2 h-4 w-4"}):e.jsx(O,{className:"mr-2 h-4 w-4"}),"Generate PDF"]})]})]})})};export{V as default};
