import{u as J,r as p,j as e,C as S,k as q,l as N,m as F,b,n as w,a as h,e as K,F as Q,A as X,S as ee,d as te,J as P}from"./index-EUBTzQul.js";import{I as c}from"./input-BXL43AC-.js";import{T as re}from"./textarea-Dfjbmtdk.js";import{S as E,a as A,b as k,c as D,d as T}from"./select-fj3w0PNH.js";import{L as o}from"./label-9rsijxaJ.js";import{E as se}from"./jspdf.es.min-CJIQpcZG.js";import{_ as I}from"./index-Cyh42AxN.js";import{U as ae}from"./UserInfoStep-nEfX4EqD.js";import{f as _}from"./format-BEMO4FpZ.js";const ie=()=>I.getAllCountries(),ne=x=>I.getStatesOfCountry(x),Ne=()=>{const x=J(),[l,m]=p.useState(1),[Z,j]=p.useState(!1),[r,g]=p.useState({state:"",country:"",requesterFullName:"",requesterStreetAddress:"",requesterCityStateZip:"",requesterPhone:"",requesterFax:"",requesterEmail:"",requestDate:"",recipientName:"",recipientCompany:"",recipientStreetAddress:"",recipientCityStateZip:"",titleOfWork:"",authorCreator:"",excerptMaterial:"",printedName:""}),[R,C]=p.useState(!1),n=(t,s)=>{g(i=>({...i,[t]:s})),t==="country"&&g(i=>({...i,state:""}))},M=t=>{if(!t)return[];const s=parseInt(t.split(":")[0]);return ne(s).map(d=>`${d.id}:${d.name}`)},f=()=>{switch(l){case 1:return!!(r.state&&r.country);case 2:return!!(r.requesterFullName&&r.requesterStreetAddress&&r.requesterCityStateZip&&r.requesterEmail&&r.requestDate);case 3:return!!(r.recipientName&&r.recipientStreetAddress&&r.recipientCityStateZip);case 4:return!!(r.titleOfWork&&r.authorCreator&&r.excerptMaterial&&r.printedName);default:return!1}},O=()=>{f()&&(l<4?m(l+1):l===4?m(5):l===5&&j(!0))},L=()=>{l>1&&m(l-1)},v=()=>{C(!0);try{const t=new se;t.setFont("helvetica","normal"),t.setFontSize(11);let s=30;const i=6,d=280,a=(u,y=15,H=11,V="normal")=>{t.setFont("helvetica",V),t.setFontSize(H),t.text(u,y,s),s+=i};a(r.requesterFullName||"[Your Full Name]",15,11,"normal"),a(r.requesterStreetAddress||"[Your Street Address]",15,11,"normal"),a(r.requesterCityStateZip||"[City, State, ZIP Code]",15,11,"normal");const B=`Phone: ${r.requesterPhone||"________________"} · Fax: ${r.requesterFax||"________________"} · Email: ${r.requesterEmail||"________________"}`;a(B,15,11,"normal"),s+=i;const U=r.requestDate?_(new Date(r.requestDate),"MMMM d, yyyy"):"[Date]";a(U,15,11,"normal"),s+=i,a(r.recipientName||"[Recipient's Name]",15,11,"normal"),a(r.recipientCompany||"[Recipient's Company or Organization]",15,11,"normal"),a(r.recipientStreetAddress||"[Recipient's Street Address]",15,11,"normal"),a(r.recipientCityStateZip||"[City, State, ZIP Code]",15,11,"normal"),s+=i,a("Subject: Request for Copyright Permission",15,11,"bold"),s+=i,a(`Dear ${r.recipientName||"[Recipient's Name]"},`,15,11,"normal"),s+=i,a("I am writing to formally request permission to use the following portion of your work:",15,11,"normal"),s+=i,a(`Title of Work: ${r.titleOfWork||"___________________________"}`,15,11,"normal"),a(`Author/Creator: ${r.authorCreator||"_________________________"}`,15,11,"normal"),s+=i,a("Excerpt or Material to be Used:",15,11,"normal"),r.excerptMaterial?t.splitTextToSize(r.excerptMaterial,170).forEach(y=>{s>d-20&&(t.addPage(),s=20),a(y,15,11,"normal")}):(a("",15,11,"normal"),a("",15,11,"normal"),a("",15,11,"normal")),s+=i,t.splitTextToSize("If you are willing to grant this permission, I will gladly include a copyright notice or acknowledgment using wording you specify. This notice will be placed alongside the material wherever it is used.",170).forEach(u=>{s>d-20&&(t.addPage(),s=20),a(u,15,11,"normal")}),s+=i,a("Thank you for your time and consideration. I look forward to your response.",15,11,"normal"),s+=i,a("Sincerely,",15,11,"normal"),s+=i*2,a("[Your Signature]",15,11,"normal"),a(r.printedName||"[Your Printed Name]",15,11,"normal"),s>d-100?(t.addPage(),s=30):s+=i*3,t.setFont("helvetica","bold"),t.setFontSize(12),t.text("Final Checklist for Copyright Request",15,s),s+=i+3,t.setFont("helvetica","normal"),t.setFontSize(11),a(`Requester: ${r.requesterFullName||"_________________________"}`,15,11,"normal"),s+=i,t.setFont("helvetica","bold"),t.setFontSize(11),a("Make It Legal",15,11,"bold"),t.setFont("helvetica","normal"),t.splitTextToSize("Review the Copyright Request Letter to ensure it aligns with your intentions. If changes are needed after the initial draft, you can edit the document in Word or using a document manager. After signing, the completed letter should be sent to the Copyright Owner.",170).forEach(u=>{s>d-20&&(t.addPage(),s=20),a(u,15,11,"normal")}),s+=i,t.setFont("helvetica","bold"),a("Copies",15,11,"bold"),t.setFont("helvetica","normal"),t.splitTextToSize("Keep a copy of the signed letter for your personal records. You may also upload and store the letter in your secure file storage system for future reference and access.",170).forEach(u=>{s>d-20&&(t.addPage(),s=20),a(u,15,11,"normal")});const G=`copyright_permission_request_${_(new Date,"yyyyMMdd_HHmmss")}.pdf`;t.save(G),P.success("Copyright Permission Request generated successfully!")}catch(t){console.error("Error generating PDF:",t),P.error("Failed to generate Copyright Permission Request")}finally{C(!1)}},W=()=>{switch(l){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Location Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"country",children:"Country"}),e.jsxs(E,{value:r.country,onValueChange:t=>n("country",t),children:[e.jsx(A,{children:e.jsx(k,{placeholder:"Select a country"})}),e.jsx(D,{children:ie().map(t=>e.jsxs(T,{value:`${t.id}:${t.name}`,children:[t.emoji," ",t.name]},t.id))})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"state",children:"State/Province"}),e.jsxs(E,{value:r.state,onValueChange:t=>n("state",t),disabled:!r.country,children:[e.jsx(A,{children:e.jsx(k,{placeholder:"Select a state/province"})}),e.jsx(D,{children:M(r.country).map(t=>{const[s,i]=t.split(":");return e.jsx(T,{value:t,children:i},s)})})]})]})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Your Contact Information"}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"requesterFullName",children:"Your Full Name"}),e.jsx(c,{id:"requesterFullName",value:r.requesterFullName,onChange:t=>n("requesterFullName",t.target.value),placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"requesterStreetAddress",children:"Your Street Address"}),e.jsx(c,{id:"requesterStreetAddress",value:r.requesterStreetAddress,onChange:t=>n("requesterStreetAddress",t.target.value),placeholder:"Enter your street address"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"requesterCityStateZip",children:"City, State, ZIP Code"}),e.jsx(c,{id:"requesterCityStateZip",value:r.requesterCityStateZip,onChange:t=>n("requesterCityStateZip",t.target.value),placeholder:"Enter city, state, and ZIP code"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"requesterPhone",children:"Phone Number"}),e.jsx(c,{id:"requesterPhone",value:r.requesterPhone,onChange:t=>n("requesterPhone",t.target.value),placeholder:"Enter phone number"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"requesterFax",children:"Fax Number (Optional)"}),e.jsx(c,{id:"requesterFax",value:r.requesterFax,onChange:t=>n("requesterFax",t.target.value),placeholder:"Enter fax number (optional)"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"requesterEmail",children:"Email Address"}),e.jsx(c,{id:"requesterEmail",type:"email",value:r.requesterEmail,onChange:t=>n("requesterEmail",t.target.value),placeholder:"Enter your email address"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"requestDate",children:"Request Date"}),e.jsx(c,{id:"requestDate",type:"date",value:r.requestDate,onChange:t=>n("requestDate",t.target.value),placeholder:"Select request date"})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Copyright Owner Information"}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"recipientName",children:"Recipient's Name"}),e.jsx(c,{id:"recipientName",value:r.recipientName,onChange:t=>n("recipientName",t.target.value),placeholder:"Enter the copyright owner's name"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"recipientCompany",children:"Recipient's Company or Organization"}),e.jsx(c,{id:"recipientCompany",value:r.recipientCompany,onChange:t=>n("recipientCompany",t.target.value),placeholder:"Enter company or organization name"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"recipientStreetAddress",children:"Recipient's Street Address"}),e.jsx(c,{id:"recipientStreetAddress",value:r.recipientStreetAddress,onChange:t=>n("recipientStreetAddress",t.target.value),placeholder:"Enter recipient's street address"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"recipientCityStateZip",children:"Recipient's City, State, ZIP Code"}),e.jsx(c,{id:"recipientCityStateZip",value:r.recipientCityStateZip,onChange:t=>n("recipientCityStateZip",t.target.value),placeholder:"Enter recipient's city, state, and ZIP code"})]})]});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Copyright Work Details"}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"titleOfWork",children:"Title of Work"}),e.jsx(c,{id:"titleOfWork",value:r.titleOfWork,onChange:t=>n("titleOfWork",t.target.value),placeholder:"Enter the title of the copyrighted work"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"authorCreator",children:"Author/Creator"}),e.jsx(c,{id:"authorCreator",value:r.authorCreator,onChange:t=>n("authorCreator",t.target.value),placeholder:"Enter the author or creator's name"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"excerptMaterial",children:"Excerpt or Material to be Used"}),e.jsx(re,{id:"excerptMaterial",value:r.excerptMaterial,onChange:t=>n("excerptMaterial",t.target.value),placeholder:"Describe the specific portion, excerpt, or material you wish to use",rows:6})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"printedName",children:"Your Printed Name (for signature)"}),e.jsx(c,{id:"printedName",value:r.printedName,onChange:t=>n("printedName",t.target.value),placeholder:"Enter your printed name for the signature section"})]})]});default:return null}},z=()=>e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Requester Information:"}),e.jsx("br",{}),"Name: ",r.requesterFullName,e.jsx("br",{}),"Address: ",r.requesterStreetAddress,e.jsx("br",{}),"City/State/ZIP: ",r.requesterCityStateZip,e.jsx("br",{}),"Phone: ",r.requesterPhone,e.jsx("br",{}),r.requesterFax&&e.jsxs(e.Fragment,{children:["Fax: ",r.requesterFax,e.jsx("br",{})]}),"Email: ",r.requesterEmail,e.jsx("br",{}),"Date: ",r.requestDate?_(new Date(r.requestDate),"PPP"):"Not provided"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Copyright Owner:"}),e.jsx("br",{}),"Name: ",r.recipientName,e.jsx("br",{}),"Company: ",r.recipientCompany,e.jsx("br",{}),"Address: ",r.recipientStreetAddress,e.jsx("br",{}),"City/State/ZIP: ",r.recipientCityStateZip]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Work Details:"}),e.jsx("br",{}),"Title: ",r.titleOfWork,e.jsx("br",{}),"Author/Creator: ",r.authorCreator,e.jsx("br",{}),"Material to Use: ",r.excerptMaterial,e.jsx("br",{}),"Signatory: ",r.printedName]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:e.jsx("p",{className:"text-center mb-2",children:"By generating this document, you confirm the accuracy of the information provided. This document will serve as your formal Copyright Permission Request letter."})})]}),$=()=>{switch(l){case 1:return"Location Information";case 2:return"Your Contact Information";case 3:return"Copyright Owner Details";case 4:return"Work & Usage Details";default:return""}},Y=()=>{switch(l){case 1:return"Select your country and state/province for this request";case 2:return"Enter your contact information for the request header";case 3:return"Provide details about the copyright owner or rights holder";case 4:return"Specify the work and material you wish to use";default:return""}};return Z?e.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm",children:e.jsxs(S,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:[e.jsxs(q,{className:"text-center",children:[e.jsx(N,{className:"text-xl text-green-600",children:"Copyright Permission Request"}),e.jsx(F,{children:"Review your copyright permission request details before generating the final document."})]}),e.jsx(b,{className:"space-y-4",children:z()}),e.jsxs(w,{className:"flex justify-between",children:[e.jsx(h,{variant:"outline",onClick:()=>{m(1),j(!1),g({state:"",country:"",requesterFullName:"",requesterStreetAddress:"",requesterCityStateZip:"",requesterPhone:"",requesterFax:"",requesterEmail:"",requestDate:"",recipientName:"",recipientCompany:"",recipientStreetAddress:"",recipientCityStateZip:"",titleOfWork:"",authorCreator:"",excerptMaterial:"",printedName:""})},children:"Start Over"}),e.jsxs(h,{onClick:v,children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Generate PDF"]})]})]})}):l===5?e.jsx(ae,{onBack:()=>m(4),onGenerate:v,documentType:"Copyright Permission Request",isGenerating:R}):e.jsx("div",{className:"bg-gray-50 min-h-0 bg-white rounded-lg shadow-sm p-4",children:e.jsxs(S,{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm",children:[e.jsxs(q,{children:[e.jsx(N,{className:"text-xl",children:$()}),e.jsxs(F,{children:[Y(),e.jsxs("div",{className:"mt-2 text-sm",children:["Step ",l," of 4"]})]}),l===1&&e.jsx("div",{className:"mt-3",children:e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>x("/copyright-permission-info"),className:"text-orange-600 border-orange-200 hover:bg-orange-50 hover:border-orange-300",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Learn More About Copyright Permission Requests"]})})]}),e.jsx(b,{className:"text-black",children:W()}),l!==5&&e.jsxs(w,{className:"flex justify-between",children:[e.jsxs(h,{variant:"outline",onClick:L,disabled:l===1,children:[e.jsx(X,{className:"w-4 h-4 mr-2"})," Back"]}),e.jsx(h,{onClick:O,disabled:!f(),children:l===4?e.jsxs(e.Fragment,{children:["Complete ",e.jsx(ee,{className:"w-4 h-4 ml-2"})]}):e.jsxs(e.Fragment,{children:["Next ",e.jsx(te,{className:"w-4 h-4 ml-2"})]})})]})]})})};export{Ne as default};
